(function(){function a(b){return b.replace(/<.[^<>]*?>/g," ").replace(/&nbsp;|&#160;/gi," ").replace(/[0-9.(),;:!?%#$'"_+=\/-]*/g,"")}jQuery.validator.addMethod("maxWords",function(c,b,d){return this.optional(b)||a(c).match(/\b\w+\b/g).length<d},jQuery.validator.format("Please enter {0} words or less."));jQuery.validator.addMethod("minWords",function(c,b,d){return this.optional(b)||a(c).match(/\b\w+\b/g).length>=d},jQuery.validator.format("Please enter at least {0} words."));jQuery.validator.addMethod("rangeWords",function(c,b,d){return this.optional(b)||a(c).match(/\b\w+\b/g).length>=d[0]&&c.match(/bw+b/g).length<d[1]},jQuery.validator.format("Please enter between {0} and {1} words."))})();jQuery.validator.addMethod("letterswithbasicpunc",function(b,a){return this.optional(a)||/^[a-z-.,()'\"\s]+$/i.test(b)},"Letters or punctuation only please");jQuery.validator.addMethod("alphanumeric",function(b,a){return this.optional(a)||/^(\w|\s)+$/i.test(b)},"Letters, numbers, spaces or underscores only please");jQuery.validator.addMethod("lettersonly",function(b,a){return this.optional(a)||/^[a-z]+$/i.test(b)},"Letters only please");jQuery.validator.addMethod("nowhitespace",function(b,a){return this.optional(a)||/^\S+$/i.test(b)},"No white space please");jQuery.validator.addMethod("ziprange",function(b,a){return this.optional(a)||/^90[2-5]\d\{2}-\d{4}$/.test(b)},"Your ZIP-code must be in the range 902xx-xxxx to 905-xx-xxxx");jQuery.validator.addMethod("integer",function(b,a){return this.optional(a)||/^-?\d+$/.test(b)},"A positive or negative non-decimal number please");jQuery.validator.addMethod("vinUS",function(o){if(o.length!=17){return false}var h,a,l,j,b,k;var c=["A","B","C","D","E","F","G","H","J","K","L","M","N","P","R","S","T","U","V","W","X","Y","Z"];var m=[1,2,3,4,5,6,7,8,1,2,3,4,5,7,9,2,3,4,5,6,7,8,9];var g=[8,7,6,5,4,3,2,10,0,9,8,7,6,5,4,3,2];var e=0;for(h=0;h<17;h++){j=g[h];l=o.slice(h,h+1);if(h==8){k=l}if(!isNaN(l)){l*=j}else{for(a=0;a<c.length;a++){if(l.toUpperCase()===c[a]){l=m[a];l*=j;if(isNaN(k)&&a==8){k=c[a]}break}}}e+=l}b=e%11;if(b==10){b="X"}if(b==k){return true}return false},"The specified vehicle identification number (VIN) is invalid.");jQuery.validator.addMethod("dateITA",function(e,c){var a=false;var g=/^\d{1,2}\/\d{1,2}\/\d{4}$/;if(g.test(e)){var j=e.split("/");var d=parseInt(j[0],10);var b=parseInt(j[1],10);var f=parseInt(j[2],10);var h=new Date(f,b-1,d);if((h.getFullYear()==f)&&(h.getMonth()==b-1)&&(h.getDate()==d)){a=true}else{a=false}}else{a=false}return this.optional(c)||a},"Please enter a correct date");jQuery.validator.addMethod("dateNL",function(b,a){return this.optional(a)||/^\d\d?[\.\/-]\d\d?[\.\/-]\d\d\d?\d?$/.test(b)},"Vul hier een geldige datum in.");jQuery.validator.addMethod("time",function(b,a){return this.optional(a)||/^([01][0-9])|(2[0123]):([0-5])([0-9])$/.test(b)},"Please enter a valid time, between 00:00 and 23:59");jQuery.validator.addMethod("phoneUS",function(a,b){a=a.replace(/\s+/g,"");return this.optional(b)||a.length>9&&a.match(/^(1-?)?(\([2-9]\d{2}\)|[2-9]\d{2})-?[2-9]\d{2}-?\d{4}$/)},"Please specify a valid phone number");jQuery.validator.addMethod("phoneUK",function(a,b){return this.optional(b)||a.length>9&&a.match(/^(\(?(0|\+44)[1-9]{1}\d{1,4}?\)?\s?\d{3,4}\s?\d{3,4})$/)},"Please specify a valid phone number");jQuery.validator.addMethod("mobileUK",function(a,b){return this.optional(b)||a.length>9&&a.match(/^((0|\+44)7(5|6|7|8|9){1}\d{2}\s?\d{6})$/)},"Please specify a valid mobile number");jQuery.validator.addMethod("strippedminlength",function(b,a,c){return jQuery(b).text().length>=c},jQuery.validator.format("Please enter at least {0} characters"));jQuery.validator.addMethod("email2",function(b,a,c){return this.optional(a)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)*(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(b)},jQuery.validator.messages.email);jQuery.validator.addMethod("url2",function(b,a,c){return this.optional(a)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)*(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(b)},jQuery.validator.messages.url);jQuery.validator.addMethod("creditcardtypes",function(b,a,c){if(/[^0-9-]+/.test(b)){return false}b=b.replace(/\D/g,"");var d=0;if(c.mastercard){d|=1}if(c.visa){d|=2}if(c.amex){d|=4}if(c.dinersclub){d|=8}if(c.enroute){d|=16}if(c.discover){d|=32}if(c.jcb){d|=64}if(c.unknown){d|=128}if(c.all){d=1|2|4|8|16|32|64|128}if(d&1&&/^(51|52|53|54|55)/.test(b)){return b.length==16}if(d&2&&/^(4)/.test(b)){return b.length==16}if(d&4&&/^(34|37)/.test(b)){return b.length==15}if(d&8&&/^(300|301|302|303|304|305|36|38)/.test(b)){return b.length==14}if(d&16&&/^(2014|2149)/.test(b)){return b.length==15}if(d&32&&/^(6011)/.test(b)){return b.length==16}if(d&64&&/^(3)/.test(b)){return b.length==16}if(d&64&&/^(2131|1800)/.test(b)){return b.length==15}if(d&128){return true}return false},"Please enter a valid credit card number.");var fluid_1_4=fluid_1_4||{};var fluid=fluid||fluid_1_4;(function(f,d){var a="fluid-scoped-data";d.getScopedData=function(j,g){var h=f(j).data(a);return h?h[g]:undefined};d.setScopedData=function(j,g,h){f(j).each(function(){var k=f.data(this,a)||{};k[g]=h;f.data(this,a,k)})};var b=null;f(document).bind("focusin",function(g){b=g.target});d.getLastFocusedElement=function(){return b};var c="enablement";d.enabled=function(h,g){h=f(h);if(g===undefined){return d.getScopedData(h,c)!==false}else{f("*",h).add(h).each(function(){if(d.getScopedData(this,c)!==undefined){d.setScopedData(this,c,g)}else{if(/select|textarea|input/i.test(this.nodeName)){f(this).prop("disabled",!g)}}});d.setScopedData(h,c,g)}};d.initEnablement=function(g){d.setScopedData(g,c,true)};function e(h,g){h=f(h);h.trigger("fluid-"+g);h[g]()}f.each(["focus","blur"],function(h,g){d[g]=function(j){e(j,g)}})})(jQuery,fluid_1_4);(function(a,b){b.version="Infusion 1.4";b.environment={fluid:b};var c=window||{};var f=[true];b.describeActivity=function(){return[]};b.fail=function(n){b.setLogging(true);b.log.apply(null,["ASSERTION FAILED: "].concat(b.makeArray(arguments)).concat(b.describeActivity()));if(f[0]){throw new Error(n)}else{n.fail()}};b.pushSoftFailure=function(n){if(typeof(n)==="boolean"){f.unshift(n)}else{if(n===-1){f.shift()}}};b.notrycatch=false;b.tryCatch=function(r,n,p){p=p||b.identity;if(b.notrycatch){var o=r();p();return o}else{try{return r()}catch(q){if(n){n(q)}else{throw (q)}}finally{p()}}};b.expect=function(o,n,p){b.transform(b.makeArray(n),function(q){if(typeof p[q]==="undefined"){b.fail(o+" missing required parameter "+q)}})};var m;b.isLogging=function(){return m};b.setLogging=function(n){if(typeof n==="boolean"){m=n}else{m=false}};b.applyHostFunction=function(q,p,o){if(p.apply){p.apply(q,o)}else{var n=Function.prototype.bind.call(p,q);n.apply(q,o)}};b.log=function(p){if(m){var o=b.renderTimestamp(new Date())+":  ";var n=[o].concat(b.makeArray(arguments));var q=n.join("");if(typeof(console)!=="undefined"){if(console.debug){b.applyHostFunction(console,console.debug,n)}else{if(typeof(console.log)==="function"){b.applyHostFunction(console,console.log,n)}else{console.log(q)}}}else{if(typeof(YAHOO)!=="undefined"){YAHOO.log(q)}else{if(typeof(opera)!=="undefined"){opera.postError(q)}}}}};b.wrap=function(n){return((!n||n.jquery)?n:a(n))};b.unwrap=function(n){return n&&n.jquery&&n.length===1?n[0]:n};b.identity=function(n){return n};b.isValue=function(n){return n!==undefined&&n!==null};b.isPrimitive=function(n){var o=typeof(n);return !n||o==="string"||o==="boolean"||o==="number"||o==="function"};b.isDOMNode=function(n){return n&&typeof(n.nodeType)==="number"};b.isArrayable=function(n){return n&&!b.isPrimitive(n)&&typeof(n.length)==="number"};b.freshContainer=function(n){return b.isArrayable(n)?[]:{}};b.copy=function(n){if(b.isPrimitive(n)){return n}return a.extend(true,b.freshContainer(n),n)};b.makeArray=function(n){if(n===null||n===undefined){return[]}else{return a.makeArray(n)}};function k(s,r,q,p){var n=s[q];for(var o=0;o<p.length-1;++o){n=p[o+1](n,q)}r[q]=n}b.transform=function(q){var p=b.freshContainer(q);if(b.isArrayable(q)){for(var o=0;o<q.length;++o){k(q,p,o,arguments)}}else{for(var n in q){k(q,p,n,arguments)}}return p};b.each=function(q,p){if(b.isArrayable(q)){for(var o=0;o<q.length;++o){p(q[o],o)}}else{for(var n in q){p(q[n],n)}}};b.find=function(r,q,s){var n;if(b.isArrayable(r)){for(var p=0;p<r.length;++p){n=q(r[p],p);if(n!==undefined){return n}}}else{for(var o in r){n=q(r[o],o);if(n!==undefined){return n}}}return s};b.accumulate=function(q,p,n){for(var o=0;o<q.length;++o){n=p(q[o],n,o)}return n};b.remove_if=function(q,p){if(b.isArrayable(q)){for(var o=0;o<q.length;++o){if(p(q[o],o)){q.splice(o,1);--o}}}else{for(var n in q){if(p(q[n],n)){delete q[n]}}}return q};b.filterKeys=function(p,o,n){return b.remove_if(a.extend({},p),function(r,q){return n^(a.inArray(q,o)===-1)})};b.censorKeys=function(n,o){return b.filterKeys(n,o,true)};b.keys=function(o){var n=[];b.each(o,function(q,p){n.push(p)});return n};b.contains=function(o,n){return o?b.find(o,function(p,q){if(n===p){return true}}):undefined};b.keyForValue=function(o,n){return b.find(o,function(p,q){if(n===p){return q}})};b.findKeyInObject=b.keyForValue;b.arrayToHash=function(o){var n={};b.each(o,function(p){n[p]=true});return n};b.clear=function(o){if(b.isArrayable(o)){o.length=0}else{for(var n in o){delete o[n]}}};b.model={};b.VALUE={type:"fluid.marker",value:"VALUE"};b.NO_VALUE={type:"fluid.marker",value:"NO_VALUE"};b.EXPAND={type:"fluid.marker",value:"EXPAND"};b.EXPAND_NOW={type:"fluid.marker",value:"EXPAND_NOW"};b.isMarker=function(n,o){if(!n||typeof(n)!=="object"||n.type!=="fluid.marker"){return false}if(!o){return true}return n===o};b.model.copyModel=function(o,n){b.clear(o);a.extend(true,o,n)};b.model.parseEL=function(n){return n===""?[]:String(n).split(".")};b.model.composePath=function(n,o){return n===""?o:(o===""?n:n+"."+o)};b.model.composeSegments=function(){return a.makeArray(arguments).join(".")};b.path=b.model.composeSegments;b.composePath=b.model.composePath;b.model.environmentStrategy=function(n){return{init:function(){var o=n;return function(p,s,q){var r;if(o&&o[s]){r=o[s]}o=null;return r}}}};b.model.defaultCreatorStrategy=function(n,o){if(n[o]===undefined){n[o]={};return n[o]}};b.model.defaultFetchStrategy=function(n,o){return o===""?n:n[o]};b.model.funcResolverStrategy=function(n,o){if(n.resolvePathSegment){return n.resolvePathSegment(o)}};b.model.applyStrategy=function(q,n,p,o){if(typeof(q)==="function"){return q(n,p,o)}else{if(q&&q.next){return q.next(n,p,o)}}};b.model.initStrategy=function(o,n,p){return o.init?o.init(p?p[n]:undefined):o};b.model.makeTrundler=function(n,o,q){var p={root:n,strategies:b.isArrayable(o)?o:b.transform(o.strategies,function(s,r){return b.model.initStrategy(s,r,q)})};p.trundle=function(u,r){r=r||0;var s=b.model.makeTrundler(p.root,o,p.strategies);s.segs=b.model.parseEL(u);s.index=0;s.step(s.segs.length-r);return s};p.next=function(){if(!p.root){return}var u;for(var r=0;r<p.strategies.length;++r){var s=b.model.applyStrategy(p.strategies[r],p.root,p.segs[p.index],p.index);if(u===undefined){u=s}}if(u===b.NO_VALUE){u=undefined}p.root=u;++p.index};p.step=function(r){for(var s=0;s<r;++s){p.next()}p.last=p.segs[p.index]};return p};b.model.defaultSetConfig={strategies:[b.model.funcResolverStrategy,b.model.defaultFetchStrategy,b.model.defaultCreatorStrategy]};b.model.trundleImpl=function(o,r,p,n){if(typeof(r)==="string"){o=o.trundle(r,n)}else{var q=r.type||"default";var s=p.resolvers[q];if(!s){b.fail("Unable to find resolver of type "+q)}o=s(r,o)||{};if(r.path&&o.trundle&&o.root!==undefined){o=b.model.trundleImpl(o,r.path,p,n)}}return o};b.model.trundle=function(n,r,q,p){r=r||"";q=q||b.model.defaultGetConfig;var o=b.model.makeTrundler(n,q);return b.model.trundleImpl(o,r,q,p)};b.model.getPenultimate=function(n,p,o){return b.model.trundle(n,p,o,1)};b.set=function(n,q,r,p){p=p||b.model.defaultSetConfig;var o=b.model.getPenultimate(n,q,p);o.root[o.last]=r};b.model.defaultGetConfig={strategies:[b.model.funcResolverStrategy,b.model.defaultFetchStrategy]};b.get=function(n,p,o){return b.model.trundle(n,p,o).root};b.model.setBeanValue=b.set;b.model.getBeanValue=b.get;b.getGlobalValue=function(p,o){if(p){o=o||b.environment;var n=b.model.environmentStrategy(o);return b.get(c,p,{strategies:[n].concat(b.model.defaultGetConfig.strategies)})}};b.invokeGlobalFunction=function(o,p,n){var q=b.getGlobalValue(o,n);if(!q){b.fail("Error invoking global function: "+o+" could not be located")}else{return q.apply(null,p)}};b.registerGlobalFunction=function(o,q,p){p=p||b.environment;var n=b.model.environmentStrategy(p);b.set(c,o,q,{strategies:[n].concat(b.model.defaultSetConfig.strategies)})};b.setGlobalValue=b.registerGlobalFunction;b.registerNamespace=function(p,n){n=n||b.environment;var o=b.getGlobalValue(p,n);if(!o){o={};b.setGlobalValue(p,o,n)}return o};b.dumpEl=b.identity;b.renderTimestamp=b.identity;b.registerNamespace("fluid.event");b.generateUniquePrefix=function(){return(Math.floor(Math.random()*1000000000000)).toString(36)+"-"};var e=b.generateUniquePrefix();var g=1;b.allocateGuid=function(){return e+(g++)};b.event.identifyListener=function(n){if(typeof(n)==="string"){return n}if(!n.$$guid){n.$$guid=b.allocateGuid()}return n.$$guid};b.event.mapPriority=function(n,o){return(n===null||n===undefined?-o:(n==="last"?-Number.MAX_VALUE:(n==="first"?Number.MAX_VALUE:n)))};b.event.listenerComparator=function(o,n){return n.priority-o.priority};b.event.sortListeners=function(n){var o=[];b.each(n,function(p){o.push(p)});return o.sort(b.event.listenerComparator)};b.event.getEventFirer=function(p,q){var o={};var n=[];function r(w,u,A){for(var v in w){var s=w[v];var y=s.listener;if(typeof(y)==="string"){var z=b.getGlobalValue(y);if(!z){b.fail("Unable to look up name "+y+" as a global function")}else{y=s.listener=z}}if(s.predicate&&!s.predicate(y,u)){continue}var x=b.tryCatch(function(){var B=(A?A(y):y).apply(null,u);if(q&&B===false){return false}if(p){return B}},function(B){b.log("FireEvent received exception "+B.message+" e "+B+" firing to listener "+v);throw (B)});if(x!==undefined){return x}}}return{addListener:function(w,v,s,u){if(!w){return}if(p){v="unicast"}if(!v){v=b.event.identifyListener(w)}o[v]={listener:w,predicate:s,priority:b.event.mapPriority(u,n.length)};n=b.event.sortListeners(o)},removeListener:function(s){if(typeof(s)==="string"){delete o[s]}else{if(s.$$guid){delete o[s.$$guid]}}n=b.event.sortListeners(o)},fireToListeners:function(u,s,v){return r(u,s,v)},fire:function(){return r(n,arguments)}}};b.event.addListenerToFirer=function(p,q,o){if(b.isArrayable(q)){for(var n=0;n<q.length;++n){b.event.addListenerToFirer(p,q[n],o)}}else{if(typeof(q)==="function"||typeof(q)==="string"){p.addListener(q,o)}else{if(q&&typeof(q)==="object"){p.addListener(q.listener,o||q.namespace,q.predicate,q.priority)}}}};b.mergeListeners=function(p,n,o){b.each(o,function(u,q){var s,r;if(q.charAt(0)==="{"){if(!b.expandOptions){b.fail("fluid.expandOptions could not be loaded - please include FluidIoC.js in order to operate IoC-driven event with descriptor "+q)}s=b.expandOptions(q,p)}else{var v=q.indexOf(".");if(v!==-1){r=q.substring(v+1);q=q.substring(0,v)}if(!n[q]){b.fail("Listener registered for event "+q+" which is not defined for this component");n[q]=b.event.getEventFirer()}s=n[q]}b.event.addListenerToFirer(s,u,r)})};function j(p,n,o){b.each(n,function(q,r){var u=q&&(typeof(q)!=="string"||q.charAt(0)==="{");var s;if(u&&o==="IoC"){if(!b.event.resolveEvent){b.fail("fluid.event.resolveEvent could not be loaded - please include FluidIoC.js in order to operate IoC-driven event with descriptor ",q)}else{s=b.event.resolveEvent(p,r,q)}}else{if(o==="flat"){s=b.event.getEventFirer(q==="unicast",q==="preventable")}}if(s){p.events[r]=s}})}b.instantiateFirers=function(p,n){p.events={};j(p,n.events,"flat");j(p,n.events,"IoC");var o=b.expandOptions?b.expandOptions(n.listeners,p):n.listeners;b.mergeListeners(p,p.events,o)};b.mergeListenersPolicy=function(p,o){var n=p||{};b.each(o,function(r,q){n[q]=b.makeArray(o[q]).concat(b.makeArray(r))});return n};var h={};var l=function(n,o){o=b.makeArray(o);b.each(o,function(q){var p=b.rawDefaults(q)||{};n.gradeHash[q]=true;n.gradeChain.push(q);n.optionsChain.push(p);b.each(p.gradeNames,function(r){if(!n.gradeHash[r]){l(n,r)}})});return n};b.resolveGradeStructure=function(n){var o={gradeChain:[],gradeHash:{},optionsChain:[]};return l(o,n)};b.lifecycleFunctions={preInitFunction:true,postInitFunction:true,finalInitFunction:true};b.mergeLifecycleFunction=function(o,n){b.event.addListenerToFirer(o,n);return o};b.rootMergePolicy=b.transform(b.lifecycleFunctions,function(){return b.mergeLifecycleFunction});b.makeLifecycleFirers=function(){return b.transform(b.lifecycleFunctions,function(){return b.event.getEventFirer()})};b.resolveGrade=function(q,o){var r=[q];if(o){var p=b.resolveGradeStructure(o);r=p.optionsChain.reverse().concat(r).concat({gradeNames:p.gradeChain})}r=[b.rootMergePolicy,b.makeLifecycleFirers()].concat(r);var n=b.merge.apply(null,r);return n};b.resolveGradedOptions=function(n){var o=b.rawDefaults(n);if(!o){return o}else{return b.resolveGrade(o,o.gradeNames)}};b.rawDefaults=function(n,o){if(o===undefined){return h[n]}else{h[n]=o}};b.hasGrade=function(n,o){return !n||!n.gradeNames?false:b.contains(n.gradeNames,o)};b.defaults=function(){var p=0;if(typeof arguments[0]==="boolean"){p=1}var n=(p===0?"":"*.global-")+arguments[p];var o=arguments[p+1];if(o===undefined){return b.resolveGradedOptions(n)}else{if(o&&o.options){b.fail('Probable error in options structure with option named "options" - perhaps you meant to write these options at top level in fluid.defaults?')}b.rawDefaults(n,o);if(b.hasGrade(o,"autoInit")){b.makeComponent(n,b.resolveGradedOptions(n))}}};b.makeComponent=function(n,o){if(!o.initFunction||!o.gradeNames){b.fail("Cannot autoInit component "+n+" which does not have an initFunction and gradeName defined")}var p=function(){return b.initComponent(n,arguments)};var q=b.getGlobalValue(n);if(q){a.extend(p,q)}b.setGlobalValue(n,p)};b.makeComponents=function(o,n){b.each(o,function(r,q){var p={gradeNames:b.makeArray(r).concat(["autoInit"])};b.defaults(q,p)})};b.defaults("fluid.littleComponent",{initFunction:"fluid.initLittleComponent",argumentMap:{options:0}});b.defaults("fluid.eventedComponent",{gradeNames:["fluid.littleComponent"],mergePolicy:{listeners:"fluid.mergeListenersPolicy"}});b.preInitModelComponent=function(n){n.model=n.options.model||{};n.applier=n.options.applier||b.makeChangeApplier(n.model,n.options.changeApplierOptions)};b.defaults("fluid.modelComponent",{gradeNames:["fluid.littleComponent"],preInitFunction:{namespace:"preInitModelComponent",listener:"fluid.preInitModelComponent"},mergePolicy:{model:"preserve",applier:"nomerge"}});b.defaults("fluid.viewComponent",{gradeNames:["fluid.littleComponent","fluid.modelComponent","fluid.eventedComponent"],initFunction:"fluid.initView",argumentMap:{container:0,options:1}});b.guardCircularity=function(q,p,o,n){if(p&&p.id){if(!q[p.id]){q[p.id]=p}else{if(q[p.id]===p){b.fail("Circularity in options "+o+" - component with typename "+p.typeName+" and id "+p.id+" has already been seen"+n)}}}};b.mergePolicyIs=function(n,o){return typeof(n)==="string"&&a.inArray(o,n.split(/\s*,\s*/))!==-1};function d(u,x,s,n,y,r){if(typeof(y)==="function"){y.call(null,s,n);return s}if(b.mergePolicyIs(y,"replace")){b.clear(s)}b.guardCircularity(r.seenIds,n,"merging"," when evaluating path "+x+' - please protect components from merging using the "nomerge" merge policy');for(var p in n){var z=(x?x+".":"")+p;var v=u&&typeof(u)!=="string"?u[z]:u;var w=s[p];var q=n[p];var o=b.isPrimitive(w);if(q!==undefined){if(q!==null&&typeof(q)==="object"&&!b.isDOMNode(q)&&!q.jquery&&q!==b.VALUE&&!b.mergePolicyIs(v,"preserve")&&!b.mergePolicyIs(v,"nomerge")&&!b.mergePolicyIs(v,"noexpand")){if(o){s[p]=w=b.freshContainer(q)}d(u,z,w,q,v,r)}else{if(typeof(v)==="function"){s[p]=v.call(null,w,q,p)}else{if(!b.isValue(w)||!b.mergePolicyIs(v,"reverse")){s[p]=b.isValue(w)&&b.mergePolicyIs(v,"preserve")?b.model.mergeModel(w,q):q}}}}}return s}b.merge=function(r,q){var w="";for(var p=2;p<arguments.length;++p){var n=arguments[p];if(n!==null&&n!==undefined){d(r,w,q,n,r?r[""]:null,{seenIds:{}})}}if(r&&typeof(r)!=="string"){for(var u in r){var v=r[u];if(typeof(v)==="string"&&v!=="replace"&&v!=="preserve"){var o=b.get(q,u);if(o===null||o===undefined){var s=b.get(q,v);b.set(q,u,s)}}}}return q};b.transformOptions=function(q,p){b.expect("Options transformation record",["transformer","config"],p);var n=b.getGlobalValue(p.transformer);var o=b.transform(q,function(s,r){return r===0?s:n.call(null,s,p.config)});return o};b.lastTransformationRecord=function(n){for(var o=n.length-1;o>=0;--o){if(n[o]&&n[o].transformOptions){return n[o].transformOptions}}};b.mergeComponentOptions=function(v,x,r,p){var o=b.defaults(x);var s=a.extend({},b.rootMergePolicy,o?o.mergePolicy:{});var n=o&&o.gradeNames;var w;if(!n){o=b.censorKeys(o,b.keys(b.lifecycleFunctions));w=[s,p]}else{w=[s]}var q;if(b.expandComponentOptions){q=b.expandComponentOptions(o,r,v)}else{q=[o,r]}var u=b.lastTransformationRecord(q);if(u){q=b.transformOptions(q,u)}w=w.concat(q);v.options=b.merge.apply(null,w)};b.COMPONENT_OPTIONS={type:"fluid.marker",value:"COMPONENT_OPTIONS"};b.emptySubcomponent=function(n){var p={};n=a.makeArray(n);var q=function(){};for(var o=0;o<n.length;++o){p[n[o]]=q}return p};b.computeNickName=function(o){var n=b.model.parseEL(o);return n[n.length-1]};b.typeTag=function(n){return n?{typeName:n,id:b.allocateGuid()}:null};b.typeFount=function(n){var o=b.initLittleComponent("fluid.typeFount",n);return b.typeTag(o.options.targetTypeName)};b.initLittleComponent=function(o,n,q){var p=b.typeTag(o);p.nickName=n&&n.nickName?n.nickName:b.computeNickName(p.typeName);q=q||{gradeNames:"fluid.littleComponent"};q=b.resolveGrade({},q.gradeNames);b.mergeComponentOptions(p,o,n,q);p.options.preInitFunction.fire(p);if(b.hasGrade(p.options,"fluid.eventedComponent")){b.instantiateFirers(p,p.options)}if(!b.hasGrade(p.options,"autoInit")){b.clearLifecycleFunctions(p.options)}return p};b.clearLifecycleFunctions=function(n){b.each(b.lifecycleFunctions,function(p,o){delete n[o]});delete n.initFunction};b.diagnoseFailedView=function(o,s,q,p){if(!s&&b.hasGrade(q,"fluid.viewComponent")){var n=b.wrap(p[1]);var r="Instantiation of autoInit component with type "+o+" failed, since ";if(n.length===0){b.fail(r+'selector "',p[1],'" did not match any markup in the document')}else{b.fail(r+" component creator function did not return a value")}}};b.initComponent=function(n,r){var p=b.defaults(n);if(!p.gradeNames){b.fail("Cannot initialise component "+n+" which has no gradeName registered")}var o=[n].concat(b.makeArray(r));var q=b.invokeGlobalFunction(p.initFunction,o);b.diagnoseFailedView(n,q,p,o);q.options.postInitFunction.fire(q);if(b.initDependents){b.initDependents(q)}q.options.finalInitFunction.fire(q);b.clearLifecycleFunctions(q.options);return q.options.returnedPath?b.get(q,q.options.returnedPath):q};b.initSubcomponentImpl=function(s,r,p){var q;if(typeof(r)!=="function"){var u=typeof(r)==="string"?r:r.type;var n=b.defaults(true,u);b.merge("reverse",s.options,n);q=u==="fluid.emptySubcomponent"?b.emptySubcomponent(r.options):b.invokeGlobalFunction(u,p)}else{q=r.apply(null,p)}var o=q?q.returnedOptions:null;if(o){b.merge(s.options.mergePolicy,s.options,o);if(o.listeners){b.mergeListeners(s,s.events,o.listeners)}}return q};b.initSubcomponents=function(u,q,o){var s=u.options[q];if(!s){return}var n=a.makeArray(s);var v=-1;var r=[];o=a.makeArray(o);for(var p=0;p<o.length;++p){if(o[p]===b.COMPONENT_OPTIONS){v=p}}for(p=0;p<n.length;++p){s=n[p];if(v!==-1){o[v]=s.options}r[p]=b.initSubcomponentImpl(u,s,o)}return r};b.initSubcomponent=function(p,o,n){return b.initSubcomponents(p,o,n)[0]};b.checkTryCatchParameter=function(){var n=window.location||{search:"",protocol:"file:"};var o=n.search.slice(1).split("&");return b.contains(o,"notrycatch")};b.notrycatch=b.checkTryCatchParameter();b.container=function(p,q){var n=b.wrap(p);if(q&&(!n||n.length===0)){return null}if(!n||!n.jquery||n.length!==1){if(typeof(p)!=="string"){p=n.selector}var o=n.length!==undefined?n.length:0;b.fail((o>1?"More than one ("+o+") container elements were":"No container element was")+" found for selector "+p)}if(!b.isDOMNode(n[0])){b.fail("fluid.container was supplied a non-jQueryable element")}return n};b.createDomBinder=function(o,q){var p={},r={};function s(v,u){return b.allocateSimpleId(u)+"-"+v}function n(w,v,u){p[s(w,v)]=u}r.locate=function(w,y){var u,v,x;u=q[w];v=y?y:o;if(!v){b.fail("DOM binder invoked for selector "+w+" without container")}if(!u){return v}if(typeof(u)==="function"){x=a(u.call(null,b.unwrap(v)))}else{x=a(u,v)}if(x.get(0)===document){x=[]}if(!x.selector){x.selector=u;x.context=v}x.selectorName=w;n(w,v,x);return x};r.fastLocate=function(v,y){var u=y?y:o;var w=s(v,u);var x=p[w];return x?x:r.locate(v,y)};r.clear=function(){p={}};r.refresh=function(x,y){var v=y?y:o;if(typeof x==="string"){x=[x]}if(v.length===undefined){v=[v]}for(var w=0;w<x.length;++w){for(var u=0;u<v.length;++u){r.locate(x[w],v[u])}}};r.resolvePathSegment=r.locate;return r};b.expectFilledSelector=function(n,o){if(n&&n.length===0&&n.jquery){b.fail(o+': selector "'+n.selector+'" with name '+n.selectorName+" returned no results in context "+b.dumpEl(n.context))}};b.initView=function(o,n,r,q){b.expectFilledSelector(n,'Error instantiating component with name "'+o);n=b.container(n,true);if(!n){return null}var p=b.initLittleComponent(o,r,q||{gradeNames:["fluid.viewComponent"]});p.container=n;b.initDomBinder(p);return p};b.initDomBinder=function(n){n.dom=b.createDomBinder(n.container,n.options.selectors);n.locate=n.dom.locate};b.findAncestor=function(n,o){n=b.unwrap(n);while(n){if(o(n)){return n}n=n.parentNode}};b.jById=function(q,p){p=p&&p.nodeType===9?p:document;var n=b.byId(q,p);var o=n?a(n):[];o.selector="#"+q;o.context=p;return o};b.byId=function(p,o){o=o&&o.nodeType===9?o:document;var n=o.getElementById(p);if(n){if(n.id!==p){b.fail("Problem in document structure - picked up element "+b.dumpEl(n)+" for id "+p+" without this id - most likely the element has a name which conflicts with this id")}return n}else{return null}};b.getId=function(n){return b.unwrap(n).id};b.allocateSimpleId=function(o){var n="fluid-id-"+b.allocateGuid();if(!o){return n}o=b.unwrap(o);if(!o.id){o.id=n}return o.id};b.stringToRegExp=function(o,n){return new RegExp(o.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),n)};b.stringTemplate=function(r,n){var p=r;for(var o in n){var q=b.stringToRegExp("%"+o,"g");p=p.replace(q,n[o])}return p};b.messageResolver=function(n){var o=b.initLittleComponent("fluid.messageResolver",n);o.messageBase=o.options.parseFunc(o.options.messageBase);o.lookup=function(q){var p=b.messageResolver.resolveOne(o.messageBase,q);if(p===undefined){return b.find(o.options.parents,function(r){return r.lookup(q)})}else{return{template:p,resolveFunc:o.options.resolveFunc}}};o.resolve=function(p,q){if(!p){return"[No messagecodes provided]"}p=b.makeArray(p);var r=o.lookup(p);return r?r.resolveFunc(r.template,q):"[Message string for key "+p[0]+" not found]"};return o};b.defaults("fluid.messageResolver",{mergePolicy:{messageBase:"preserve"},resolveFunc:b.stringTemplate,parseFunc:b.identity,messageBase:{},parents:[]});b.messageResolver.resolveOne=function(r,n){for(var o=0;o<n.length;++o){var q=n[o];var p=r[q];if(p!==undefined){return p}}};b.messageLocator=function(o,n){var p=b.messageResolver({messageBase:o,resolveFunc:n});return function(q,r){return p.resolve(q,r)}}})(jQuery,fluid_1_4);(function(c,b){b.dom=b.dom||{};var a=function(d){if(d.node.firstChild){d.node=d.node.firstChild;d.depth+=1;return d}while(d.node){if(d.node.nextSibling){d.node=d.node.nextSibling;return d}d.node=d.node.parentNode;d.depth-=1}return d};b.dom.iterateDom=function(h,g,f){var e={node:h,depth:0};var d=h;var j;while(e.node!==null&&e.depth>=0&&e.depth<b.dom.iterateDom.DOM_BAIL_DEPTH){j=null;if(e.node.nodeType===1||f){j=g(e.node,e.depth)}if(j){if(j==="delete"){e.node.parentNode.removeChild(e.node);e.node=d}else{if(j==="stop"){return e.node}}}d=e.node;e=a(e)}};b.dom.iterateDom.DOM_BAIL_DEPTH=256;b.dom.isContainer=function(d,e){for(;e;e=e.parentNode){if(d===e){return true}}return false};b.dom.getElementText=function(f){var d=f.childNodes;var g="";for(var e=0;e<d.length;++e){var h=d[e];if(h.nodeType===3){g=g+h.nodeValue}}return g}})(jQuery,fluid_1_4);(function(e,d){d.BINDING_ROOT_KEY="fluid-binding-root";d.findData=function(j,h){while(j){var k=e.data(j,h);if(k){return k}j=j.parentNode}};d.bindFossils=function(j,k,h){e.data(j,d.BINDING_ROOT_KEY,{data:k,fossils:h})};d.boundPathForNode=function(l,k){l=d.unwrap(l);var j=l.name||l.id;var h=k[j];return h?h.EL:null};d.findForm=function(h){return d.findAncestor(h,function(j){return j.nodeName.toLowerCase()==="form"})};d.value=function(p,o){var m=d.unwrap(p);var h=false;if(m.nodeType===undefined&&m.length>1){m=m[0];h=true}if("input"!==m.nodeName.toLowerCase()||!/radio|checkbox/.test(m.type)){return o===undefined?e(m).val():e(m).val(o)}var j=m.name;if(j===undefined){d.fail("Cannot acquire value from node "+d.dumpEl(m)+" which does not have name attribute set")}var n;if(h){n=p}else{n=document.getElementsByName(j);var k=d.findForm(m);n=e.grep(n,function(q){if(q.name!==j){return false}return !k||d.dom.isContainer(k,q)})}if(o!==undefined){if(typeof(o)==="boolean"){o=(o?"true":"false")}e.each(n,function(){this.checked=(o instanceof Array?e.inArray(this.value,o)!==-1:o===this.value)})}else{var l=e.map(n,function(q){return q.checked?q.value:null});return m.type==="radio"?l[0]:l}};d.applyChange=function(n,o,k){n=d.unwrap(n);if(o===undefined){o=d.value(n)}if(n.nodeType===undefined&&n.length>0){n=n[0]}var h=d.findData(n,d.BINDING_ROOT_KEY);if(!h){d.fail("Bound data could not be discovered in any node above "+d.dumpEl(n))}var j=n.name;var l=h.fossils[j];if(!l){d.fail("No fossil discovered for name "+j+" in fossil record above "+d.dumpEl(n))}if(typeof(l.oldvalue)==="boolean"){o=o[0]?true:false}var m=h.fossils[j].EL;if(k){k.fireChangeRequest({path:m,value:o,source:n.id})}else{d.set(h.data,m,o)}};d.pathUtil={};var g=function(k,n,j){var l=null;if(k){l=""}var m=false;var h=n.length;for(;j<h;++j){var o=n.charAt(j);if(!m){if(o==="."){break}else{if(o==="\\"){m=true}else{if(l!==null){l+=o}}}}else{m=false;if(l!==null){k+=o}}}if(l!==null){k[0]=l}return j};var a=[];d.pathUtil.getPathSegment=function(j,h){g(a,j,h);return a[0]};d.pathUtil.getHeadPath=function(h){return d.pathUtil.getPathSegment(h,0)};d.pathUtil.getFromHeadPath=function(j){var h=g(null,j,0);return h===j.length?null:j.substring(h+1)};function f(h){return h.lastIndexOf(".")}d.pathUtil.getToTailPath=function(j){var h=f(j);return h===-1?null:j.substring(0,h)};d.pathUtil.getTailPath=function(j){var h=f(j);return d.pathUtil.getPathSegment(j,h+1)};var c=function(k,j){for(var h=0;h<j.length;++h){var l=j.charAt(h);if(l==="."||l==="\\"||l==="}"){k+="\\"}k+=l}return k};d.pathUtil.composePath=function(h,j){if(h.length!==0){h+="."}return c(h,j)};d.pathUtil.matchPath=function(h,l){var k="";while(true){if(!h||l===""){break}if(!l){return null}var j=d.pathUtil.getHeadPath(h);var m=d.pathUtil.getHeadPath(l);if(j!=="*"&&j!==m){return null}k=d.pathUtil.composePath(k,m);h=d.pathUtil.getFromHeadPath(h);l=d.pathUtil.getFromHeadPath(l)}return k};d.model.mergeModel=function(l,k,j){var h=d.copy(k);j=j||d.makeChangeApplier(k);if(!d.isPrimitive(l)){j.fireChangeRequest({type:"ADD",path:"",value:l})}j.fireChangeRequest({type:"MERGE",path:"",value:h});return k};d.model.isNullChange=function(j,l,h){if(l.type==="ADD"){var k=d.get(j,l.path,h);if(k===l.value){return true}}};d.model.applyChangeRequest=function(h,l,k){var j=d.model.getPenultimate(h,l.path,k||d.model.defaultSetConfig);if(l.type==="ADD"||l.type==="MERGE"){if(l.path===""||l.type==="MERGE"){if(l.type==="ADD"){d.clear(j.root)}e.extend(true,l.path===""?j.root:j.root[j.last],l.value)}else{j.root[j.last]=l.value}}else{if(l.type==="DELETE"){if(l.path===""){d.clear(j.root)}else{delete j.root[j.last]}}}};function b(h){h.requestChange=function(m,l,j){var k={path:m,value:l,type:j};h.fireChangeRequest(k)}}d.makeChangeApplier=function(o,y){y=y||{};var n={guards:d.event.getEventFirer(false,true),postGuards:d.event.getEventFirer(false,true),modelChanged:d.event.getEventFirer(false,false)};var r={model:o};function j(A){if(!A){return null}var z=function(B){return function(C,D,F){var E=B(C,D,F);if(E===false){return false}else{if(d.model.isNullChange(C,D)){z.culled=true;return false}}}};return z}function x(D,z){var B=z;var C=false;var A=Number.MAX_VALUE;if(typeof(z)!=="string"){B=z.path;C=z.transactional;if(z.priority!==undefined){A=z.priority}}else{if(B.charAt(0)==="!"){C=true;B=B.substring(1)}}return function(J,I,F){var H=d.event.identifyListener(D);var K=I.guids[H];if(!K){var G=d.pathUtil.matchPath(B,J);if(G!==null){var E={changePath:J,pathSpec:B,listener:D,priority:A,transactional:C};if(F){E.accumulate=[F]}I.guids[H]=E;var L=C?"transListeners":"listeners";I[L].push(E);I.all.push(E)}}else{if(F){if(!K.accumulate){K.accumulate=[]}K.accumulate.push(F)}}}}function q(B,A,z,C,D){return n[B].fireToListeners(A[C],z,D)}function l(A,z){return A.priority-z.priority}function m(C,B,A,z){n[C].fire(B,A,z);A.all.sort(l);A.listeners.sort(l);A.transListeners.sort(l)}function u(){return{guids:{},all:[],listeners:[],transListeners:[]}}function p(B,A){var z=u();m(B,A,z);return z}function w(C,B,A,D){var z=p(C,B);return q(C,z,A,"all",D)}function k(A,z){A[z]={addListener:function(B,D,C){n[z].addListener(x(D,B),C)},removeListener:function(B){n[z].removeListener(B)}}}k(r,"guards");k(r,"postGuards");k(r,"modelChanged");function h(z){if(!z.type){z.type="ADD"}}var v={fireChangeRequest:function(z){r.fireChangeRequest(z,true)}};b(v);r.fireChangeRequest=function(B,E){h(B);var C=E?null:p("guards",B.path);if(C&&C.transListeners.length>0){var A=r.initiate();A.fireChangeRequest(B,C);A.commit()}else{if(!E){var z=q("guards",C,[o,B,v],"listeners");if(z===false){return false}}var D=o;if(!y.thin){D={};d.model.copyModel(D,o)}d.model.applyChangeRequest(o,B,y.resolverSetConfig);w("modelChanged",B.path,[o,D,[B]])}};b(r);function s(D,I,G,F,A){var z=u();for(var C=0;C<G.length;++C){m(D,G[C].path,z,G[C])}for(var B=0;B<z[I].length;++B){var H=z[I][B];if(A){F[A]=H.accumulate}var E=H.listener.apply(null,F);if(E===false){return false}}}r.initiate=function(A){var C=false;var B=[];if(y.thin){A=o}else{A=A||{};d.model.copyModel(A,o)}var D={fireChangeRequest:function(E){h(E);d.model.applyChangeRequest(A,E,y.resolverSetConfig);B.push(E)}};b(D);var z={commit:function(){var F;if(C){return false}var E=s("postGuards","transListeners",B,[A,null,D],1);if(E===false){return false}if(y.thin){F=o}else{F={};d.model.copyModel(F,o);d.clear(o);d.model.copyModel(o,A)}s("modelChanged","all",B,[o,F,null],2)},fireChangeRequest:function(F){h(F);if(y.cullUnchanged&&d.model.isNullChange(o,F,y.resolverGetConfig)){return}var G=j(y.cullUnchanged);var E=w("guards",F.path,[A,F,D],G);if(E===false&&!(G&&G.culled)){C=true}if(!C){if(!(G&&G.culled)){d.model.applyChangeRequest(A,F,y.resolverSetConfig);B.push(F)}}}};b(z);return z};return r};d.makeSuperApplier=function(){var j=[];var h={};h.addSubApplier=function(k,l){j.push({path:k,subApplier:l})};h.fireChangeRequest=function(n){for(var m=0;m<j.length;++m){var o=j[m].path;if(n.path.indexOf(o)===0){var l=n.path.substring(o.length+1);var k=d.copy(n);k.path=l;j[m].subApplier.fireChangeRequest(k)}}};b(h);return h};d.attachModel=function(h,o,m){var k=d.model.parseEL(o);for(var n=0;n<k.length-1;++n){var j=k[n];var l=h[j];if(!l){h[j]=l={}}h=l}h[k[k.length-1]]=m};d.assembleModel=function(h){var j={};var l=d.makeSuperApplier();var k={model:j,applier:l};for(var m in h){var n=h[m];d.attachModel(j,m,n.model);if(n.applier){l.addSubApplier(m,n.applier)}}return k}})(jQuery,fluid_1_4);(function(d,c){c.renderTimestamp=function(f){var g=function(j,k){if(!k){k=2}var h=(j==undefined?"":j.toString());return"00000".substring(5-k+h.length)+h};return g(f.getHours())+":"+g(f.getMinutes())+":"+g(f.getSeconds())+"."+g(f.getMilliseconds(),3)};c.detectStackStyle=function(g){var f="other";var h={offset:0};if(g["arguments"]){f="chrome"}else{if(typeof window!=="undefined"&&window.opera&&g.stacktrace){f="opera10"}else{if(g.stack){f="firefox";h.offset=g.stack.indexOf("Trace exception")===-1?1:0}else{if(typeof window!=="undefined"&&window.opera&&!("stacktrace" in g)){f="opera"}}}}h.style=f;return h};c.obtainException=function(){try{throw new Error("Trace exception")}catch(f){return f}};var e=c.detectStackStyle(c.obtainException());c.registerNamespace("fluid.exceptionDecoders");c.decodeStack=function(){if(e.style!=="firefox"){return null}var f=c.obtainException();return c.exceptionDecoders[e.style](f)};c.exceptionDecoders.firefox=function(g){var f=g.stack.replace(/(?:\n@:0)?\s+$/m,"").replace(/^\(/gm,"{anonymous}(").split("\n");return c.transform(f,function(h){var j=h.indexOf("@");return j===-1?[h]:[h.substring(j+1),h.substring(0,j)]})};c.getCallerInfo=function(g){g=(g||3)-e.offset;var f=c.decodeStack();return f?f[g][0]:null};function a(j,h){var g="";for(var f=0;f<h;++f){g+=j}return g}function b(m,l,h){var f=l+h.indentChars;if(m===null){return"null"}else{if(c.isPrimitive(m)){return JSON.stringify(m)}else{var g=[];if(c.isArrayable(m)){if(m.length===0){return"[]"}for(var k=0;k<m.length;++k){g[k]=b(m[k],f,h)}return"[\n"+f+g.join(",\n"+f)+"\n"+l+"]"}else{var k=0;c.each(m,function(n,j){g[k++]=JSON.stringify(j)+": "+b(n,f,h)});return"{\n"+f+g.join(",\n"+f)+"\n"+l+"}"}}}}c.prettyPrintJSON=function(g,f){f=d.extend({indent:4},f);f.indentChars=a(" ",f.indent);return b(g,"",f)};c.dumpEl=function(g){var h;if(!g){return"null"}if(g.nodeType===3||g.nodeType===8){return"[data: "+g.data+"]"}if(g.nodeType===9){return"[document: location "+g.location+"]"}if(!g.nodeType&&c.isArrayable(g)){h="[";for(var f=0;f<g.length;++f){h+=c.dumpEl(g[f]);if(f<g.length-1){h+=", "}}return h+"]"}g=d(g);h=g.get(0).tagName;if(g.id){h+="#"+g.id}if(g.attr("class")){h+="."+g.attr("class")}return h}})(jQuery,fluid_1_4);(function(d,f){var k="__CURRENTLY_IN_CREATION__";f.isFireBreak=function(r){return r.options&&r.options["fluid.visitComponents.fireBreak"]};f.visitComponentChildren=function(w,x,v,r,y){v=v||{};for(var u in w){var s=w[u];if(!s||!s.typeName||(s.id&&v.visited&&v.visited[s.id])){continue}if(v.visited){v.visited[s.id]=true}if(x(s,u,v,r,y)){return true}if(!f.isFireBreak(s)&&!v.flat){f.visitComponentChildren(s,x,v,r,y+1)}}};var o=function(v,x,s){s=s||{visited:{},flat:true};var r=0;for(var u=v.length-1;u>=0;--u){var w=v[u];if(f.isFireBreak(w)){return}if(w.typeName){s.visited[w.id]=true;if(x(w,"",s,0,0)){return}}if(f.visitComponentChildren(w,x,s,r,1)){return}++r}};function p(u,s,r){return function(y,x){var v=y[x];if(v===undefined){var w=u.idToPath[y.id];v=u.pathToComponent[f.composePath(w,x)];if(v){v[k]=true}}if(v!==undefined){if(v[k]){f.fail("Component "+f.dumpThat(v)+' at path "'+x+'" of parent '+f.dumpThat(y)+" cannot be used for lookup since it is still in creation. Please reorganise your dependencies so that they no longer contain circular references")}}else{if(f.get(y,f.path("options","components",x,"type"))){f.initDependent(y,x);v=y[x]}}return v}}f.dumpThat=function(r,s){return'{ typeName: "'+r.typeName+'" id: '+r.id+"}"};f.dumpThatStack=function(r,u){var s=f.transform(r,function(v){var w=u.idToPath[v.id];return f.dumpThat(v)+(w?(" - path: "+w):"")});return s.join("\n")};f.describeActivity=function(){return f.threadLocal().activityStack||[]};f.pushActivity=function(u,s){if(!s){return u()}var r=f.threadLocal();if(!r.activityStack){r.activityStack=[]}var v=f.makeArray(s);v.push("\n");v.unshift("\n");r.activityStack=v.concat(r.activityStack);return f.tryCatch(u,null,function(){r.activityStack=r.activityStack.slice(v.length)})};f.wrapActivity=function(s,r){return function(){var u=f.makeArray(arguments);var v=f.transform(f.makeArray(r),function(x){if(x.indexOf("arguments.")===0){var w=x.substring("arguments.".length);return f.get(u,w)}else{return x}});return f.pushActivity(function(){return s.apply(null,u)},v)}};var m=/arguments|options|container/;function c(y,s,u,x){x=x||{};var v=y.getFullStack(s);var r=[f.model.funcResolverStrategy,p(y,s,v)];var w=function(A){var B=A.context;if(u&&m.test(B)){var D=f.get(u[B],A.path);return(B==="arguments"||x.direct)?D:{marker:B==="options"?f.EXPAND:f.EXPAND_NOW,value:D}}var z;o(v,function(H,G,F,E,I){if(B===G||B===H.typeName||B===H.nickName){z=H;if(I>1){f.log("***WARNING: value resolution for context "+B+" found at depth "+I+": this may not be supported in future")}return true}if(f.get(H,f.path("options","components",B,"type"))&&!H[B]){z=f.get(H,B,{strategies:r});return true}});if(!z&&A.path!==""){var C=f.renderContextReference(A);f.log("Failed to resolve reference "+C+": thatStack contains\n"+f.dumpThatStack(v,y));f.fail("Failed to resolve reference "+C+" - could not match context with name "+B+" from component root of type "+v[0].typeName,"\ninstantiator contents: ",y)}return f.get(z,A.path,r)};return w}function l(v,r,s,u){return d.extend({},f.defaults("fluid.resolveEnvironment"),{fetcher:c(v,r,s,u)})}f.instantiator=function(r){var v={options:{"fluid.visitComponents.fireBreak":true},idToPath:{},pathToComponent:{},stackCount:0,nickName:"instantiator"};var s=f.typeTag("fluid.instantiator");s=d.extend(s,v);s.stack=function(w){return s.stackCount+=w};s.getThatStack=function(y){var A=s.idToPath[y.id]||"";var x=f.model.parseEL(A);var z=f.transform(x,function(D,C){var B=f.model.composeSegments.apply(null,x.slice(0,C+1));return s.pathToComponent[B]});var w=s.pathToComponent[""];if(w){z.unshift(w)}return z};s.getEnvironmentalStack=function(){var w=[f.staticEnvironment];if(!r){w.push(f.threadLocal())}return w};s.getFullStack=function(w){var x=w?s.getThatStack(w):[];return s.getEnvironmentalStack().concat(x)};function u(w,x){s.idToPath[w.id]=x;if(s.pathToComponent[x]){f.fail("Error during instantiation - path "+x+" which has just created component "+f.dumpThat(w)+" has already been used for component "+f.dumpThat(s.pathToComponent[x])+" - this is a circular instantiation or other oversight. Please clear the component using instantiator.clearComponent() before reusing the path.")}s.pathToComponent[x]=w}s.recordRoot=function(w){if(w&&w.id&&!s.pathToComponent[""]){u(w,"")}};s.pushUpcomingInstantiation=function(x,w){s.expectedParent=x;s.expectedName=w};s.recordComponent=function(w){if(s.expectedName){s.recordKnownComponent(s.expectedParent,w,s.expectedName);delete s.expectedName;delete s.expectedParent}else{s.recordRoot(w)}};s.clearComponent=function(y,x,B,w,z){w=w||{visited:{},flat:true};B=B||y[x];f.visitComponentChildren(B,function(D,C){s.clearComponent(B,C,null,w,z)},w);var A=s.idToPath[B.id];delete s.idToPath[B.id];delete s.pathToComponent[A];if(!z){delete y[x]}};s.recordKnownComponent=function(z,y,x){var w=s.idToPath[z.id]||"";var A=f.model.composePath(w,x);u(y,A)};return s};f.freeInstantiator=f.instantiator(true);f.argMapToDemands=function(s){var r=[];f.each(s,function(v,u){r[v]="{"+u+"}"});return r};f.makePassArgsSpec=function(r){return f.transform(r,function(s,u){return"{arguments}."+u})};function q(r){if(r&&r.mergeOptions){r.mergeAllOptions=["{options}"].concat(f.makeArray(r.mergeOptions))}}function j(r){q(r);if(r.mergeAllOptions){if(r.options){f.fail("demandspec ",r," is invalid - cannot specify literal options together with mergeOptions or mergeAllOptions")}r.options={mergeAllOptions:r.mergeAllOptions}}if(r.options){delete r.options.mergeOptions}}f.embodyDemands=function(C,s,y,u,x){x=x||{};j(y);var r=f.get(x,"componentRecord.options");x.componentRecord=d.extend(true,{},x.componentRecord,f.censorKeys(y,["args","funcName","registeredFrom"]));var w=f.get(x,"componentRecord.options.mergeAllOptions.0");if(w==="{options}"){f.set(x,"componentRecord.options.mergeAllOptions.0",r)}var E=d.makeArray(y.args);var G=f.defaults(y.funcName);var H=G?G.argumentMap:null;var B=false;if(!H&&(G||(x&&x.componentRecord))&&!x.passArgs){B=true;if(E.length<2){H=f.rawDefaults("fluid.littleComponent").argumentMap}else{H={options:E.length-1}}}x=x||{};if(E.length===0){if(x.componentRecord&&H){E=f.argMapToDemands(H)}else{if(x.passArgs){E=f.makePassArgsSpec(u)}}}var K=d.extend({"arguments":u},f.censorKeys(x.componentRecord,["type"]));f.each(H,function(M,L){if(u.length>0){K[L]=K["arguments"][M]}if(y[L]!==undefined&&K[L]===undefined){K[L]=y[L]}});q(K.options);q(H&&E[H.options]);var F=d.extend({},K);if(x.componentRecord.options!==undefined){F.options=x.componentRecord.options}var z=l(C,s,K);var v=[];if(E){for(var I=0;I<E.length;++I){var A=E[I];if(f.isMarker(A)&&A.value===f.COMPONENT_OPTIONS.value){A="{options}";if(B){H={options:I}}}if(typeof(A)==="string"){if(A.charAt(0)==="@"){var J=A.substring(1);A="{arguments}."+J}}if(!H||H.options!==I){v[I]=f.expander.expandLight(A,z)}else{if(A&&typeof(A)==="object"&&!A.targetTypeName){A.targetTypeName=y.funcName}v[I]={marker:f.EXPAND,value:f.copy(A),localRecord:F}}if(v[I]&&f.isMarker(v[I].marker,f.EXPAND_NOW)){v[I]=f.expander.expandLight(v[I].value,z)}}}else{v=u?u:[]}var D={args:v,funcName:y.funcName};return D};var e={};f.alias=function(r,s){if(s){e[r]=s}else{return e[r]}};var h={};function a(r,x){var v=h[r]||[];outer:for(var u=0;u<v.length;++u){var w=v[u];for(var s=0;s<x.length;++s){if(w.contexts[s]!==x[s]){continue outer}}return w.spec}}f.demands=function(s,v,r){var x=d.makeArray(v).sort();if(!r){return a(s,x)}else{if(r.length){r={args:r}}}if(f.getCallerInfo){var w=f.getCallerInfo(5);if(w){r.registeredFrom=w}}var u=h[s];if(!u){u=[];h[s]=u}u.push({contexts:x,spec:r})};f.compareDemands=function(s,r){var u=s.uncess-r.uncess;return u===0?r.intersect-s.intersect:u};f.isDemandLogging=function(r){return f.isLogging()&&r[0]!=="fluid.threadLocal"};f.locateAllDemands=function(B,D,s){var r=f.isDemandLogging(s);if(r){f.log("Resolving demands for function names ",s," in context of "+(D?"component "+D.typeName:"no component"))}var F={};var C=[];var u=B.getFullStack(D);o(u,function(I,J,H,G,K){F[I.typeName]=true;C.push(I)});if(r){f.log("Components in scope for resolution:\n"+f.dumpThatStack(C,B))}var A=[];for(var y=0;y<s.length;++y){var w=h[s[y]]||[];for(var x=0;x<w.length;++x){var E=w[x];var z={spec:E,intersect:0,uncess:0};for(var v=0;v<E.contexts.length;++v){z[F[E.contexts[v]]?"intersect":"uncess"]+=2}if(E.contexts.length===0){z.intersect++}A.push(z)}}A.sort(f.compareDemands);return A};f.locateDemands=function(w,r,u){var v=f.locateAllDemands(w,r,u);var s=v.length===0||v[0].intersect===0?null:v[0].spec.spec;if(f.isDemandLogging(u)){if(s){f.log("Located "+v.length+" potential match"+(v.length===1?"":"es")+", selected best match with "+v[0].intersect+" matched context names: ",s)}else{f.log("No matches found for demands, using direct implementation")}}return s};f.determineDemands=function(y,r,v){v=d.makeArray(v);var u=v[0];var s=f.locateDemands(y,r,v)||{};if(s.funcName){u=s.funcName}var w=f.alias(u);if(w){u=w;f.log("Following redirect from function name "+u+" to "+w);var x=f.locateDemands(y,r,[w]);if(x){f.each(x,function(A,z){if(m.test(z)){f.fail("Error in demands block ",x,' - content with key "'+z+'" is not supported since this demands block was resolved via an alias from "'+u+'"')}});if(x.funcName){u=x.funcName;f.log('Followed final inner demands to function name "'+u+'"')}}}return f.merge(null,{funcName:u,args:f.makeArray(s.args)},f.censorKeys(s,["funcName","args"]))};f.resolveDemands=function(x,r,v,w,u){var s=f.determineDemands(x,r,v);return f.embodyDemands(x,r,s,w,u)};f.invoke=function(v,s,u,r){s=f.makeArray(s);return f.withInstantiator(u,function(x){var w=f.resolveDemands(x,u,v,s,{passArgs:true});return f.invokeGlobalFunction(w.funcName,w.args,r)})};f.invoke=f.wrapActivity(f.invoke,['    while invoking function with name "',"arguments.0",'" from component',"arguments.2"]);f.makeFreeInvoker=function(s,r){var u=f.determineDemands(f.freeInstantiator,null,s);return function(){var v=f.embodyDemands(f.freeInstantiator,null,u,arguments,{passArgs:true});return f.invokeGlobalFunction(v.funcName,v.args,r)}};f.makeInvoker=function(w,u,s,v,r){s=s||f.determineDemands(w,u,v);return function(){var x=arguments;return f.pushActivity(function(){var y=f.embodyDemands(w,u,s,x,{passArgs:true});return f.invokeGlobalFunction(y.funcName,y.args,r)},["    while invoking invoker with name "+v+" on component",u])}};f.event.dispatchListener=function(w,u,v,s,r){return function(){var y=f.determineDemands(w,u,s);if(y.args.length===0&&r.args){y.args=r.args}var x=f.embodyDemands(w,u,y,arguments,{passArgs:true,componentOptions:r});v.apply(null,x.args)}};f.event.resolveEvent=function(u,s,r){return f.withInstantiator(u,function(y){if(typeof(r)==="string"){var w=f.expandOptions(r,u);if(!w){f.fail("Error in fluid.event.resolveEvent - context path "+r+" could not be looked up to a valid event firer")}return w}else{var x=r.event;var v;if(!x){f.fail("Event specification for event with name "+s+" does not include a base event specification")}if(x.charAt(0)==="{"){v=f.expandOptions(x,u)}else{v=u.events[x]}if(!v){f.fail("Error in event specification - could not resolve base event reference "+x+" to an event firer")}var w={};f.each(["fire","removeListener"],function(z){w[z]=function(){v[z].apply(null,arguments)}});w.addListener=function(C,B,z,A){v.addListener(f.event.dispatchListener(y,u,C,s,r),B,z,A)};return w}})};f.registerNamespace("fluid.expander");f.expander.preserveFromExpansion=function(r){var s={};var u=f.arrayToHash(["mergePolicy","mergeAllOptions","components","invokers","events","listeners","transformOptions"]);f.each(r.mergePolicy,function(w,v){if(f.mergePolicyIs(w,"noexpand")){u[v]=true}});f.each(u,function(y,x){var v=f.model.getPenultimate(r,x);var w=v.root[v.last];delete v.root[v.last];f.set(s,x,w)});return{restore:function(v){f.each(u,function(y,x){var w=f.get(s,x);if(w!==undefined){f.set(v,x,w)}})}}};f.expandOptions=function(s,u,r,v){if(!s){return s}return f.withInstantiator(u,function(z){var x=l(z,u,r,v);x.noCopy=true;var y;if(!f.isArrayable(s)&&!f.isPrimitive(s)){y=f.expander.preserveFromExpansion(s)}var w=f.expander.expandLight(s,x);if(y){y.restore(w)}return w})};f.locateTransformationRecord=function(r){return f.withInstantiator(r,function(u){var s=f.locateAllDemands(u,r,["fluid.transformOptions"]);return f.find(s,function(v){return v.uncess===0&&f.contains(v.spec.contexts,r.typeName)?v.spec.spec:undefined})})};f.hashToArray=function(s){var r=[];f.each(s,function(v,u){r.push(u)});return r};f.localRecordExpected=["type","options","arguments","mergeOptions","mergeAllOptions","createOnEvent","priority"];f.checkComponentRecord=function(u,r){var s=f.arrayToHash(f.localRecordExpected);f.each(u.argumentMap,function(w,v){s[v]=true});f.each(r,function(w,v){if(!s[v]){f.fail('Probable error in subcomponent record - key "'+v+'" found, where the only legal options are '+f.hashToArray(s).join(", "))}})};f.expandComponentOptions=function(v,x,z){if(x&&x.localRecord){f.checkComponentRecord(v,x.localRecord)}v=f.expandOptions(f.copy(v),z);var A={};if(x&&x.marker===f.EXPAND){var w=f.get(x,"localRecord.options");if(w){if(v&&v.mergePolicy){w.mergePolicy=v.mergePolicy}A.options=f.expandOptions(w,z)}A["arguments"]=f.get(x,"localRecord.arguments");var s=x.value;x=f.expandOptions(s,z,A,{direct:true})}A.directOptions=x;if(!A.options){A.options=x}var r=(x&&x.mergeAllOptions)||["{directOptions}"];var u=f.transform(r,function(B){return B==="{directOptions}"?A.directOptions:f.expandOptions(B,z,A,{direct:true})});var y=f.locateTransformationRecord(z);if(y){u[0].transformOptions=y.options}return[v].concat(u)};f.expandComponentOptions=f.wrapActivity(f.expandComponentOptions,["    while expanding component options ","arguments.1.value"," with record ","arguments.1"," for component ","arguments.2"]);f.initDependent=function(y,v,r,w){if(!y||y[v]){return}f.log('Beginning instantiation of component with name "'+v+'" as child of '+f.dumpThat(y));w=w||[];var s=f.threadLocal();if(r){var x=s["fluid.instantiator"];if(x&&x!==r){f.fail("Error in initDependent: user instantiator supplied with id "+r.id+" which differs from that for currently active instantiation with id "+x.id)}else{s["fluid.instantiator"]=r}}var u=y.options.components[v];f.withInstantiator(y,function(A){if(typeof(u)==="string"){y[v]=f.expandOptions([u],y)[0]}else{if(u.type){var z=f.resolveDemands(A,y,[u.type,v],w,{componentRecord:u});A.pushUpcomingInstantiation(y,v);f.tryCatch(function(){y[k]=true;var B=f.initSubcomponentImpl(y,{type:z.funcName},z.args);var D=f.composePath(A.idToPath[y.id]||"",v);var C=A.pathToComponent[D];if(C&&C!==B){A.clearComponent(y,v,C,null,true)}if(B&&B.typeName&&B.id&&B!==C){A.recordKnownComponent(y,B,v)}y[v]=B},null,function(){delete y[k];A.pushUpcomingInstantiation()})}else{y[v]=u}}},['    while instantiating dependent component with name "'+v+'" with record ',u," as child of ",y]);f.log('Finished instantiation of component with name "'+v+'" as child of '+f.dumpThat(y))};f.withInstantiator=function(v,u,s){var r=f.threadLocal();var w=r["fluid.instantiator"];if(!w){w=r["fluid.instantiator"]=f.instantiator()}return f.pushActivity(function(){return f.tryCatch(function(){if(v){w.recordComponent(v)}w.stack(1);return u(w)},null,function(){var x=w.stack(-1);if(x===0){delete r["fluid.instantiator"]}})},s)};f.bindDeferredComponent=function(v,r,s,w){var u=f.makeArray(s.createOnEvent);f.each(u,function(x){v.events[x].addListener(function(){if(v[r]){w.clearComponent(v,r)}f.initDependent(v,r,w)},null,null,s.priority)})};f.priorityForComponent=function(r){return r.priority?r.priority:(r.type==="fluid.typeFount"||f.hasGrade(f.defaults(r.type),"fluid.typeFount"))?"first":undefined};f.initDependents=function(v){var s=v.options;var u=s.components||{};var r={};f.withInstantiator(v,function(B){f.each(u,function(D,C){if(!D.createOnEvent){var E=f.priorityForComponent(D);r[C]={key:C,priority:f.event.mapPriority(E,0)}}else{f.bindDeferredComponent(v,C,D,B)}});var y=f.event.sortListeners(r);f.each(y,function(C){f.initDependent(v,C.key)});var w=s.invokers||{};for(var x in w){var A=w[x];var z=typeof(A)==="string"?A:null;v[x]=f.withInstantiator(v,function(C){f.log('Beginning instantiation of invoker with name "'+x+'" as child of '+f.dumpThat(v));return f.makeInvoker(C,v,z?null:A,z)},['    while instantiating invoker with name "'+x+'" with record ',A," as child of ",v]);f.log('Finished instantiation of invoker with name "'+x+'" as child of '+f.dumpThat(v))}})};f.staticEnvironment=f.typeTag("fluid.staticEnvironment");f.staticEnvironment.environmentClass=f.typeTag("fluid.browser");f.demands("fluid.threadLocal","fluid.browser",{funcName:"fluid.singleThreadLocal"});var g=f.typeTag("fluid.dynamicEnvironment");f.singleThreadLocal=function(){return g};f.threadLocal=function(){var r=f.locateDemands(f.freeInstantiator,null,["fluid.threadLocal"]);return f.invokeGlobalFunction(r.funcName,arguments)};function n(r,s,v,u){var w={type:s,path:v,value:u};r.fireChangeRequest(w)}f.withEnvironment=function(s,v,w){w=w||"";var r=f.threadLocal();var u=f.makeChangeApplier(r,{thin:true});return f.tryCatch(function(){for(var x in s){n(u,"ADD",f.model.composePath(w,x),s[x])}d.extend(r,s);return v()},null,function(){for(var x in s){n(u,"DELETE",f.model.composePath(w,x))}})};f.makeEnvironmentFetcher=function(s,r){return function(u){var v=f.get(f.threadLocal(),s);return f.fetchContextReference(u,r,v)}};f.extractEL=function(s,r){if(r.ELstyle==="ALL"){return s}else{if(r.ELstyle.length===1){if(s.charAt(0)===r.ELstyle){return s.substring(1)}}else{if(r.ELstyle==="${}"){var v=s.indexOf("${");var u=s.lastIndexOf("}");if(v===0&&u!==-1){return s.substring(2,u)}}}}};f.extractELWithContext=function(s,r){var u=f.extractEL(s,r);if(u&&u.charAt(0)==="{"){return f.parseContextReference(u,0)}return u?{path:u}:u};f.parseContextReference=function(r,u,s){var x=r.indexOf("}",u+1);if(x===-1){f.fail('Cannot parse context reference "'+r+'": Malformed context reference without }')}var v=r.substring(u+1,x);var w=s?r.indexOf(s,x+1):r.length;var y=r.substring(x+1,w);if(y.charAt(0)==="."){y=y.substring(1)}return{context:v,path:y,endpos:w}};f.renderContextReference=function(r){return"{"+r.context+"}"+r.path};f.fetchContextReference=function(r,u,s){var v=r.context?s[r.context]:u;if(!v){return v}return f.get(v,r.path)};f.resolveContextValue=function(u,s){if(s.bareContextRefs&&u.charAt(0)==="{"){var r=f.parseContextReference(u,0);return s.fetcher(r)}else{if(s.ELstyle&&s.ELstyle!=="${}"){var r=f.extractELWithContext(u,s);if(r){return s.fetcher(r)}}}while(typeof(u)==="string"){var y=u.indexOf("${");var x=u.indexOf("}",y+2);if(y!==-1&&x!==-1){var r;if(u.charAt(y+2)==="{"){r=f.parseContextReference(u,y+2,"}");x=r.endpos}else{r={path:u.substring(y+2,x)}}var v=s.fetcher(r);var w=(y===0&&x===u.length-1);if(v===undefined||v===null){return v}u=w?v:u.substring(0,y)+v+u.substring(x+1)}else{break}}return u};f.resolveContextValue=f.wrapActivity(f.resolveContextValue,["    while resolving context value ","arguments.0"]);function b(u,r){f.guardCircularity(r.seenIds,u,"expansion",' - please ensure options are not circularly connected, or protect from expansion using the "noexpand" policy or expander');function s(v){return b(v,r)}if(typeof(u)==="string"&&!r.noValue){return f.resolveContextValue(u,r)}else{if(f.isPrimitive(u)||u.nodeType!==undefined||u.jquery){return u}else{if(r.filter){return r.filter(u,s,r)}else{return(r.noCopy?f.each:f.transform)(u,function(w,v){return b(w,r)})}}}}f.defaults("fluid.resolveEnvironment",{ELstyle:"${}",seenIds:{},bareContextRefs:true});f.resolveEnvironment=function(s,r){r=d.extend(true,{},f.rawDefaults("fluid.resolveEnvironment"),r);return b(s,r)};f.expander.deferredCall=function(v,u,s){var w=u.expander;var r=(!w.args||f.isArrayable(w.args))?w.args:d.makeArray(w.args);r=s(r);return f.invokeGlobalFunction(w.func,r)};f.deferredCall=f.expander.deferredCall;f.deferredInvokeCall=function(v,u,s){var w=u.expander;var r=(!w.args||f.isArrayable(w.args))?w.args:d.makeArray(w.args);r=s(r);return f.invoke(w.func,r)};f.expander.noexpand=function(s,r){return d.extend(s,r.expander.tree)};f.noexpand=f.expander.noexpand;f.expander.lightFilter=function(x,v,r){var u;if(f.isArrayable(x)){u=r.noCopy?x:[];f.each(x,function(A,z){u[z]=v(A)})}else{u=r.noCopy?x:{};for(var s in x){var w=x[s];var y;if(s==="expander"&&!(r.expandOnly&&r.expandOnly[w.type])){y=f.getGlobalValue(w.type);if(y){return y.call(null,u,x,v,r)}}if(s!=="expander"||!y){u[s]=v(w)}}}return r.noCopy?x:u};f.expander.expandLight=function(u,s){var r=d.extend({},s);r.filter=f.expander.lightFilter;return f.resolveEnvironment(u,r)}})(jQuery,fluid_1_4);(function(e,d){var c={};var b={};d.fetchResources=function(g,j,f){var h=d.initLittleComponent("fluid.fetchResources",f);h.resourceSpecs=g;h.callback=j;h.operate=function(){d.fetchResources.fetchResourcesImpl(h)};d.each(g,function(k){k.recurseFirer=d.event.getEventFirer();k.recurseFirer.addListener(h.operate);if(k.url&&!k.href){k.href=k.url}});if(h.options.amalgamateClasses){d.fetchResources.amalgamateClasses(g,h.options.amalgamateClasses,h.operate)}h.operate();return h};d.fetchResources.amalgamateClasses=function(h,g,f){d.each(g,function(j){var k=b[j];d.each(k,function(l,m){h[j+"!"+m]=l;l.recurseFirer.addListener(f)})})};d.fetchResources.timeSuccessCallback=function(f){if(f.timeSuccess&&f.options&&f.options.success){var g=f.options.success;f.options.success=function(){var j=new Date();var h=g.apply(null,arguments);d.log("External callback for URL "+f.href+" completed - callback time: "+(new Date().getTime()-j.getTime())+"ms");return h}}};function a(f){return f}d.fetchResources.clearResourceCache=function(f){if(f){delete c[a(f)]}else{d.clear(c)}};d.fetchResources.handleCachedRequest=function(g,f){var j=a(g.href);var h=c[j];if(h.$$firer$$){d.log("Handling request for "+j+" from cache");var k=g.fetchClass;if(k&&b[k]){d.log("Clearing pendingClass entry for class "+k);delete b[k][j]}c[j]=f;h.fire(f)}};d.fetchResources.completeRequest=function(f,g){f.queued=false;f.completeTime=new Date();d.log("Request to URL "+f.href+" completed - total elapsed time: "+(f.completeTime.getTime()-f.initTime.getTime())+"ms");f.recurseFirer.fire()};d.fetchResources.makeResourceCallback=function(f){return{success:function(g){f.resourceText=g;f.resourceKey=f.href;if(f.forceCache){d.fetchResources.handleCachedRequest(f,g)}d.fetchResources.completeRequest(f)},error:function(g,j,h){f.fetchError={status:g.status,textStatus:g.textStatus,errorThrown:h};d.fetchResources.completeRequest(f)}}};d.fetchResources.issueCachedRequest=function(g,f){var j=a(g.href);var h=c[j];if(!h){d.log("First request for cached resource with url "+j);h=d.event.getEventFirer();h.$$firer$$=true;c[j]=h;var k=g.fetchClass;if(k){if(!b[k]){b[k]={}}b[k][j]=g}f.cache=false;e.ajax(f)}else{if(!h.$$firer$$){f.success(h)}else{d.log("Request for cached resource which is in flight: url "+j);h.addListener(function(l){f.success(l)})}}};d.fetchResources.composeCallbacks=function(f,g){return g?function(){try{g.apply(null,arguments)}catch(h){d.log("Exception applying external fetchResources callback: "+h)}f.apply(null,arguments)}:f};d.fetchResources.composePolicy=function(h,g,f){return d.fetchResources.composeCallbacks(h,g)};d.defaults("fluid.fetchResources.issueRequest",{mergePolicy:{success:d.fetchResources.composePolicy,error:d.fetchResources.composePolicy,url:"reverse"}});d.fetchResources.issueRequest=function(g,h){var j=d.fetchResources.makeResourceCallback(g);var f={url:g.href,success:j.success,error:j.error,dataType:"text"};d.fetchResources.timeSuccessCallback(g);d.merge(d.defaults("fluid.fetchResources.issueRequest").mergePolicy,f,g.options);g.queued=true;g.initTime=new Date();d.log("Request with key "+h+" queued for "+g.href);if(g.forceCache){d.fetchResources.issueCachedRequest(g,f)}else{e.ajax(f)}};d.fetchResources.fetchResourcesImpl=function(m){var f=true;var k=true;var h=m.resourceSpecs;for(var j in h){var g=h[j];if(!g.options||g.options.async){k=false}if(g.href&&!g.completeTime){if(!g.queued){d.fetchResources.issueRequest(g,j)}if(g.queued){f=false}}else{if(g.nodeId&&!g.resourceText){var l=document.getElementById(g.nodeId);g.resourceText=d.dom.getElementText(l);g.resourceKey=g.nodeId}}}if(f&&m.callback&&!m.callbackCalled){m.callbackCalled=true;if(e.browser.mozilla&&!k){setTimeout(function(){m.callback(h)},1)}else{m.callback(h)}}};d.fetchResources.primeCacheFromResources=function(f){var j=d.defaults(f).resources;var h={typeName:"fluid.fetchResources.primeCacheFromResources"};var g=(d.expandOptions?d.expandOptions:d.identity)(d.copy(j),h);d.fetchResources(g)};d.registerNamespace("fluid.expander");d.expander.makeDefaultFetchOptions=function(f,h,g){return e.extend(true,{dataType:"text"},g,{success:function(j,l){var k=JSON.parse(j);l(f(k))},error:function(j,k){d.log("Error fetching "+h+": "+k)}})};d.expander.makeFetchExpander=function(f){return{expander:{type:"fluid.expander.deferredFetcher",href:f.url,options:d.expander.makeDefaultFetchOptions(f.disposer,f.url,f.options),resourceSpecCollector:"{resourceSpecCollector}",fetchKey:f.fetchKey}}};d.expander.deferredFetcher=function(k,f,g,l){var o=f.expander;var n=d.copy(o);var j=d.resolveEnvironment(o.resourceSpecCollector,l);delete n.type;delete n.resourceSpecCollector;delete n.fetchKey;var h=function(p){e.extend(k,p)};n.options.success=function(p){o.options.success(p,h)};var m=o.fetchKey||d.allocateGuid();j[m]=n;return k}})(jQuery,fluid_1_4);(function(c,b){b.defaults("fluid.ariaLabeller",{labelAttribute:"aria-label",liveRegionMarkup:'<div class="liveRegion fl-offScreen-hidden" aria-live="polite"></div>',liveRegionId:"fluid-ariaLabeller-liveRegion",invokers:{generateLiveElement:{funcName:"fluid.ariaLabeller.generateLiveElement",args:["{ariaLabeller}"]}}});b.ariaLabeller=function(e,d){var f=b.initView("fluid.ariaLabeller",e,d);b.initDependents(f);f.update=function(h){h=h||f.options;f.container.attr(f.options.labelAttribute,h.text);if(h.dynamicLabel){var g=b.jById(f.options.liveRegionId);if(g.length===0){g=f.generateLiveElement()}g.text(h.text)}};f.update();return f};b.ariaLabeller.generateLiveElement=function(e){var d=c(e.options.liveRegionMarkup);d.prop("id",e.options.liveRegionId);c("body").append(d);return d};var a="aria-labelling";b.getAriaLabeller=function(d){d=c(d);var e=b.getScopedData(d,a);return e};b.updateAriaLabel=function(e,g,d){d=c.extend({},d||{},{text:g});var f=b.getAriaLabeller(e);if(!f){f=b.ariaLabeller(e,d);b.setScopedData(e,a,f)}else{f.update(d)}return f};b.deadMansBlur=function(f,d){var e=b.initLittleComponent("fluid.deadMansBlur",d);e.blurPending=false;e.lastCancel=0;c(f).bind("focusout",function(h){b.log("Starting blur timer for element "+b.dumpEl(h.target));var g=new Date().getTime();b.log("back delay: "+(g-e.lastCancel));if(g-e.lastCancel>e.options.backDelay){e.blurPending=true}setTimeout(function(){if(e.blurPending){e.options.handler(f)}},e.options.delay)});e.canceller=function(g){b.log("Cancellation through "+g.type+" on "+b.dumpEl(g.target));e.lastCancel=new Date().getTime();e.blurPending=false};b.each(e.options.exclusions,function(g){g=c(g);b.each(g,function(h){c(h).bind("focusin",e.canceller).bind("fluid-focus",e.canceller).click(e.canceller).mousedown(e.canceller)})});return e};b.defaults("fluid.deadMansBlur",{delay:150,backDelay:100})})(jQuery,fluid_1_4);(function(k,o){o.thatistBridge=function(I,K){var J=function(L){var N=L.split(".");var M=K;for(var Q=0;Q<N.length;++Q){M=M[N[Q]]}var P=[this];if(arguments.length===2){P=P.concat(k.makeArray(arguments[1]))}var O=M.apply(null,P);this.that=function(){return O};var R=typeof(O);return !O||R==="string"||R==="number"||R==="boolean"||O&&O.length!==undefined?O:this};k.fn[I]=J;return J};o.thatistBridge("fluid",o);o.thatistBridge("fluid_1_4",fluid_1_4);var l=function(){return k.browser.msie?"tabIndex":"tabindex"};var q=function(I){if(I.length<=0){return false}return k(I[0]).is("a, input, button, select, area, textarea, object")};var g=function(J){if(J.length<=0){return undefined}if(!o.tabindex.hasAttr(J)){return q(J)?Number(0):undefined}var I=J.attr(l());return Number(I)};var d=function(I,J){return I.each(function(K,L){k(L).attr(l(),J)})};o.tabindex=function(J,I){J=k(J);if(I!==null&&I!==undefined){return d(J,I)}else{return g(J)}};o.tabindex.remove=function(I){I=k(I);return I.each(function(J,K){k(K).removeAttr(l())})};o.tabindex.hasAttr=function(J){J=k(J);if(J.length<=0){return false}var I=J.map(function(){var K=this.getAttributeNode(l());return K?K.specified:false});return I.length===1?I[0]:I};o.tabindex.has=function(I){I=k(I);return o.tabindex.hasAttr(I)||q(I)};o.a11y=k.a11y||{};o.a11y.orientation={HORIZONTAL:0,VERTICAL:1,BOTH:2};var v={next:k.ui.keyCode.DOWN,previous:k.ui.keyCode.UP};var b={next:k.ui.keyCode.RIGHT,previous:k.ui.keyCode.LEFT};var D=function(I){return I.jquery?I[0]:I};var y=function(I){I.each(function(J,K){K=k(K);if(!K.fluid("tabindex.has")||K.fluid("tabindex")<0){K.fluid("tabindex",0)}})};o.tabbable=function(I){I=k(I);y(I)};var p="selectionContext";var x=-32768;var r=function(I){if(I.activeItemIndex!==x){if(I.options.onLeaveContainer){I.options.onLeaveContainer(I.selectables[I.activeItemIndex])}else{if(I.options.onUnselect){I.options.onUnselect(I.selectables[I.activeItemIndex])}}}if(!I.options.rememberSelectionState){I.activeItemIndex=x}};var n=function(I,J){if(J){J(I)}};var z=function(J,I){if(I&&J){I(J)}};var f=function(J,I){z(J,I.options.onUnselect)};var A=function(I,J){f(J.selectedElement(),J);I=D(I);var K=J.selectables.index(I);if(K===-1){return}J.activeItemIndex=K;n(I,J.options.onSelect)};var H=function(I){return function(J){k(J.target).fluid("tabindex",0);A(J.target,I);return J.stopPropagation()}};var h=function(I){return function(J){k(J.target).fluid("tabindex",I.options.selectablesTabindex);f(J.target,I);return J.stopPropagation()}};var w=function(I){var J=I.selectables;if(I.activeItemIndex>=J.length){I.activeItemIndex=0}if(I.activeItemIndex<0&&I.activeItemIndex!==x){I.activeItemIndex=J.length-1}if(I.activeItemIndex>=0){o.focus(J[I.activeItemIndex])}};var C=function(I){var J=I.selectedElement();if(J){o.blur(J)}f(I.selectedElement(),I);if(I.activeItemIndex===x){I.activeItemIndex=-1}};var E=function(I){C(I);++I.activeItemIndex;w(I)};var m=function(I){C(I);--I.activeItemIndex;w(I)};var j=function(I,K,J){return function(L){if(L.which===K.next){E(I);L.preventDefault()}else{if(L.which===K.previous){m(I);L.preventDefault()}}}};var u=function(I){var J;if(I===o.a11y.orientation.HORIZONTAL){J=b}else{if(I===o.a11y.orientation.VERTICAL){J=v}}return J};var c=function(I){return function(J){if(J.which!==k.ui.keyCode.TAB){return}r(I);if(J.shiftKey){I.focusIsLeavingContainer=true}}};var s=function(I){return function(J){var L=I.options.autoSelectFirstItem;var K=typeof(L)==="function"?L():L;if(I.focusIsLeavingContainer){K=false}if(K&&J.target===I.container.get(0)){if(I.activeItemIndex===x){I.activeItemIndex=0}o.focus(I.selectables[I.activeItemIndex])}return J.stopPropagation()}};var B=function(I){return function(J){I.focusIsLeavingContainer=false;return J.stopPropagation()}};var e=function(J,M,N){var K=k.extend(true,{},M,N);var O=u(K.direction);var I=K.selectableElements?K.selectableElements:J.find(K.selectableSelector);var L={container:J,activeItemIndex:x,selectables:I,focusIsLeavingContainer:false,options:K};L.selectablesUpdated=function(P){if(typeof(L.options.selectablesTabindex)==="number"){L.selectables.fluid("tabindex",L.options.selectablesTabindex)}L.selectables.unbind("focus."+p);L.selectables.unbind("blur."+p);L.selectables.bind("focus."+p,H(L));L.selectables.bind("blur."+p,h(L));if(O&&L.options.noBubbleListeners){L.selectables.unbind("keydown."+p);L.selectables.bind("keydown."+p,j(L,O))}if(P){A(P,L)}else{w(L)}};L.refresh=function(){if(!L.options.selectableSelector){throw ("Cannot refresh selectable context which was not initialised by a selector")}L.selectables=J.find(K.selectableSelector);L.selectablesUpdated()};L.selectedElement=function(){return L.activeItemIndex<0?null:L.selectables[L.activeItemIndex]};if(O&&!L.options.noBubbleListeners){J.keydown(j(L,O))}J.keydown(c(L));J.focus(s(L));J.blur(B(L));L.selectablesUpdated();return L};o.selectable=function(K,I){K=k(K);var J=e(K,o.selectable.defaults,I);o.setScopedData(K,p,J);return J};o.selectable.select=function(J,I){o.focus(I)};o.selectable.selectNext=function(I){I=k(I);E(o.getScopedData(I,p))};o.selectable.selectPrevious=function(I){I=k(I);m(o.getScopedData(I,p))};o.selectable.currentSelection=function(J){J=k(J);var I=o.getScopedData(J,p);return k(I.selectedElement())};o.selectable.defaults={direction:o.a11y.orientation.VERTICAL,selectablesTabindex:-1,autoSelectFirstItem:true,rememberSelectionState:true,selectableSelector:".selectable",selectableElements:null,onSelect:null,onUnselect:null,onLeaveContainer:null};var a=function(N,J){if(!N.modifier){return true}var K=N.modifier;var L=K&&J.ctrlKey;var I=K&&J.altKey;var M=K&&J.shiftKey;return L||I||M};var G=function(I){return function(J){var M=J.target;if(!o.enabled(J.target)){return}var L=J.which?J.which:J.keyCode;if(L===I.key&&I.activateHandler&&a(I,J)){var K=k.Event("fluid-activate");k(J.target).trigger(K,[I.activateHandler]);if(K.isDefaultPrevented()){J.preventDefault()}}}};var F=function(L,O,I,J){var N=[];k(I).each(function(P,Q){N.push({modifier:null,key:Q,activateHandler:O})});if(J&&J.additionalBindings){N=N.concat(J.additionalBindings)}o.initEnablement(L);for(var K=0;K<N.length;++K){var M=N[K];L.keydown(G(M))}L.bind("fluid-activate",function(P,Q){Q=Q||O;return Q?Q(P):null})};o.activatable=function(K,J,I){K=k(K);F(K,J,o.activatable.defaults.keys,I)};o.activate=function(I){k(I).trigger("fluid-activate")};o.activatable.defaults={keys:[k.ui.keyCode.ENTER,k.ui.keyCode.SPACE]}})(jQuery,fluid_1_4);var fluid_1_4=fluid_1_4||{};(function(b,a){a.dom.computeAbsolutePosition=function(c){var e=0,d=0;if(c.offsetParent){do{e+=c.offsetLeft;d+=c.offsetTop;c=c.offsetParent}while(c);return[e,d]}};a.dom.cleanseScripts=function(c){var d=b.data(c,a.dom.cleanseScripts.MARKER);if(!d){a.dom.iterateDom(c,function(e){return e.tagName.toLowerCase()==="script"?"delete":null});b.data(c,a.dom.cleanseScripts.MARKER,true)}};a.dom.cleanseScripts.MARKER="fluid-scripts-cleansed";a.dom.insertAfter=function(c,d){var e=d.nextSibling;if(!e){d.parentNode.appendChild(c)}else{d.parentNode.insertBefore(c,e)}};a.dom.isWhitespaceNode=function(c){return !(/[^\t\n\r ]/.test(c.data))};a.dom.isIgnorableNode=function(c){return(c.nodeType===8)||((c.nodeType===3)&&a.dom.isWhitespaceNode(c))}})(jQuery,fluid_1_4);(function(f,g){g.orientation={HORIZONTAL:4,VERTICAL:1};g.rectSides={4:["left","right"],1:["top","bottom"],8:"top",12:"bottom",2:"left",3:"right"};g.position={BEFORE:-1,AFTER:1,INSIDE:2,REPLACE:3};g.direction={NEXT:1,PREVIOUS:-1,UP:8,DOWN:12,LEFT:2,RIGHT:3};g.directionSign=function(l){return l===g.direction.UP||l===g.direction.LEFT?g.direction.PREVIOUS:g.direction.NEXT};g.directionAxis=function(l){return l===g.direction.LEFT||l===g.direction.RIGHT?0:1};g.directionOrientation=function(l){return g.directionAxis(l)?g.orientation.VERTICAL:g.orientation.HORIZONTAL};g.keycodeDirection={up:g.direction.UP,down:g.direction.DOWN,left:g.direction.LEFT,right:g.direction.RIGHT};g.moveDom=function(n,o,l){n=g.unwrap(n);o=g.unwrap(o);var m;if(l===g.position.INSIDE){o.appendChild(n)}else{if(l===g.position.BEFORE){for(m=o.previousSibling;;m=m.previousSibling){if(!m||!g.dom.isIgnorableNode(m)){if(m!==n){g.dom.cleanseScripts(n);o.parentNode.insertBefore(n,o)}break}}}else{if(l===g.position.AFTER){for(m=o.nextSibling;;m=m.nextSibling){if(!m||!g.dom.isIgnorableNode(m)){if(m!==n){g.dom.cleanseScripts(n);g.dom.insertAfter(n,o)}break}}}else{g.fail("Unrecognised position supplied to fluid.moveDom: "+l)}}}};g.normalisePosition=function(m,o,l,n){if(m===g.position.REPLACE){m=o&&l>=n?g.position.AFTER:g.position.BEFORE}return m};g.permuteDom=function(o,s,r,m,p){o=g.unwrap(o);s=g.unwrap(s);var q=f.inArray(o,m);if(q===-1){g.fail("Error in permuteDom: source element "+g.dumpEl(o)+" not found in source list "+g.dumpEl(m))}var x=f.inArray(s,p);if(x===-1){g.fail("Error in permuteDom: target element "+g.dumpEl(s)+" not found in source list "+g.dumpEl(p))}var l=m===p;r=g.normalisePosition(r,l,x,q);var w={};w[g.position.AFTER]=o.nextSibling;w[g.position.BEFORE]=o.previousSibling;g.moveDom(m[q],p[x],r);var v=l?x-1:m.length-2;var n;if(r===g.position.BEFORE&&l){v--}if(!l||x>q){for(n=v;n>q;--n){g.moveDom(m[n+1],m[n],g.position.AFTER)}if(q+1<m.length){g.moveDom(m[q+1],w[g.position.AFTER],g.position.BEFORE)}}var u=l?q-1:p.length-1;if(r===g.position.AFTER){x++}if(!l||x<q){for(n=x;n<u;++n){g.moveDom(p[n],p[n+1],g.position.BEFORE)}if(u>=0&&u<p.length-1){g.moveDom(p[u],w[g.position.BEFORE],g.position.AFTER)}}};var b=function(l,m){return window.getComputedStyle?window.getComputedStyle(l,null).getPropertyValue(m):l.currentStyle[m]};var h=function(l){while(l&&l.nodeName){if(l.nodeName==="BODY"){return true}l=l.parentNode}return false};var k=function(l){return"hidden"===l.type||b(l,"display")==="none"||b(l,"visibility")==="hidden"||!h(l)};var e=function(n,m,r){var p={};p.element=n;p.orientation=m;if(r===g.position.INSIDE){p.position=r}if(k(n)){p.clazz="hidden"}var q=g.dom.computeAbsolutePosition(n)||[0,0];var o=n.offsetWidth;var l=n.offsetHeight;p.rect={left:q[0],top:q[1]};p.rect.right=q[0]+o;p.rect.bottom=q[1]+l;return p};var c=10000;function d(l){return"Rect top: "+l.top+" left: "+l.left+" bottom: "+l.bottom+" right: "+l.right}function j(l){if(!l||!l.rect){return"null"}else{return d(l.rect)+" position: "+l.position+" for "+g.dumpEl(l.element)}}g.dropManager=function(){var m=[];var o={};var q={};var l;var n;var s,r;q.updateGeometry=function(D){n=D;m=[];o={};var u=D.elementMapper;for(var C=0;C<D.extents.length;++C){var y=D.extents[C];var v=y.orientation;var w=g.rectSides[v];var x=function(I,F,L,M,H){var G=e(I,v,M);G.owner=y;if(G.clazz!=="hidden"&&u){G.clazz=u(I)}o[g.dropManager.cacheKey(I)]=G;var J=g.dropManager.getRelativeClass(y.elements,H,g.position.BEFORE,G.clazz,u);var K=g.dropManager.getRelativeClass(y.elements,H,g.position.AFTER,G.clazz,u);if(M===g.position.INSIDE){m[m.length]=G}else{g.dropManager.splitElement(m,w,G,M,J,K)}if(F&&D.sentinelize){g.dropManager.sentinelizeElement(m,w,G,1,M,J)}if(L&&D.sentinelize){g.dropManager.sentinelizeElement(m,w,G,0,M,K)}return G};var E=true;for(var z=0;z<y.elements.length;++z){var B=y.elements[z];var A=x(B,z===0,z===y.elements.length-1,g.position.INTERLEAVED,z);if(A.clazz!=="hidden"){E=false}}if(E&&y.parentElement){x(y.parentElement,true,true,g.position.INSIDE)}}};q.startDrag=function(z,y,w,x){var B=y[0]+w/2;var A=y[1]+x/2;var v=B-z.pageX;var u=A-z.pageY;q.updateGeometry(n);l=null;s=v;r=u;f("body").bind("mousemove.fluid-dropManager",q.mouseMove)};q.lastPosition=function(){return l};q.endDrag=function(){f("body").unbind("mousemove.fluid-dropManager")};q.mouseMove=function(v){var u=v.pageX+s;var z=v.pageY+r;var w=q.closestTarget(u,z,l);if(w&&w!==g.dropManager.NO_CHANGE){l=w;q.dropChangeFirer.fire(w)}};q.dropChangeFirer=g.event.getEventFirer();var p={element:null};q.closestTarget=function(F,D,A){var z=Number.MAX_VALUE;var v=p;var u=Number.MAX_VALUE;var E=p;for(var C=0;C<m.length;++C){var B=m[C];if(B.clazz==="hidden"){continue}var w=g.geom.minPointRectangle(F,D,B.rect);if(B.clazz==="locked"){if(w<u){u=w;E=B}}else{if(w<z){z=w;v=B}if(w===0){break}}}if(!v){return v}if(u>=z){E=p}if(A&&A.position===v.position&&g.unwrap(A.element)===g.unwrap(v.element)&&g.unwrap(A.lockedelem)===g.unwrap(E.element)){return g.dropManager.NO_CHANGE}return{position:v.position,element:v.element,lockedelem:E.element}};q.shuffleProjectFrom=function(v,y,x,u){var w=q.projectFrom(v,y,x,u);if(w){w.position=g.position.REPLACE}return w};q.projectFrom=function(y,A,z,x){q.updateGeometry(n);var w=o[g.dropManager.cacheKey(y)];var v=g.geom.projectFrom(w.rect,A,m,z,x);if(!v.cacheelem){return null}var u=v.cacheelem.position;return{element:v.cacheelem.element,position:u?u:g.position.BEFORE}};q.logicalFrom=function(w,y,x,v){var u=q.getOwningSpan(w,g.position.INTERLEAVED,x);return{element:g.dropManager.getRelativeElement(w,y,u,v),position:g.position.REPLACE}};q.lockedWrapFrom=function(x,B,A,w){var z=q.logicalFrom(x,B,A,w);var u=q.getOwningSpan(x,g.position.INTERLEAVED,A);var y=o[g.dropManager.cacheKey(x)].owner.elements;if(A||u[0]===y[0]){return z}var v=g.dropManager.getRelativeElement(x,B,y,w);if(n.elementMapper(v)==="locked"){z.element=null;z.clazz="locked"}return z};q.getOwningSpan=function(w,v,y){var u=o[g.dropManager.cacheKey(w)].owner;var x=v===g.position.INSIDE?[u.parentElement]:u.elements;if(!y&&n.elementMapper){x=f.makeArray(x);g.remove_if(x,function(z){return n.elementMapper(z)==="locked"})}return x};q.geometricMove=function(x,y,u){var v=q.getOwningSpan(x,null,true);var w=q.getOwningSpan(y,u,true);g.permuteDom(x,y,u,v,w)};return q};g.dropManager.NO_CHANGE="no change";g.dropManager.cacheKey=function(l){return g.allocateSimpleId(l)};g.dropManager.sentinelizeElement=function(l,q,o,p,r,n){var m=f.extend(true,{},o);m.rect[q[p]]=m.rect[q[1-p]]+(p?1:-1);m.rect[q[1-p]]=(p?-1:1)*c;m.position=r===g.position.INSIDE?r:(p?g.position.BEFORE:g.position.AFTER);m.clazz=n;l[l.length]=m};g.dropManager.splitElement=function(o,m,n,l,q,p){var u=f.extend(true,{},n);var r=f.extend(true,{},n);var s=(u.rect[m[0]]+u.rect[m[1]])/2;u.rect[m[1]]=s;u.position=g.position.BEFORE;r.rect[m[0]]=s;r.position=g.position.AFTER;u.clazz=q;r.clazz=p;o[o.length]=u;o[o.length]=r};g.dropManager.getRelativeClass=function(n,m,o,l,p){m+=o;if(m<0&&l==="locked"){return"locked"}if(m>=n.length||p===null){return null}else{o=n[m];return p(o)==="locked"&&l==="locked"?"locked":null}};g.dropManager.getRelativeElement=function(n,p,o,m){var q=g.directionSign(p);var l=f(o).index(n)+q;if(l<0){l+=o.length}if(m){if(l===o.length||l===(o.length+q)){return n}}l%=o.length;return o[l]};g.geom=g.geom||{};g.geom.minPointRectangle=function(l,p,o){var n=l<o.left?(o.left-l):(l>o.right?(l-o.right):0);var m=p<o.top?(o.top-p):(p>o.bottom?(p-o.bottom):0);return n*n+m*m};g.geom.minRectRect=function(o,m){var n=o.right<m.left?m.left-o.right:m.right<o.left?o.left-m.right:0;var l=o.bottom<m.top?m.top-o.bottom:m.bottom<o.top?o.top-m.bottom:0;return n*n+l*l};var a=function(){return{mindist:Number.MAX_VALUE,minrdist:Number.MAX_VALUE}};g.geom.projectFrom=function(p,D,E,x,r){var n=g.directionAxis(D);var A=g.rectSides[D];var y=g.rectSides[n*15+5-D];var u=g.directionSign(D);var l={left:(7*p.left+1*p.right)/8,right:(5*p.left+3*p.right)/8,top:(7*p.top+1*p.bottom)/8,bottom:(5*p.top+3*p.bottom)/8};l[A]=u*c;l[y]=-l[A];function F(J,H,K){var I=H.rect;var L=g.geom.minRectRect(l,I);var G=-u*K*(p[K===1?A:y]-I[K===1?y:A]);if(L<=J.mindist&&G>=0){if(L===J.mindist&&G*K>J.minrdist){return}J.minrdist=G*K;J.mindist=L;J.minelem=H}}var v=a();var z=a();var o=a();for(var B=0;B<E.length;++B){var C=E[B];var m=C.owner&&C.element===C.owner.parentElement;if(C.clazz==="hidden"||(x&&m)){continue}else{if(!x&&C.clazz==="locked"){F(o,C,1)}else{F(v,C,1);F(z,C,-1)}}}var s=!v.minelem||z.mindist<v.mindist;s=s&&!r;var w=s?z:v;var q={wrapped:s,cacheelem:w.minelem};if(o.mindist<w.mindist){q.lockedelem=o.minelem}return q}})(jQuery,fluid_1_4);(function(g,f){var a=function(n,k,l){f.dom.cleanseScripts(f.unwrap(n));var m=g(n).clone();f.dom.iterateDom(m.get(0),function(o){o.removeAttribute("id");if(o.tagName.toLowerCase()==="input"){o.setAttribute("disabled","disabled")}});m.removeProp("id");m.removeClass("ui-droppable");m.addClass(k);if(l){var j=g(document.createElement("div"));j.append(m);j.append(l);m=j}g("body").append(m);if(!g.browser.safari){m.css("display","block").width(n.offsetWidth).height(n.offsetHeight)}if(g.browser.opera){m.hide()}return m};function c(k,m,n,j){var l=m;var o=false;if(g.browser.opera){k.keypress(function(p){if(o){o=false;p.preventDefault();return false}});l=function(q){var p=m(q);if(p===false){o=true}}}k.keydown(l);k.keyup(n)}function d(j){j.container.attr("role",j.options.containerRole.container);j.container.attr("aria-multiselectable","false");j.container.attr("aria-readonly","false");j.container.attr("aria-disabled","false")}function h(j){return j+"_avatar"}var e=function(j){if(j.keysets&&!(j.keysets instanceof Array)){j.keysets=[j.keysets]}};f.reorderer=function(z,l){if(!z){f.fail("Reorderer initialised with no container")}var A=f.initView("fluid.reorderer",z,l);l=A.options;var s=f.dropManager();A.layoutHandler=f.initSubcomponent(A,"layoutHandler",[A.container,l,s,A.dom]);A.activeItem=undefined;e(l);var j=A.locate("dropWarning");var x;if(j){x=j.clone()}var C=function(F){var H=l.keysets;for(var G=0;G<H.length;G++){if(H[G].modifier(F)){return true}}return false};var k=function(){return g.inArray(A.activeItem,A.dom.fastLocate("movables"))>=0};var m=function(F){A.dom.fastLocate("dropTargets").attr("aria-dropeffect",F)};var u=l.styles;var v=function(F){return(!F.ctrlKey&&!F.altKey&&!F.shiftKey&&!F.metaKey)};var D=function(M){var O=A.activeItem;if(!O){return true}var F=l.keysets;for(var I=0;I<F.length;I++){var H=F[I];var L=f.keyForValue(H,M.keyCode);if(!L){continue}var N=H.modifier(M);var G=f.keycodeDirection[L];var J=A.layoutHandler.getRelativePosition(O,G,!N);if(!J){continue}if(N){var K=A.events.onBeginMove.fire(O);if(K===false){return false}if(j.length>0){if(J.clazz==="locked"){A.events.onShowKeyboardDropWarning.fire(O,j);j.show()}else{j.hide()}}if(J.element){A.requestMovement(J,O)}}else{if(v(M)){O.blur();g(J.element).focus()}}return false}return true};A.handleKeyDown=function(F){if(!A.activeItem||A.activeItem!==F.target){return true}var G=g(A.activeItem);if(!G.hasClass(u.dragging)&&C(F)){if(k()){G.removeClass(u.selected);G.addClass(u.dragging);G.attr("aria-grabbed","true");m("move")}return false}return D(F)};A.handleKeyUp=function(F){if(!A.activeItem||A.activeItem!==F.target){return true}var G=g(A.activeItem);if(G.hasClass(u.dragging)&&!C(F)){if(j){j.hide()}G.removeClass(u.dragging);G.addClass(u.selected);G.attr("aria-grabbed","false");m("none");return false}return false};var n;var o=function(G){var F=g(document.createElement(G));F.addClass(l.styles.dropMarker);F.hide();return F};A.requestMovement=function(G,F){F=f.unwrap(F);if(!G||f.unwrap(G.element)===F){return}var H=g(A.activeItem);H.unbind("blur.fluid.reorderer");A.events.onMove.fire(F,G);s.geometricMove(F,G.element,G.position);H.focus();A.refresh();s.updateGeometry(A.layoutHandler.getGeometricInfo());A.events.afterMove.fire(F,G,A.dom.fastLocate("movables"))};var y=function(F,G){A.dom.fastLocate("grabHandle",F)[G?"addClass":"removeClass"](u.hover)};function r(H){var G=l.styles;H.attr("aria-grabbed","false");H.mouseover(function(){A.events.onHover.fire(H,true)});H.mouseout(function(){A.events.onHover.fire(H,false)});var F;A.dom.fastLocate("grabHandle",H).draggable({refreshPositions:false,scroll:true,helper:function(){var I;if(x){I=x[0]}F=g(l.avatarCreator(H[0],G.avatar,I));F.prop("id",h(A.container.id));return F},start:function(O,N){var J=A.events.onBeginMove.fire(H);if(J===false){return false}var M=A.dom.fastLocate("grabHandle",H)[0];var L=f.dom.computeAbsolutePosition(M);var I=M.offsetWidth;var K=M.offsetHeight;H.focus();H.removeClass(l.styles.selected);H.addClass(l.styles.mouseDrag);H.attr("aria-grabbed","true");m("move");s.startDrag(O,L,I,K);F.show()},stop:function(K,J){H.removeClass(l.styles.mouseDrag);H.addClass(l.styles.selected);g(A.activeItem).attr("aria-grabbed","false");var I=f.unwrap(n);if(I.parentNode){I.parentNode.removeChild(I)}F.hide();J.helper=null;m("none");s.endDrag();A.requestMovement(s.lastPosition(),H);A.activeItem.focus()},handle:A.dom.fastLocate("grabHandle",H)})}function E(F,G){F.removeClass(G.selected);F.removeClass(G.dragging);F.addClass(G.defaultStyle);F.attr("aria-selected","false")}var q=function(H){A.events.onSelect.fire(H);var G=l.styles;if(A.activeItem&&A.activeItem!==H){E(g(A.activeItem),G)}A.activeItem=H;var F=g(H);F.removeClass(G.defaultStyle);F.addClass(G.selected);F.attr("aria-selected","true")};var B=function(){var I=function(K){E(g(this),l.styles);return K.stopPropagation()};var J=function(K){q(this);return K.stopPropagation()};var F=A.dom.fastLocate("selectables");for(var H=0;H<F.length;++H){var G=g(F[H]);if(!g.data(G[0],"fluid.reorderer.selectable-initialised")){G.addClass(u.defaultStyle);G.bind("blur.fluid.reorderer",I);G.focus(J);G.click(function(K){var L=f.unwrap(A.dom.fastLocate("grabHandle",this));if(f.dom.isContainer(L,K.target)){g(this).focus()}});G.attr("role",l.containerRole.item);G.attr("aria-selected","false");G.attr("aria-disabled","false");g.data(G[0],"fluid.reorderer.selectable-initialised",true)}}if(!A.selectableContext){A.selectableContext=f.selectable(A.container,{selectableElements:F,selectablesTabindex:A.options.selectablesTabindex,direction:null})}};var w=function(F){f.moveDom(n,F.element,F.position);n.css("display","");if(x){if(F.lockedelem){x.show()}else{x.hide()}}};var p=function(){var I=A.dom.fastLocate("movables");var H=A.dom.fastLocate("dropTargets");B();for(var F=0;F<I.length;F++){var G=I[F];if(!g.data(G,"fluid.reorderer.movable-initialised")){r(g(G));g.data(G,"fluid.reorderer.movable-initialised",true)}}if(I.length>0&&!n){n=o(I[0].tagName)}s.updateGeometry(A.layoutHandler.getGeometricInfo());s.dropChangeFirer.addListener(w,"fluid.Reorderer");H.attr("aria-dropeffect","none")};if(A.container){c(A.container,A.handleKeyDown,A.handleKeyUp);d(A);f.tabbable(A.container);p()}if(l.afterMoveCallbackUrl){A.events.afterMove.addListener(function(){var F=A.layoutHandler;var G=F.getModel?F.getModel():l.acquireModel(A);g.post(l.afterMoveCallbackUrl,JSON.stringify(G))},"postModel")}A.events.onHover.addListener(y,"style");A.refresh=function(){A.dom.refresh("movables");A.dom.refresh("selectables");A.dom.refresh("grabHandle",A.dom.fastLocate("movables"));A.dom.refresh("stylisticOffset",A.dom.fastLocate("movables"));A.dom.refresh("dropTargets");A.events.onRefresh.fire();p();A.selectableContext.selectables=A.dom.fastLocate("selectables");A.selectableContext.selectablesUpdated(A.activeItem)};f.initDependents(A);A.refresh();return A};f.reorderer.keys={TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,META:19,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,i:73,j:74,k:75,m:77};f.reorderer.defaultKeysets=[{modifier:function(j){return j.ctrlKey},up:f.reorderer.keys.UP,down:f.reorderer.keys.DOWN,right:f.reorderer.keys.RIGHT,left:f.reorderer.keys.LEFT},{modifier:function(j){return j.ctrlKey},up:f.reorderer.keys.i,down:f.reorderer.keys.m,right:f.reorderer.keys.k,left:f.reorderer.keys.j}];f.reorderer.roles={GRID:{container:"grid",item:"gridcell"},LIST:{container:"list",item:"listitem"},REGIONS:{container:"main",item:"article"}};var b=function(j,k,l){l=l||{};l.layoutHandler=k;return f.reorderer(j,l)};f.reorderList=function(j,k){return b(j,"fluid.listLayoutHandler",k)};f.reorderGrid=function(j,k){return b(j,"fluid.gridLayoutHandler",k)};f.reorderer.SHUFFLE_GEOMETRIC_STRATEGY="shuffleProjectFrom";f.reorderer.GEOMETRIC_STRATEGY="projectFrom";f.reorderer.LOGICAL_STRATEGY="logicalFrom";f.reorderer.WRAP_LOCKED_STRATEGY="lockedWrapFrom";f.reorderer.NO_STRATEGY=null;f.reorderer.relativeInfoGetter=function(k,n,l,j,o,m){return function(q,s,p){var r=f.directionOrientation(s);var u=r===k?n:l;return u!==null?j[u](q,s,p,m):null}};f.defaults("fluid.reorderer",{styles:{defaultStyle:"fl-reorderer-movable-default",selected:"fl-reorderer-movable-selected",dragging:"fl-reorderer-movable-dragging",mouseDrag:"fl-reorderer-movable-dragging",hover:"fl-reorderer-movable-hover",dropMarker:"fl-reorderer-dropMarker",avatar:"fl-reorderer-avatar"},selectors:{dropWarning:".flc-reorderer-dropWarning",movables:".flc-reorderer-movable",grabHandle:"",stylisticOffset:""},avatarCreator:a,keysets:f.reorderer.defaultKeysets,layoutHandler:{type:"fluid.listLayoutHandler"},events:{onShowKeyboardDropWarning:null,onSelect:null,onBeginMove:"preventable",onMove:null,afterMove:null,onHover:null,onRefresh:null},mergePolicy:{keysets:"replace","selectors.labelSource":"selectors.grabHandle","selectors.selectables":"selectors.movables","selectors.dropTargets":"selectors.movables"},components:{labeller:{type:"fluid.reorderer.labeller",options:{dom:"{reorderer}.dom",getGeometricInfo:"{reorderer}.layoutHandler.getGeometricInfo",orientation:"{reorderer}.options.orientation",layoutType:"{reorderer}.options.layoutHandler"}}},disableWrap:false});f.reorderer.makeGeometricInfoGetter=function(j,l,k){return function(){var m={sentinelize:l,extents:[{orientation:j,elements:k.fastLocate("dropTargets")}],elementMapper:function(n){return g.inArray(n,k.fastLocate("movables"))===-1?"locked":null},elementIndexer:function(o){var n=k.fastLocate("selectables");return{elementClass:m.elementMapper(o),index:g.inArray(o,n),length:n.length}}};return m}};f.defaults(true,"fluid.listLayoutHandler",{orientation:f.orientation.VERTICAL,containerRole:f.reorderer.roles.LIST,selectablesTabindex:-1,sentinelize:true});f.listLayoutHandler=function(k,l,j,n){var m={};m.getRelativePosition=f.reorderer.relativeInfoGetter(l.orientation,f.reorderer.LOGICAL_STRATEGY,null,j,n,l.disableWrap);m.getGeometricInfo=f.reorderer.makeGeometricInfoGetter(l.orientation,l.sentinelize,n);return m};f.defaults(true,"fluid.gridLayoutHandler",{orientation:f.orientation.HORIZONTAL,containerRole:f.reorderer.roles.GRID,selectablesTabindex:-1,sentinelize:false});f.gridLayoutHandler=function(k,l,j,n){var m={};m.getRelativePosition=f.reorderer.relativeInfoGetter(l.orientation,l.disableWrap?f.reorderer.SHUFFLE_GEOMETRIC_STRATEGY:f.reorderer.LOGICAL_STRATEGY,f.reorderer.SHUFFLE_GEOMETRIC_STRATEGY,j,n,l.disableWrap);m.getGeometricInfo=f.reorderer.makeGeometricInfoGetter(l.orientation,l.sentinelize,n);return m};f.defaults("fluid.reorderer.labeller",{strings:{overallTemplate:"%recentStatus %item %position %movable",position:"%index of %length",position_moduleLayoutHandler:"%index of %length in %moduleCell %moduleIndex of %moduleLength",moduleCell_0:"row",moduleCell_1:"column",movable:"movable",fixed:"fixed",recentStatus:"moved from position %position"},components:{resolver:{type:"fluid.messageResolver",options:{messageBase:"{labeller}.options.strings"}}},invokers:{renderLabel:{funcName:"fluid.reorderer.labeller.renderLabel",args:["{labeller}","@0","@1"]}}});f.reorderer.indexRebaser=function(j){j.index++;if(j.moduleIndex!==undefined){j.moduleIndex++}return j};f.reorderer.labeller=function(j){var m=f.initLittleComponent("fluid.reorderer.labeller",j);f.initDependents(m);m.dom=m.options.dom;m.moduleCell=m.resolver.resolve("moduleCell_"+m.options.orientation);var l=f.computeNickName(m.options.layoutType);m.positionTemplate=m.resolver.lookup(["position_"+l,"position"]);var k={};m.returnedOptions={listeners:{onRefresh:function(){var n=m.dom.locate("selectables");f.each(n,function(r){var o={};var u=f.allocateSimpleId(r);var s=k[u];var q=m.renderLabel(r);var p=q;if(s){s.newRender=p;q=m.renderLabel(r,s.oldRender.position);g(r).one("focusout",function(){if(k[u]){var v=k[u].newRender.label;delete k[u];f.updateAriaLabel(r,v)}});o.dynamicLabel=true}f.updateAriaLabel(r,q.label,o)})},onMove:function(p,o){f.clear(k);var n=f.allocateSimpleId(p);k[n]={oldRender:m.renderLabel(p)}}}};return m};f.reorderer.labeller.renderLabel=function(j,n,l){var m=j.options.getGeometricInfo();var r=f.reorderer.indexRebaser(m.elementIndexer(n));r.moduleCell=j.moduleCell;var s=m.elementMapper(n);var p=j.dom.locate("labelSource",n);var k;if(l){k=j.resolver.resolve("recentStatus",{position:l})}var u={item:typeof(p)==="string"?p:f.dom.getElementText(f.unwrap(p)),position:j.positionTemplate.resolveFunc(j.positionTemplate.template,r),movable:j.resolver.resolve(s==="locked"?"fixed":"movable"),recentStatus:k||""};var q=j.resolver.lookup(["overallTemplate"]);var o=q.resolveFunc(q.template,u);return{position:u.position,label:o}}})(jQuery,fluid_1_4);
/*!
 * jQuery JavaScript Library v1.6.3
 * http://jquery.com/
 *
 * Copyright 2011, John Resig
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 * Copyright 2011, The Dojo Foundation
 * Released under the MIT, BSD, and GPL Licenses.
 *
 * Date: Wed Aug 31 10:35:15 2011 -0400
 */
(function(a9,M){var ar=a9.document,bs=a9.navigator,bj=a9.location;var b=(function(){var bD=function(bZ,b0){return new bD.fn.init(bZ,b0,bB)},bT=a9.jQuery,bF=a9.$,bB,bX=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,bL=/\S/,bH=/^\s+/,bC=/\s+$/,bG=/\d/,by=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,bM=/^[\],:{}\s]*$/,bV=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,bO=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,bI=/(?:^|:|,)(?:\s*\[)+/g,bw=/(webkit)[ \/]([\w.]+)/,bQ=/(opera)(?:.*version)?[ \/]([\w.]+)/,bP=/(msie) ([\w.]+)/,bR=/(mozilla)(?:.*? rv:([\w.]+))?/,bz=/-([a-z]|[0-9])/ig,bY=/^-ms-/,bS=function(bZ,b0){return(b0+"").toUpperCase()},bW=bs.userAgent,bU,bA,e,bK=Object.prototype.toString,bE=Object.prototype.hasOwnProperty,bx=Array.prototype.push,bJ=Array.prototype.slice,bN=String.prototype.trim,bt=Array.prototype.indexOf,bv={};bD.fn=bD.prototype={constructor:bD,init:function(bZ,b3,b2){var b1,b4,b0,b5;if(!bZ){return this}if(bZ.nodeType){this.context=this[0]=bZ;this.length=1;return this}if(bZ==="body"&&!b3&&ar.body){this.context=ar;this[0]=ar.body;this.selector=bZ;this.length=1;return this}if(typeof bZ==="string"){if(bZ.charAt(0)==="<"&&bZ.charAt(bZ.length-1)===">"&&bZ.length>=3){b1=[null,bZ,null]}else{b1=bX.exec(bZ)}if(b1&&(b1[1]||!b3)){if(b1[1]){b3=b3 instanceof bD?b3[0]:b3;b5=(b3?b3.ownerDocument||b3:ar);b0=by.exec(bZ);if(b0){if(bD.isPlainObject(b3)){bZ=[ar.createElement(b0[1])];bD.fn.attr.call(bZ,b3,true)}else{bZ=[b5.createElement(b0[1])]}}else{b0=bD.buildFragment([b1[1]],[b5]);bZ=(b0.cacheable?bD.clone(b0.fragment):b0.fragment).childNodes}return bD.merge(this,bZ)}else{b4=ar.getElementById(b1[2]);if(b4&&b4.parentNode){if(b4.id!==b1[2]){return b2.find(bZ)}this.length=1;this[0]=b4}this.context=ar;this.selector=bZ;return this}}else{if(!b3||b3.jquery){return(b3||b2).find(bZ)}else{return this.constructor(b3).find(bZ)}}}else{if(bD.isFunction(bZ)){return b2.ready(bZ)}}if(bZ.selector!==M){this.selector=bZ.selector;this.context=bZ.context}return bD.makeArray(bZ,this)},selector:"",jquery:"1.6.3",length:0,size:function(){return this.length},toArray:function(){return bJ.call(this,0)},get:function(bZ){return bZ==null?this.toArray():(bZ<0?this[this.length+bZ]:this[bZ])},pushStack:function(b0,b2,bZ){var b1=this.constructor();if(bD.isArray(b0)){bx.apply(b1,b0)}else{bD.merge(b1,b0)}b1.prevObject=this;b1.context=this.context;if(b2==="find"){b1.selector=this.selector+(this.selector?" ":"")+bZ}else{if(b2){b1.selector=this.selector+"."+b2+"("+bZ+")"}}return b1},each:function(b0,bZ){return bD.each(this,b0,bZ)},ready:function(bZ){bD.bindReady();bA.done(bZ);return this},eq:function(bZ){return bZ===-1?this.slice(bZ):this.slice(bZ,+bZ+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(bJ.apply(this,arguments),"slice",bJ.call(arguments).join(","))},map:function(bZ){return this.pushStack(bD.map(this,function(b1,b0){return bZ.call(b1,b0,b1)}))},end:function(){return this.prevObject||this.constructor(null)},push:bx,sort:[].sort,splice:[].splice};bD.fn.init.prototype=bD.fn;bD.extend=bD.fn.extend=function(){var b8,b1,bZ,b0,b5,b6,b4=arguments[0]||{},b3=1,b2=arguments.length,b7=false;if(typeof b4==="boolean"){b7=b4;b4=arguments[1]||{};b3=2}if(typeof b4!=="object"&&!bD.isFunction(b4)){b4={}}if(b2===b3){b4=this;--b3}for(;b3<b2;b3++){if((b8=arguments[b3])!=null){for(b1 in b8){bZ=b4[b1];b0=b8[b1];if(b4===b0){continue}if(b7&&b0&&(bD.isPlainObject(b0)||(b5=bD.isArray(b0)))){if(b5){b5=false;b6=bZ&&bD.isArray(bZ)?bZ:[]}else{b6=bZ&&bD.isPlainObject(bZ)?bZ:{}}b4[b1]=bD.extend(b7,b6,b0)}else{if(b0!==M){b4[b1]=b0}}}}}return b4};bD.extend({noConflict:function(bZ){if(a9.$===bD){a9.$=bF}if(bZ&&a9.jQuery===bD){a9.jQuery=bT}return bD},isReady:false,readyWait:1,holdReady:function(bZ){if(bZ){bD.readyWait++}else{bD.ready(true)}},ready:function(bZ){if((bZ===true&&!--bD.readyWait)||(bZ!==true&&!bD.isReady)){if(!ar.body){return setTimeout(bD.ready,1)}bD.isReady=true;if(bZ!==true&&--bD.readyWait>0){return}bA.resolveWith(ar,[bD]);if(bD.fn.trigger){bD(ar).trigger("ready").unbind("ready")}}},bindReady:function(){if(bA){return}bA=bD._Deferred();if(ar.readyState==="complete"){return setTimeout(bD.ready,1)}if(ar.addEventListener){ar.addEventListener("DOMContentLoaded",e,false);a9.addEventListener("load",bD.ready,false)}else{if(ar.attachEvent){ar.attachEvent("onreadystatechange",e);a9.attachEvent("onload",bD.ready);var bZ=false;try{bZ=a9.frameElement==null}catch(b0){}if(ar.documentElement.doScroll&&bZ){bu()}}}},isFunction:function(bZ){return bD.type(bZ)==="function"},isArray:Array.isArray||function(bZ){return bD.type(bZ)==="array"},isWindow:function(bZ){return bZ&&typeof bZ==="object"&&"setInterval" in bZ},isNaN:function(bZ){return bZ==null||!bG.test(bZ)||isNaN(bZ)},type:function(bZ){return bZ==null?String(bZ):bv[bK.call(bZ)]||"object"},isPlainObject:function(b1){if(!b1||bD.type(b1)!=="object"||b1.nodeType||bD.isWindow(b1)){return false}try{if(b1.constructor&&!bE.call(b1,"constructor")&&!bE.call(b1.constructor.prototype,"isPrototypeOf")){return false}}catch(b0){return false}var bZ;for(bZ in b1){}return bZ===M||bE.call(b1,bZ)},isEmptyObject:function(b0){for(var bZ in b0){return false}return true},error:function(bZ){throw bZ},parseJSON:function(bZ){if(typeof bZ!=="string"||!bZ){return null}bZ=bD.trim(bZ);if(a9.JSON&&a9.JSON.parse){return a9.JSON.parse(bZ)}if(bM.test(bZ.replace(bV,"@").replace(bO,"]").replace(bI,""))){return(new Function("return "+bZ))()}bD.error("Invalid JSON: "+bZ)},parseXML:function(b1){var bZ,b0;try{if(a9.DOMParser){b0=new DOMParser();bZ=b0.parseFromString(b1,"text/xml")}else{bZ=new ActiveXObject("Microsoft.XMLDOM");bZ.async="false";bZ.loadXML(b1)}}catch(b2){bZ=M}if(!bZ||!bZ.documentElement||bZ.getElementsByTagName("parsererror").length){bD.error("Invalid XML: "+b1)}return bZ},noop:function(){},globalEval:function(bZ){if(bZ&&bL.test(bZ)){(a9.execScript||function(b0){a9["eval"].call(a9,b0)})(bZ)}},camelCase:function(bZ){return bZ.replace(bY,"ms-").replace(bz,bS)},nodeName:function(b0,bZ){return b0.nodeName&&b0.nodeName.toUpperCase()===bZ.toUpperCase()},each:function(b2,b5,b1){var b0,b3=0,b4=b2.length,bZ=b4===M||bD.isFunction(b2);if(b1){if(bZ){for(b0 in b2){if(b5.apply(b2[b0],b1)===false){break}}}else{for(;b3<b4;){if(b5.apply(b2[b3++],b1)===false){break}}}}else{if(bZ){for(b0 in b2){if(b5.call(b2[b0],b0,b2[b0])===false){break}}}else{for(;b3<b4;){if(b5.call(b2[b3],b3,b2[b3++])===false){break}}}}return b2},trim:bN?function(bZ){return bZ==null?"":bN.call(bZ)}:function(bZ){return bZ==null?"":bZ.toString().replace(bH,"").replace(bC,"")},makeArray:function(b2,b0){var bZ=b0||[];if(b2!=null){var b1=bD.type(b2);if(b2.length==null||b1==="string"||b1==="function"||b1==="regexp"||bD.isWindow(b2)){bx.call(bZ,b2)}else{bD.merge(bZ,b2)}}return bZ},inArray:function(b1,b2){if(!b2){return -1}if(bt){return bt.call(b2,b1)}for(var bZ=0,b0=b2.length;bZ<b0;bZ++){if(b2[bZ]===b1){return bZ}}return -1},merge:function(b3,b1){var b2=b3.length,b0=0;if(typeof b1.length==="number"){for(var bZ=b1.length;b0<bZ;b0++){b3[b2++]=b1[b0]}}else{while(b1[b0]!==M){b3[b2++]=b1[b0++]}}b3.length=b2;return b3},grep:function(b0,b5,bZ){var b1=[],b4;bZ=!!bZ;for(var b2=0,b3=b0.length;b2<b3;b2++){b4=!!b5(b0[b2],b2);if(bZ!==b4){b1.push(b0[b2])}}return b1},map:function(bZ,b6,b7){var b4,b5,b3=[],b1=0,b0=bZ.length,b2=bZ instanceof bD||b0!==M&&typeof b0==="number"&&((b0>0&&bZ[0]&&bZ[b0-1])||b0===0||bD.isArray(bZ));if(b2){for(;b1<b0;b1++){b4=b6(bZ[b1],b1,b7);if(b4!=null){b3[b3.length]=b4}}}else{for(b5 in bZ){b4=b6(bZ[b5],b5,b7);if(b4!=null){b3[b3.length]=b4}}}return b3.concat.apply([],b3)},guid:1,proxy:function(b3,b2){if(typeof b2==="string"){var b1=b3[b2];b2=b3;b3=b1}if(!bD.isFunction(b3)){return M}var bZ=bJ.call(arguments,2),b0=function(){return b3.apply(b2,bZ.concat(bJ.call(arguments)))};b0.guid=b3.guid=b3.guid||b0.guid||bD.guid++;return b0},access:function(bZ,b7,b5,b1,b4,b6){var b0=bZ.length;if(typeof b7==="object"){for(var b2 in b7){bD.access(bZ,b2,b7[b2],b1,b4,b5)}return bZ}if(b5!==M){b1=!b6&&b1&&bD.isFunction(b5);for(var b3=0;b3<b0;b3++){b4(bZ[b3],b7,b1?b5.call(bZ[b3],b3,b4(bZ[b3],b7)):b5,b6)}return bZ}return b0?b4(bZ[0],b7):M},now:function(){return(new Date()).getTime()},uaMatch:function(b0){b0=b0.toLowerCase();var bZ=bw.exec(b0)||bQ.exec(b0)||bP.exec(b0)||b0.indexOf("compatible")<0&&bR.exec(b0)||[];return{browser:bZ[1]||"",version:bZ[2]||"0"}},sub:function(){function bZ(b2,b3){return new bZ.fn.init(b2,b3)}bD.extend(true,bZ,this);bZ.superclass=this;bZ.fn=bZ.prototype=this();bZ.fn.constructor=bZ;bZ.sub=this.sub;bZ.fn.init=function b1(b2,b3){if(b3&&b3 instanceof bD&&!(b3 instanceof bZ)){b3=bZ(b3)}return bD.fn.init.call(this,b2,b3,b0)};bZ.fn.init.prototype=bZ.fn;var b0=bZ(ar);return bZ},browser:{}});bD.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(b0,bZ){bv["[object "+bZ+"]"]=bZ.toLowerCase()});bU=bD.uaMatch(bW);if(bU.browser){bD.browser[bU.browser]=true;bD.browser.version=bU.version}if(bD.browser.webkit){bD.browser.safari=true}if(bL.test("\xA0")){bH=/^[\s\xA0]+/;bC=/[\s\xA0]+$/}bB=bD(ar);if(ar.addEventListener){e=function(){ar.removeEventListener("DOMContentLoaded",e,false);bD.ready()}}else{if(ar.attachEvent){e=function(){if(ar.readyState==="complete"){ar.detachEvent("onreadystatechange",e);bD.ready()}}}}function bu(){if(bD.isReady){return}try{ar.documentElement.doScroll("left")}catch(bZ){setTimeout(bu,1);return}bD.ready()}return bD})();var a="done fail isResolved isRejected promise then always pipe".split(" "),aG=[].slice;b.extend({_Deferred:function(){var bv=[],bw,bt,bu,e={done:function(){if(!bu){var by=arguments,bz,bC,bB,bA,bx;if(bw){bx=bw;bw=0}for(bz=0,bC=by.length;bz<bC;bz++){bB=by[bz];bA=b.type(bB);if(bA==="array"){e.done.apply(e,bB)}else{if(bA==="function"){bv.push(bB)}}}if(bx){e.resolveWith(bx[0],bx[1])}}return this},resolveWith:function(by,bx){if(!bu&&!bw&&!bt){bx=bx||[];bt=1;try{while(bv[0]){bv.shift().apply(by,bx)}}finally{bw=[by,bx];bt=0}}return this},resolve:function(){e.resolveWith(this,arguments);return this},isResolved:function(){return !!(bt||bw)},cancel:function(){bu=1;bv=[];return this}};return e},Deferred:function(bt){var e=b._Deferred(),bv=b._Deferred(),bu;b.extend(e,{then:function(bx,bw){e.done(bx).fail(bw);return this},always:function(){return e.done.apply(e,arguments).fail.apply(this,arguments)},fail:bv.done,rejectWith:bv.resolveWith,reject:bv.resolve,isRejected:bv.isResolved,pipe:function(bx,bw){return b.Deferred(function(by){b.each({done:[bx,"resolve"],fail:[bw,"reject"]},function(bA,bD){var bz=bD[0],bC=bD[1],bB;if(b.isFunction(bz)){e[bA](function(){bB=bz.apply(this,arguments);if(bB&&b.isFunction(bB.promise)){bB.promise().then(by.resolve,by.reject)}else{by[bC+"With"](this===e?by:this,[bB])}})}else{e[bA](by[bC])}})}).promise()},promise:function(bx){if(bx==null){if(bu){return bu}bu=bx={}}var bw=a.length;while(bw--){bx[a[bw]]=e[a[bw]]}return bx}});e.done(bv.cancel).fail(e.cancel);delete e.cancel;if(bt){bt.call(e,e)}return e},when:function(by){var bt=arguments,bu=0,bx=bt.length,bw=bx,e=bx<=1&&by&&b.isFunction(by.promise)?by:b.Deferred();function bv(bz){return function(bA){bt[bz]=arguments.length>1?aG.call(arguments,0):bA;if(!(--bw)){e.resolveWith(e,aG.call(bt,0))}}}if(bx>1){for(;bu<bx;bu++){if(bt[bu]&&b.isFunction(bt[bu].promise)){bt[bu].promise().then(bv(bu),e.reject)}else{--bw}}if(!bw){e.resolveWith(e,bt)}}else{if(e!==by){e.resolveWith(e,bx?[by]:[])}}return e.promise()}});b.support=(function(){var bD=ar.createElement("div"),bK=ar.documentElement,bw,bL,bE,bu,bC,bx,bA,bt,bB,bF,bz,bJ,bH,bv,by,bG,bM;bD.setAttribute("className","t");bD.innerHTML="   <link><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type=checkbox>";bw=bD.getElementsByTagName("*");bL=bD.getElementsByTagName("a")[0];if(!bw||!bw.length||!bL){return{}}bE=ar.createElement("select");bu=bE.appendChild(ar.createElement("option"));bC=bD.getElementsByTagName("input")[0];bA={leadingWhitespace:(bD.firstChild.nodeType===3),tbody:!bD.getElementsByTagName("tbody").length,htmlSerialize:!!bD.getElementsByTagName("link").length,style:/top/.test(bL.getAttribute("style")),hrefNormalized:(bL.getAttribute("href")==="/a"),opacity:/^0.55$/.test(bL.style.opacity),cssFloat:!!bL.style.cssFloat,checkOn:(bC.value==="on"),optSelected:bu.selected,getSetAttribute:bD.className!=="t",submitBubbles:true,changeBubbles:true,focusinBubbles:false,deleteExpando:true,noCloneEvent:true,inlineBlockNeedsLayout:false,shrinkWrapBlocks:false,reliableMarginRight:true};bC.checked=true;bA.noCloneChecked=bC.cloneNode(true).checked;bE.disabled=true;bA.optDisabled=!bu.disabled;try{delete bD.test}catch(bI){bA.deleteExpando=false}if(!bD.addEventListener&&bD.attachEvent&&bD.fireEvent){bD.attachEvent("onclick",function(){bA.noCloneEvent=false});bD.cloneNode(true).fireEvent("onclick")}bC=ar.createElement("input");bC.value="t";bC.setAttribute("type","radio");bA.radioValue=bC.value==="t";bC.setAttribute("checked","checked");bD.appendChild(bC);bt=ar.createDocumentFragment();bt.appendChild(bD.firstChild);bA.checkClone=bt.cloneNode(true).cloneNode(true).lastChild.checked;bD.innerHTML="";bD.style.width=bD.style.paddingLeft="1px";bB=ar.getElementsByTagName("body")[0];bz=ar.createElement(bB?"div":"body");bJ={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};if(bB){b.extend(bJ,{position:"absolute",left:"-1000px",top:"-1000px"})}for(bG in bJ){bz.style[bG]=bJ[bG]}bz.appendChild(bD);bF=bB||bK;bF.insertBefore(bz,bF.firstChild);bA.appendChecked=bC.checked;bA.boxModel=bD.offsetWidth===2;if("zoom" in bD.style){bD.style.display="inline";bD.style.zoom=1;bA.inlineBlockNeedsLayout=(bD.offsetWidth===2);bD.style.display="";bD.innerHTML="<div style='width:4px;'></div>";bA.shrinkWrapBlocks=(bD.offsetWidth!==2)}bD.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>";bH=bD.getElementsByTagName("td");bM=(bH[0].offsetHeight===0);bH[0].style.display="";bH[1].style.display="none";bA.reliableHiddenOffsets=bM&&(bH[0].offsetHeight===0);bD.innerHTML="";if(ar.defaultView&&ar.defaultView.getComputedStyle){bx=ar.createElement("div");bx.style.width="0";bx.style.marginRight="0";bD.appendChild(bx);bA.reliableMarginRight=(parseInt((ar.defaultView.getComputedStyle(bx,null)||{marginRight:0}).marginRight,10)||0)===0}bz.innerHTML="";bF.removeChild(bz);if(bD.attachEvent){for(bG in {submit:1,change:1,focusin:1}){by="on"+bG;bM=(by in bD);if(!bM){bD.setAttribute(by,"return;");bM=(typeof bD[by]==="function")}bA[bG+"Bubbles"]=bM}}bz=bt=bE=bu=bB=bx=bD=bC=null;return bA})();b.boxModel=b.support.boxModel;var aN=/^(?:\{.*\}|\[.*\])$/,ax=/([a-z])([A-Z])/g;b.extend({cache:{},uuid:0,expando:"jQuery"+(b.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:true,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:true},hasData:function(e){e=e.nodeType?b.cache[e[b.expando]]:e[b.expando];return !!e&&!U(e)},data:function(bv,bt,bx,bw){if(!b.acceptData(bv)){return}var by,bA,bB=b.expando,bz=typeof bt==="string",bC=bv.nodeType,e=bC?b.cache:bv,bu=bC?bv[b.expando]:bv[b.expando]&&b.expando;if((!bu||(bw&&bu&&(e[bu]&&!e[bu][bB])))&&bz&&bx===M){return}if(!bu){if(bC){bv[b.expando]=bu=++b.uuid}else{bu=b.expando}}if(!e[bu]){e[bu]={};if(!bC){e[bu].toJSON=b.noop}}if(typeof bt==="object"||typeof bt==="function"){if(bw){e[bu][bB]=b.extend(e[bu][bB],bt)}else{e[bu]=b.extend(e[bu],bt)}}by=e[bu];if(bw){if(!by[bB]){by[bB]={}}by=by[bB]}if(bx!==M){by[b.camelCase(bt)]=bx}if(bt==="events"&&!by[bt]){return by[bB]&&by[bB].events}if(bz){bA=by[bt];if(bA==null){bA=by[b.camelCase(bt)]}}else{bA=by}return bA},removeData:function(bw,bu,bx){if(!b.acceptData(bw)){return}var by,bz=b.expando,bA=bw.nodeType,bt=bA?b.cache:bw,bv=bA?bw[b.expando]:b.expando;if(!bt[bv]){return}if(bu){by=bx?bt[bv][bz]:bt[bv];if(by){if(!by[bu]){bu=b.camelCase(bu)}delete by[bu];if(!U(by)){return}}}if(bx){delete bt[bv][bz];if(!U(bt[bv])){return}}var e=bt[bv][bz];if(b.support.deleteExpando||!bt.setInterval){delete bt[bv]}else{bt[bv]=null}if(e){bt[bv]={};if(!bA){bt[bv].toJSON=b.noop}bt[bv][bz]=e}else{if(bA){if(b.support.deleteExpando){delete bw[b.expando]}else{if(bw.removeAttribute){bw.removeAttribute(b.expando)}else{bw[b.expando]=null}}}}},_data:function(bt,e,bu){return b.data(bt,e,bu,true)},acceptData:function(bt){if(bt.nodeName){var e=b.noData[bt.nodeName.toLowerCase()];if(e){return !(e===true||bt.getAttribute("classid")!==e)}}return true}});b.fn.extend({data:function(bw,by){var bx=null;if(typeof bw==="undefined"){if(this.length){bx=b.data(this[0]);if(this[0].nodeType===1){var e=this[0].attributes,bu;for(var bv=0,bt=e.length;bv<bt;bv++){bu=e[bv].name;if(bu.indexOf("data-")===0){bu=b.camelCase(bu.substring(5));a3(this[0],bu,bx[bu])}}}}return bx}else{if(typeof bw==="object"){return this.each(function(){b.data(this,bw)})}}var bz=bw.split(".");bz[1]=bz[1]?"."+bz[1]:"";if(by===M){bx=this.triggerHandler("getData"+bz[1]+"!",[bz[0]]);if(bx===M&&this.length){bx=b.data(this[0],bw);bx=a3(this[0],bw,bx)}return bx===M&&bz[1]?this.data(bz[0]):bx}else{return this.each(function(){var bB=b(this),bA=[bz[0],by];bB.triggerHandler("setData"+bz[1]+"!",bA);b.data(this,bw,by);bB.triggerHandler("changeData"+bz[1]+"!",bA)})}},removeData:function(e){return this.each(function(){b.removeData(this,e)})}});function a3(bv,bu,bw){if(bw===M&&bv.nodeType===1){var bt="data-"+bu.replace(ax,"$1-$2").toLowerCase();bw=bv.getAttribute(bt);if(typeof bw==="string"){try{bw=bw==="true"?true:bw==="false"?false:bw==="null"?null:!b.isNaN(bw)?parseFloat(bw):aN.test(bw)?b.parseJSON(bw):bw}catch(bx){}b.data(bv,bu,bw)}else{bw=M}}return bw}function U(bt){for(var e in bt){if(e!=="toJSON"){return false}}return true}function bf(bw,bv,by){var bu=bv+"defer",bt=bv+"queue",e=bv+"mark",bx=b.data(bw,bu,M,true);if(bx&&(by==="queue"||!b.data(bw,bt,M,true))&&(by==="mark"||!b.data(bw,e,M,true))){setTimeout(function(){if(!b.data(bw,bt,M,true)&&!b.data(bw,e,M,true)){b.removeData(bw,bu,true);bx.resolve()}},0)}}b.extend({_mark:function(bt,e){if(bt){e=(e||"fx")+"mark";b.data(bt,e,(b.data(bt,e,M,true)||0)+1,true)}},_unmark:function(bw,bv,bt){if(bw!==true){bt=bv;bv=bw;bw=false}if(bv){bt=bt||"fx";var e=bt+"mark",bu=bw?0:((b.data(bv,e,M,true)||1)-1);if(bu){b.data(bv,e,bu,true)}else{b.removeData(bv,e,true);bf(bv,bt,"mark")}}},queue:function(bt,e,bv){if(bt){e=(e||"fx")+"queue";var bu=b.data(bt,e,M,true);if(bv){if(!bu||b.isArray(bv)){bu=b.data(bt,e,b.makeArray(bv),true)}else{bu.push(bv)}}return bu||[]}},dequeue:function(bv,bu){bu=bu||"fx";var e=b.queue(bv,bu),bt=e.shift(),bw;if(bt==="inprogress"){bt=e.shift()}if(bt){if(bu==="fx"){e.unshift("inprogress")}bt.call(bv,function(){b.dequeue(bv,bu)})}if(!e.length){b.removeData(bv,bu+"queue",true);bf(bv,bu,"queue")}}});b.fn.extend({queue:function(e,bt){if(typeof e!=="string"){bt=e;e="fx"}if(bt===M){return b.queue(this[0],e)}return this.each(function(){var bu=b.queue(this,e,bt);if(e==="fx"&&bu[0]!=="inprogress"){b.dequeue(this,e)}})},dequeue:function(e){return this.each(function(){b.dequeue(this,e)})},delay:function(bt,e){bt=b.fx?b.fx.speeds[bt]||bt:bt;e=e||"fx";return this.queue(e,function(){var bu=this;setTimeout(function(){b.dequeue(bu,e)},bt)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(bB,bu){if(typeof bB!=="string"){bu=bB;bB=M}bB=bB||"fx";var e=b.Deferred(),bt=this,bw=bt.length,bz=1,bx=bB+"defer",by=bB+"queue",bA=bB+"mark",bv;function bC(){if(!(--bz)){e.resolveWith(bt,[bt])}}while(bw--){if((bv=b.data(bt[bw],bx,M,true)||(b.data(bt[bw],by,M,true)||b.data(bt[bw],bA,M,true))&&b.data(bt[bw],bx,b._Deferred(),true))){bz++;bv.done(bC)}}bC();return e.promise()}});var aL=/[\n\t\r]/g,ad=/\s+/,aP=/\r/g,g=/^(?:button|input)$/i,F=/^(?:button|input|object|select|textarea)$/i,m=/^a(?:rea)?$/i,al=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,bc,aW;b.fn.extend({attr:function(e,bt){return b.access(this,e,bt,true,b.attr)},removeAttr:function(e){return this.each(function(){b.removeAttr(this,e)})},prop:function(e,bt){return b.access(this,e,bt,true,b.prop)},removeProp:function(e){e=b.propFix[e]||e;return this.each(function(){try{this[e]=M;delete this[e]}catch(bt){}})},addClass:function(bw){var by,bu,bt,bv,bx,bz,e;if(b.isFunction(bw)){return this.each(function(bA){b(this).addClass(bw.call(this,bA,this.className))})}if(bw&&typeof bw==="string"){by=bw.split(ad);for(bu=0,bt=this.length;bu<bt;bu++){bv=this[bu];if(bv.nodeType===1){if(!bv.className&&by.length===1){bv.className=bw}else{bx=" "+bv.className+" ";for(bz=0,e=by.length;bz<e;bz++){if(!~bx.indexOf(" "+by[bz]+" ")){bx+=by[bz]+" "}}bv.className=b.trim(bx)}}}}return this},removeClass:function(bx){var by,bu,bt,bw,bv,bz,e;if(b.isFunction(bx)){return this.each(function(bA){b(this).removeClass(bx.call(this,bA,this.className))})}if((bx&&typeof bx==="string")||bx===M){by=(bx||"").split(ad);for(bu=0,bt=this.length;bu<bt;bu++){bw=this[bu];if(bw.nodeType===1&&bw.className){if(bx){bv=(" "+bw.className+" ").replace(aL," ");for(bz=0,e=by.length;bz<e;bz++){bv=bv.replace(" "+by[bz]+" "," ")}bw.className=b.trim(bv)}else{bw.className=""}}}}return this},toggleClass:function(bv,bt){var bu=typeof bv,e=typeof bt==="boolean";if(b.isFunction(bv)){return this.each(function(bw){b(this).toggleClass(bv.call(this,bw,this.className,bt),bt)})}return this.each(function(){if(bu==="string"){var by,bx=0,bw=b(this),bz=bt,bA=bv.split(ad);while((by=bA[bx++])){bz=e?bz:!bw.hasClass(by);bw[bz?"addClass":"removeClass"](by)}}else{if(bu==="undefined"||bu==="boolean"){if(this.className){b._data(this,"__className__",this.className)}this.className=this.className||bv===false?"":b._data(this,"__className__")||""}}})},hasClass:function(e){var bv=" "+e+" ";for(var bu=0,bt=this.length;bu<bt;bu++){if(this[bu].nodeType===1&&(" "+this[bu].className+" ").replace(aL," ").indexOf(bv)>-1){return true}}return false},val:function(bv){var e,bt,bu=this[0];if(!arguments.length){if(bu){e=b.valHooks[bu.nodeName.toLowerCase()]||b.valHooks[bu.type];if(e&&"get" in e&&(bt=e.get(bu,"value"))!==M){return bt}bt=bu.value;return typeof bt==="string"?bt.replace(aP,""):bt==null?"":bt}return M}var bw=b.isFunction(bv);return this.each(function(by){var bx=b(this),bz;if(this.nodeType!==1){return}if(bw){bz=bv.call(this,by,bx.val())}else{bz=bv}if(bz==null){bz=""}else{if(typeof bz==="number"){bz+=""}else{if(b.isArray(bz)){bz=b.map(bz,function(bA){return bA==null?"":bA+""})}}}e=b.valHooks[this.nodeName.toLowerCase()]||b.valHooks[this.type];if(!e||!("set" in e)||e.set(this,bz,"value")===M){this.value=bz}})}});b.extend({valHooks:{option:{get:function(e){var bt=e.attributes.value;return !bt||bt.specified?e.value:e.text}},select:{get:function(e){var by,bw=e.selectedIndex,bz=[],bA=e.options,bv=e.type==="select-one";if(bw<0){return null}for(var bt=bv?bw:0,bx=bv?bw+1:bA.length;bt<bx;bt++){var bu=bA[bt];if(bu.selected&&(b.support.optDisabled?!bu.disabled:bu.getAttribute("disabled")===null)&&(!bu.parentNode.disabled||!b.nodeName(bu.parentNode,"optgroup"))){by=b(bu).val();if(bv){return by}bz.push(by)}}if(bv&&!bz.length&&bA.length){return b(bA[bw]).val()}return bz},set:function(bt,bu){var e=b.makeArray(bu);b(bt).find("option").each(function(){this.selected=b.inArray(b(this).val(),e)>=0});if(!e.length){bt.selectedIndex=-1}return e}}},attrFn:{val:true,css:true,html:true,text:true,data:true,width:true,height:true,offset:true},attrFix:{tabindex:"tabIndex"},attr:function(by,bv,bz,bx){var bt=by.nodeType;if(!by||bt===3||bt===8||bt===2){return M}if(bx&&bv in b.attrFn){return b(by)[bv](bz)}if(!("getAttribute" in by)){return b.prop(by,bv,bz)}var bu,e,bw=bt!==1||!b.isXMLDoc(by);if(bw){bv=b.attrFix[bv]||bv;e=b.attrHooks[bv];if(!e){if(al.test(bv)){e=aW}else{if(bc){e=bc}}}}if(bz!==M){if(bz===null){b.removeAttr(by,bv);return M}else{if(e&&"set" in e&&bw&&(bu=e.set(by,bz,bv))!==M){return bu}else{by.setAttribute(bv,""+bz);return bz}}}else{if(e&&"get" in e&&bw&&(bu=e.get(by,bv))!==null){return bu}else{bu=by.getAttribute(bv);return bu===null?M:bu}}},removeAttr:function(bt,e){var bu;if(bt.nodeType===1){e=b.attrFix[e]||e;b.attr(bt,e,"");bt.removeAttribute(e);if(al.test(e)&&(bu=b.propFix[e]||e) in bt){bt[bu]=false}}},attrHooks:{type:{set:function(e,bt){if(g.test(e.nodeName)&&e.parentNode){b.error("type property can't be changed")}else{if(!b.support.radioValue&&bt==="radio"&&b.nodeName(e,"input")){var bu=e.value;e.setAttribute("type",bt);if(bu){e.value=bu}return bt}}}},value:{get:function(bt,e){if(bc&&b.nodeName(bt,"button")){return bc.get(bt,e)}return e in bt?bt.value:null},set:function(bt,bu,e){if(bc&&b.nodeName(bt,"button")){return bc.set(bt,bu,e)}bt.value=bu}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(bx,bv,by){var bt=bx.nodeType;if(!bx||bt===3||bt===8||bt===2){return M}var bu,e,bw=bt!==1||!b.isXMLDoc(bx);if(bw){bv=b.propFix[bv]||bv;e=b.propHooks[bv]}if(by!==M){if(e&&"set" in e&&(bu=e.set(bx,by,bv))!==M){return bu}else{return(bx[bv]=by)}}else{if(e&&"get" in e&&(bu=e.get(bx,bv))!==null){return bu}else{return bx[bv]}}},propHooks:{tabIndex:{get:function(bt){var e=bt.getAttributeNode("tabindex");return e&&e.specified?parseInt(e.value,10):F.test(bt.nodeName)||m.test(bt.nodeName)&&bt.href?0:M}}}});b.attrHooks.tabIndex=b.propHooks.tabIndex;aW={get:function(bt,e){var bu;return b.prop(bt,e)===true||(bu=bt.getAttributeNode(e))&&bu.nodeValue!==false?e.toLowerCase():M},set:function(bt,bv,e){var bu;if(bv===false){b.removeAttr(bt,e)}else{bu=b.propFix[e]||e;if(bu in bt){bt[bu]=true}bt.setAttribute(e,e.toLowerCase())}return e}};if(!b.support.getSetAttribute){bc=b.valHooks.button={get:function(bu,bt){var e;e=bu.getAttributeNode(bt);return e&&e.nodeValue!==""?e.nodeValue:M},set:function(bu,bv,bt){var e=bu.getAttributeNode(bt);if(!e){e=ar.createAttribute(bt);bu.setAttributeNode(e)}return(e.nodeValue=bv+"")}};b.each(["width","height"],function(bt,e){b.attrHooks[e]=b.extend(b.attrHooks[e],{set:function(bu,bv){if(bv===""){bu.setAttribute(e,"auto");return bv}}})})}if(!b.support.hrefNormalized){b.each(["href","src","width","height"],function(bt,e){b.attrHooks[e]=b.extend(b.attrHooks[e],{get:function(bv){var bu=bv.getAttribute(e,2);return bu===null?M:bu}})})}if(!b.support.style){b.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||M},set:function(e,bt){return(e.style.cssText=""+bt)}}}if(!b.support.optSelected){b.propHooks.selected=b.extend(b.propHooks.selected,{get:function(bt){var e=bt.parentNode;if(e){e.selectedIndex;if(e.parentNode){e.parentNode.selectedIndex}}return null}})}if(!b.support.checkOn){b.each(["radio","checkbox"],function(){b.valHooks[this]={get:function(e){return e.getAttribute("value")===null?"on":e.value}}})}b.each(["radio","checkbox"],function(){b.valHooks[this]=b.extend(b.valHooks[this],{set:function(e,bt){if(b.isArray(bt)){return(e.checked=b.inArray(b(e).val(),bt)>=0)}}})});var aY=/\.(.*)$/,bb=/^(?:textarea|input|select)$/i,P=/\./g,bg=/ /g,aD=/[^\w\s.|`]/g,I=function(e){return e.replace(aD,"\\$&")};b.event={add:function(bv,bz,bE,bx){if(bv.nodeType===3||bv.nodeType===8){return}if(bE===false){bE=bi}else{if(!bE){return}}var bt,bD;if(bE.handler){bt=bE;bE=bt.handler}if(!bE.guid){bE.guid=b.guid++}var bA=b._data(bv);if(!bA){return}var bF=bA.events,by=bA.handle;if(!bF){bA.events=bF={}}if(!by){bA.handle=by=function(bG){return typeof b!=="undefined"&&(!bG||b.event.triggered!==bG.type)?b.event.handle.apply(by.elem,arguments):M}}by.elem=bv;bz=bz.split(" ");var bC,bw=0,e;while((bC=bz[bw++])){bD=bt?b.extend({},bt):{handler:bE,data:bx};if(bC.indexOf(".")>-1){e=bC.split(".");bC=e.shift();bD.namespace=e.slice(0).sort().join(".")}else{e=[];bD.namespace=""}bD.type=bC;if(!bD.guid){bD.guid=bE.guid}var bu=bF[bC],bB=b.event.special[bC]||{};if(!bu){bu=bF[bC]=[];if(!bB.setup||bB.setup.call(bv,bx,e,by)===false){if(bv.addEventListener){bv.addEventListener(bC,by,false)}else{if(bv.attachEvent){bv.attachEvent("on"+bC,by)}}}}if(bB.add){bB.add.call(bv,bD);if(!bD.handler.guid){bD.handler.guid=bE.guid}}bu.push(bD);b.event.global[bC]=true}bv=null},global:{},remove:function(bH,bC,bu,by){if(bH.nodeType===3||bH.nodeType===8){return}if(bu===false){bu=bi}var bK,bx,bz,bE,bF=0,bv,bA,bD,bw,bB,e,bJ,bG=b.hasData(bH)&&b._data(bH),bt=bG&&bG.events;if(!bG||!bt){return}if(bC&&bC.type){bu=bC.handler;bC=bC.type}if(!bC||typeof bC==="string"&&bC.charAt(0)==="."){bC=bC||"";for(bx in bt){b.event.remove(bH,bx+bC)}return}bC=bC.split(" ");while((bx=bC[bF++])){bJ=bx;e=null;bv=bx.indexOf(".")<0;bA=[];if(!bv){bA=bx.split(".");bx=bA.shift();bD=new RegExp("(^|\\.)"+b.map(bA.slice(0).sort(),I).join("\\.(?:.*\\.)?")+"(\\.|$)")}bB=bt[bx];if(!bB){continue}if(!bu){for(bE=0;bE<bB.length;bE++){e=bB[bE];if(bv||bD.test(e.namespace)){b.event.remove(bH,bJ,e.handler,bE);bB.splice(bE--,1)}}continue}bw=b.event.special[bx]||{};for(bE=by||0;bE<bB.length;bE++){e=bB[bE];if(bu.guid===e.guid){if(bv||bD.test(e.namespace)){if(by==null){bB.splice(bE--,1)}if(bw.remove){bw.remove.call(bH,e)}}if(by!=null){break}}}if(bB.length===0||by!=null&&bB.length===1){if(!bw.teardown||bw.teardown.call(bH,bA)===false){b.removeEvent(bH,bx,bG.handle)}bK=null;delete bt[bx]}}if(b.isEmptyObject(bt)){var bI=bG.handle;if(bI){bI.elem=null}delete bG.events;delete bG.handle;if(b.isEmptyObject(bG)){b.removeData(bH,M,true)}}},customEvent:{getData:true,setData:true,changeData:true},trigger:function(e,bz,bx,bE){var bC=e.type||e,bu=[],bt;if(bC.indexOf("!")>=0){bC=bC.slice(0,-1);bt=true}if(bC.indexOf(".")>=0){bu=bC.split(".");bC=bu.shift();bu.sort()}if((!bx||b.event.customEvent[bC])&&!b.event.global[bC]){return}e=typeof e==="object"?e[b.expando]?e:new b.Event(bC,e):new b.Event(bC);e.type=bC;e.exclusive=bt;e.namespace=bu.join(".");e.namespace_re=new RegExp("(^|\\.)"+bu.join("\\.(?:.*\\.)?")+"(\\.|$)");if(bE||!bx){e.preventDefault();e.stopPropagation()}if(!bx){b.each(b.cache,function(){var bG=b.expando,bF=this[bG];if(bF&&bF.events&&bF.events[bC]){b.event.trigger(e,bz,bF.handle.elem)}});return}if(bx.nodeType===3||bx.nodeType===8){return}e.result=M;e.target=bx;bz=bz!=null?b.makeArray(bz):[];bz.unshift(e);var bD=bx,bv=bC.indexOf(":")<0?"on"+bC:"";do{var bA=b._data(bD,"handle");e.currentTarget=bD;if(bA){bA.apply(bD,bz)}if(bv&&b.acceptData(bD)&&bD[bv]&&bD[bv].apply(bD,bz)===false){e.result=false;e.preventDefault()}bD=bD.parentNode||bD.ownerDocument||bD===e.target.ownerDocument&&a9}while(bD&&!e.isPropagationStopped());if(!e.isDefaultPrevented()){var bw,bB=b.event.special[bC]||{};if((!bB._default||bB._default.call(bx.ownerDocument,e)===false)&&!(bC==="click"&&b.nodeName(bx,"a"))&&b.acceptData(bx)){try{if(bv&&bx[bC]){bw=bx[bv];if(bw){bx[bv]=null}b.event.triggered=bC;bx[bC]()}}catch(by){}if(bw){bx[bv]=bw}b.event.triggered=M}}return e.result},handle:function(bz){bz=b.event.fix(bz||a9.event);var bt=((b._data(this,"events")||{})[bz.type]||[]).slice(0),by=!bz.exclusive&&!bz.namespace,bw=Array.prototype.slice.call(arguments,0);bw[0]=bz;bz.currentTarget=this;for(var bv=0,e=bt.length;bv<e;bv++){var bx=bt[bv];if(by||bz.namespace_re.test(bx.namespace)){bz.handler=bx.handler;bz.data=bx.data;bz.handleObj=bx;var bu=bx.handler.apply(this,bw);if(bu!==M){bz.result=bu;if(bu===false){bz.preventDefault();bz.stopPropagation()}}if(bz.isImmediatePropagationStopped()){break}}}return bz.result},props:"altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),fix:function(bw){if(bw[b.expando]){return bw}var bt=bw;bw=b.Event(bt);for(var bu=this.props.length,by;bu;){by=this.props[--bu];bw[by]=bt[by]}if(!bw.target){bw.target=bw.srcElement||ar}if(bw.target.nodeType===3){bw.target=bw.target.parentNode}if(!bw.relatedTarget&&bw.fromElement){bw.relatedTarget=bw.fromElement===bw.target?bw.toElement:bw.fromElement}if(bw.pageX==null&&bw.clientX!=null){var bv=bw.target.ownerDocument||ar,bx=bv.documentElement,e=bv.body;bw.pageX=bw.clientX+(bx&&bx.scrollLeft||e&&e.scrollLeft||0)-(bx&&bx.clientLeft||e&&e.clientLeft||0);bw.pageY=bw.clientY+(bx&&bx.scrollTop||e&&e.scrollTop||0)-(bx&&bx.clientTop||e&&e.clientTop||0)}if(bw.which==null&&(bw.charCode!=null||bw.keyCode!=null)){bw.which=bw.charCode!=null?bw.charCode:bw.keyCode}if(!bw.metaKey&&bw.ctrlKey){bw.metaKey=bw.ctrlKey}if(!bw.which&&bw.button!==M){bw.which=(bw.button&1?1:(bw.button&2?3:(bw.button&4?2:0)))}return bw},guid:100000000,proxy:b.proxy,special:{ready:{setup:b.bindReady,teardown:b.noop},live:{add:function(e){b.event.add(this,q(e.origType,e.selector),b.extend({},e,{handler:ai,guid:e.handler.guid}))},remove:function(e){b.event.remove(this,q(e.origType,e.selector),e)}},beforeunload:{setup:function(bu,bt,e){if(b.isWindow(this)){this.onbeforeunload=e}},teardown:function(bt,e){if(this.onbeforeunload===e){this.onbeforeunload=null}}}}};b.removeEvent=ar.removeEventListener?function(bt,e,bu){if(bt.removeEventListener){bt.removeEventListener(e,bu,false)}}:function(bt,e,bu){if(bt.detachEvent){bt.detachEvent("on"+e,bu)}};b.Event=function(bt,e){if(!this.preventDefault){return new b.Event(bt,e)}if(bt&&bt.type){this.originalEvent=bt;this.type=bt.type;this.isDefaultPrevented=(bt.defaultPrevented||bt.returnValue===false||bt.getPreventDefault&&bt.getPreventDefault())?j:bi}else{this.type=bt}if(e){b.extend(this,e)}this.timeStamp=b.now();this[b.expando]=true};function bi(){return false}function j(){return true}b.Event.prototype={preventDefault:function(){this.isDefaultPrevented=j;var bt=this.originalEvent;if(!bt){return}if(bt.preventDefault){bt.preventDefault()}else{bt.returnValue=false}},stopPropagation:function(){this.isPropagationStopped=j;var bt=this.originalEvent;if(!bt){return}if(bt.stopPropagation){bt.stopPropagation()}bt.cancelBubble=true},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=j;this.stopPropagation()},isDefaultPrevented:bi,isPropagationStopped:bi,isImmediatePropagationStopped:bi};var ac=function(bu){var bv=bu.relatedTarget,e=false,bt=bu.type;bu.type=bu.data;if(bv!==this){if(bv){e=b.contains(this,bv)}if(!e){b.event.handle.apply(this,arguments);bu.type=bt}}},aT=function(e){e.type=e.data;b.event.handle.apply(this,arguments)};b.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(bt,e){b.event.special[bt]={setup:function(bu){b.event.add(this,e,bu&&bu.selector?aT:ac,bt)},teardown:function(bu){b.event.remove(this,e,bu&&bu.selector?aT:ac)}}});if(!b.support.submitBubbles){b.event.special.submit={setup:function(bt,e){if(!b.nodeName(this,"form")){b.event.add(this,"click.specialSubmit",function(bw){var bv=bw.target,bu=b.nodeName(bv,"input")?bv.type:"";if((bu==="submit"||bu==="image")&&b(bv).closest("form").length){aV("submit",this,arguments)}});b.event.add(this,"keypress.specialSubmit",function(bw){var bv=bw.target,bu=b.nodeName(bv,"input")?bv.type:"";if((bu==="text"||bu==="password")&&b(bv).closest("form").length&&bw.keyCode===13){aV("submit",this,arguments)}})}else{return false}},teardown:function(e){b.event.remove(this,".specialSubmit")}}}if(!b.support.changeBubbles){var bl,l=function(bt){var e=b.nodeName(bt,"input")?bt.type:"",bu=bt.value;if(e==="radio"||e==="checkbox"){bu=bt.checked}else{if(e==="select-multiple"){bu=bt.selectedIndex>-1?b.map(bt.options,function(bv){return bv.selected}).join("-"):""}else{if(b.nodeName(bt,"select")){bu=bt.selectedIndex}}}return bu},aa=function aa(bv){var bt=bv.target,bu,bw;if(!bb.test(bt.nodeName)||bt.readOnly){return}bu=b._data(bt,"_change_data");bw=l(bt);if(bv.type!=="focusout"||bt.type!=="radio"){b._data(bt,"_change_data",bw)}if(bu===M||bw===bu){return}if(bu!=null||bw){bv.type="change";bv.liveFired=M;b.event.trigger(bv,arguments[1],bt)}};b.event.special.change={filters:{focusout:aa,beforedeactivate:aa,click:function(bv){var bu=bv.target,bt=b.nodeName(bu,"input")?bu.type:"";if(bt==="radio"||bt==="checkbox"||b.nodeName(bu,"select")){aa.call(this,bv)}},keydown:function(bv){var bu=bv.target,bt=b.nodeName(bu,"input")?bu.type:"";if((bv.keyCode===13&&!b.nodeName(bu,"textarea"))||(bv.keyCode===32&&(bt==="checkbox"||bt==="radio"))||bt==="select-multiple"){aa.call(this,bv)}},beforeactivate:function(bu){var bt=bu.target;b._data(bt,"_change_data",l(bt))}},setup:function(bu,bt){if(this.type==="file"){return false}for(var e in bl){b.event.add(this,e+".specialChange",bl[e])}return bb.test(this.nodeName)},teardown:function(e){b.event.remove(this,".specialChange");return bb.test(this.nodeName)}};bl=b.event.special.change.filters;bl.focus=bl.beforeactivate}function aV(bt,bv,e){var bu=b.extend({},e[0]);bu.type=bt;bu.originalEvent={};bu.liveFired=M;b.event.handle.call(bv,bu);if(bu.isDefaultPrevented()){e[0].preventDefault()}}if(!b.support.focusinBubbles){b.each({focus:"focusin",blur:"focusout"},function(bv,e){var bt=0;b.event.special[e]={setup:function(){if(bt++===0){ar.addEventListener(bv,bu,true)}},teardown:function(){if(--bt===0){ar.removeEventListener(bv,bu,true)}}};function bu(bw){var bx=b.event.fix(bw);bx.type=e;bx.originalEvent={};b.event.trigger(bx,null,bx.target);if(bx.isDefaultPrevented()){bw.preventDefault()}}})}b.each(["bind","one"],function(bt,e){b.fn[e]=function(bz,bA,by){var bx;if(typeof bz==="object"){for(var bw in bz){this[e](bw,bA,bz[bw],by)}return this}if(arguments.length===2||bA===false){by=bA;bA=M}if(e==="one"){bx=function(bB){b(this).unbind(bB,bx);return by.apply(this,arguments)};bx.guid=by.guid||b.guid++}else{bx=by}if(bz==="unload"&&e!=="one"){this.one(bz,bA,by)}else{for(var bv=0,bu=this.length;bv<bu;bv++){b.event.add(this[bv],bz,bx,bA)}}return this}});b.fn.extend({unbind:function(bw,bv){if(typeof bw==="object"&&!bw.preventDefault){for(var bu in bw){this.unbind(bu,bw[bu])}}else{for(var bt=0,e=this.length;bt<e;bt++){b.event.remove(this[bt],bw,bv)}}return this},delegate:function(e,bt,bv,bu){return this.live(bt,bv,bu,e)},undelegate:function(e,bt,bu){if(arguments.length===0){return this.unbind("live")}else{return this.die(bt,null,bu,e)}},trigger:function(e,bt){return this.each(function(){b.event.trigger(e,bt,this)})},triggerHandler:function(e,bt){if(this[0]){return b.event.trigger(e,bt,this[0],true)}},toggle:function(bv){var bt=arguments,e=bv.guid||b.guid++,bu=0,bw=function(bx){var by=(b.data(this,"lastToggle"+bv.guid)||0)%bu;b.data(this,"lastToggle"+bv.guid,by+1);bx.preventDefault();return bt[by].apply(this,arguments)||false};bw.guid=e;while(bu<bt.length){bt[bu++].guid=e}return this.click(bw)},hover:function(e,bt){return this.mouseenter(e).mouseleave(bt||e)}});var aR={focus:"focusin",blur:"focusout",mouseenter:"mouseover",mouseleave:"mouseout"};b.each(["live","die"],function(bt,e){b.fn[e]=function(bD,bA,bF,bw){var bE,bB=0,bC,bv,bH,by=bw||this.selector,bu=bw?this:b(this.context);if(typeof bD==="object"&&!bD.preventDefault){for(var bG in bD){bu[e](bG,bA,bD[bG],by)}return this}if(e==="die"&&!bD&&bw&&bw.charAt(0)==="."){bu.unbind(bw);return this}if(bA===false||b.isFunction(bA)){bF=bA||bi;bA=M}bD=(bD||"").split(" ");while((bE=bD[bB++])!=null){bC=aY.exec(bE);bv="";if(bC){bv=bC[0];bE=bE.replace(aY,"")}if(bE==="hover"){bD.push("mouseenter"+bv,"mouseleave"+bv);continue}bH=bE;if(aR[bE]){bD.push(aR[bE]+bv);bE=bE+bv}else{bE=(aR[bE]||bE)+bv}if(e==="live"){for(var bz=0,bx=bu.length;bz<bx;bz++){b.event.add(bu[bz],"live."+q(bE,by),{data:bA,selector:by,handler:bF,origType:bE,origHandler:bF,preType:bH})}}else{bu.unbind("live."+q(bE,by),bF)}}return this}});function ai(bD){var bA,bv,bJ,bx,e,bF,bC,bE,bB,bI,bz,by,bH,bG=[],bw=[],bt=b._data(this,"events");if(bD.liveFired===this||!bt||!bt.live||bD.target.disabled||bD.button&&bD.type==="click"){return}if(bD.namespace){by=new RegExp("(^|\\.)"+bD.namespace.split(".").join("\\.(?:.*\\.)?")+"(\\.|$)")}bD.liveFired=this;var bu=bt.live.slice(0);for(bC=0;bC<bu.length;bC++){e=bu[bC];if(e.origType.replace(aY,"")===bD.type){bw.push(e.selector)}else{bu.splice(bC--,1)}}bx=b(bD.target).closest(bw,bD.currentTarget);for(bE=0,bB=bx.length;bE<bB;bE++){bz=bx[bE];for(bC=0;bC<bu.length;bC++){e=bu[bC];if(bz.selector===e.selector&&(!by||by.test(e.namespace))&&!bz.elem.disabled){bF=bz.elem;bJ=null;if(e.preType==="mouseenter"||e.preType==="mouseleave"){bD.type=e.preType;bJ=b(bD.relatedTarget).closest(e.selector)[0];if(bJ&&b.contains(bF,bJ)){bJ=bF}}if(!bJ||bJ!==bF){bG.push({elem:bF,handleObj:e,level:bz.level})}}}}for(bE=0,bB=bG.length;bE<bB;bE++){bx=bG[bE];if(bv&&bx.level>bv){break}bD.currentTarget=bx.elem;bD.data=bx.handleObj.data;bD.handleObj=bx.handleObj;bH=bx.handleObj.origHandler.apply(bx.elem,arguments);if(bH===false||bD.isPropagationStopped()){bv=bx.level;if(bH===false){bA=false}if(bD.isImmediatePropagationStopped()){break}}}return bA}function q(bt,e){return(bt&&bt!=="*"?bt+".":"")+e.replace(P,"`").replace(bg,"&")}b.each(("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error").split(" "),function(bt,e){b.fn[e]=function(bv,bu){if(bu==null){bu=bv;bv=null}return arguments.length>0?this.bind(e,bv,bu):this.trigger(e)};if(b.attrFn){b.attrFn[e]=true}});
/*!
 * Sizzle CSS Selector Engine
 *  Copyright 2011, The Dojo Foundation
 *  Released under the MIT, BSD, and GPL Licenses.
 *  More information: http://sizzlejs.com/
 */
(function(){var bD=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,bE=0,bH=Object.prototype.toString,by=false,bx=true,bF=/\\/g,bL=/\W/;[0,0].sort(function(){bx=false;return 0});var bv=function(bQ,e,bT,bU){bT=bT||[];e=e||ar;var bW=e;if(e.nodeType!==1&&e.nodeType!==9){return[]}if(!bQ||typeof bQ!=="string"){return bT}var bN,bY,b1,bM,bX,b0,bZ,bS,bP=true,bO=bv.isXML(e),bR=[],bV=bQ;do{bD.exec("");bN=bD.exec(bV);if(bN){bV=bN[3];bR.push(bN[1]);if(bN[2]){bM=bN[3];break}}}while(bN);if(bR.length>1&&bz.exec(bQ)){if(bR.length===2&&bA.relative[bR[0]]){bY=bI(bR[0]+bR[1],e)}else{bY=bA.relative[bR[0]]?[e]:bv(bR.shift(),e);while(bR.length){bQ=bR.shift();if(bA.relative[bQ]){bQ+=bR.shift()}bY=bI(bQ,bY)}}}else{if(!bU&&bR.length>1&&e.nodeType===9&&!bO&&bA.match.ID.test(bR[0])&&!bA.match.ID.test(bR[bR.length-1])){bX=bv.find(bR.shift(),e,bO);e=bX.expr?bv.filter(bX.expr,bX.set)[0]:bX.set[0]}if(e){bX=bU?{expr:bR.pop(),set:bB(bU)}:bv.find(bR.pop(),bR.length===1&&(bR[0]==="~"||bR[0]==="+")&&e.parentNode?e.parentNode:e,bO);bY=bX.expr?bv.filter(bX.expr,bX.set):bX.set;if(bR.length>0){b1=bB(bY)}else{bP=false}while(bR.length){b0=bR.pop();bZ=b0;if(!bA.relative[b0]){b0=""}else{bZ=bR.pop()}if(bZ==null){bZ=e}bA.relative[b0](b1,bZ,bO)}}else{b1=bR=[]}}if(!b1){b1=bY}if(!b1){bv.error(b0||bQ)}if(bH.call(b1)==="[object Array]"){if(!bP){bT.push.apply(bT,b1)}else{if(e&&e.nodeType===1){for(bS=0;b1[bS]!=null;bS++){if(b1[bS]&&(b1[bS]===true||b1[bS].nodeType===1&&bv.contains(e,b1[bS]))){bT.push(bY[bS])}}}else{for(bS=0;b1[bS]!=null;bS++){if(b1[bS]&&b1[bS].nodeType===1){bT.push(bY[bS])}}}}}else{bB(b1,bT)}if(bM){bv(bM,bW,bT,bU);bv.uniqueSort(bT)}return bT};bv.uniqueSort=function(bM){if(bG){by=bx;bM.sort(bG);if(by){for(var e=1;e<bM.length;e++){if(bM[e]===bM[e-1]){bM.splice(e--,1)}}}}return bM};bv.matches=function(e,bM){return bv(e,null,null,bM)};bv.matchesSelector=function(e,bM){return bv(bM,null,null,[e]).length>0};bv.find=function(bS,e,bT){var bR;if(!bS){return[]}for(var bO=0,bN=bA.order.length;bO<bN;bO++){var bP,bQ=bA.order[bO];if((bP=bA.leftMatch[bQ].exec(bS))){var bM=bP[1];bP.splice(1,1);if(bM.substr(bM.length-1)!=="\\"){bP[1]=(bP[1]||"").replace(bF,"");bR=bA.find[bQ](bP,e,bT);if(bR!=null){bS=bS.replace(bA.match[bQ],"");break}}}}if(!bR){bR=typeof e.getElementsByTagName!=="undefined"?e.getElementsByTagName("*"):[]}return{set:bR,expr:bS}};bv.filter=function(bW,bV,bZ,bP){var bR,e,bN=bW,b1=[],bT=bV,bS=bV&&bV[0]&&bv.isXML(bV[0]);while(bW&&bV.length){for(var bU in bA.filter){if((bR=bA.leftMatch[bU].exec(bW))!=null&&bR[2]){var b0,bY,bM=bA.filter[bU],bO=bR[1];e=false;bR.splice(1,1);if(bO.substr(bO.length-1)==="\\"){continue}if(bT===b1){b1=[]}if(bA.preFilter[bU]){bR=bA.preFilter[bU](bR,bT,bZ,b1,bP,bS);if(!bR){e=b0=true}else{if(bR===true){continue}}}if(bR){for(var bQ=0;(bY=bT[bQ])!=null;bQ++){if(bY){b0=bM(bY,bR,bQ,bT);var bX=bP^!!b0;if(bZ&&b0!=null){if(bX){e=true}else{bT[bQ]=false}}else{if(bX){b1.push(bY);e=true}}}}}if(b0!==M){if(!bZ){bT=b1}bW=bW.replace(bA.match[bU],"");if(!e){return[]}break}}}if(bW===bN){if(e==null){bv.error(bW)}else{break}}bN=bW}return bT};bv.error=function(e){throw"Syntax error, unrecognized expression: "+e};var bA=bv.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(e){return e.getAttribute("href")},type:function(e){return e.getAttribute("type")}},relative:{"+":function(bR,bM){var bO=typeof bM==="string",bQ=bO&&!bL.test(bM),bS=bO&&!bQ;if(bQ){bM=bM.toLowerCase()}for(var bN=0,e=bR.length,bP;bN<e;bN++){if((bP=bR[bN])){while((bP=bP.previousSibling)&&bP.nodeType!==1){}bR[bN]=bS||bP&&bP.nodeName.toLowerCase()===bM?bP||false:bP===bM}}if(bS){bv.filter(bM,bR,true)}},">":function(bR,bM){var bQ,bP=typeof bM==="string",bN=0,e=bR.length;if(bP&&!bL.test(bM)){bM=bM.toLowerCase();for(;bN<e;bN++){bQ=bR[bN];if(bQ){var bO=bQ.parentNode;bR[bN]=bO.nodeName.toLowerCase()===bM?bO:false}}}else{for(;bN<e;bN++){bQ=bR[bN];if(bQ){bR[bN]=bP?bQ.parentNode:bQ.parentNode===bM}}if(bP){bv.filter(bM,bR,true)}}},"":function(bO,bM,bQ){var bP,bN=bE++,e=bJ;if(typeof bM==="string"&&!bL.test(bM)){bM=bM.toLowerCase();bP=bM;e=bt}e("parentNode",bM,bN,bO,bP,bQ)},"~":function(bO,bM,bQ){var bP,bN=bE++,e=bJ;if(typeof bM==="string"&&!bL.test(bM)){bM=bM.toLowerCase();bP=bM;e=bt}e("previousSibling",bM,bN,bO,bP,bQ)}},find:{ID:function(bM,bN,bO){if(typeof bN.getElementById!=="undefined"&&!bO){var e=bN.getElementById(bM[1]);return e&&e.parentNode?[e]:[]}},NAME:function(bN,bQ){if(typeof bQ.getElementsByName!=="undefined"){var bM=[],bP=bQ.getElementsByName(bN[1]);for(var bO=0,e=bP.length;bO<e;bO++){if(bP[bO].getAttribute("name")===bN[1]){bM.push(bP[bO])}}return bM.length===0?null:bM}},TAG:function(e,bM){if(typeof bM.getElementsByTagName!=="undefined"){return bM.getElementsByTagName(e[1])}}},preFilter:{CLASS:function(bO,bM,bN,e,bR,bS){bO=" "+bO[1].replace(bF,"")+" ";if(bS){return bO}for(var bP=0,bQ;(bQ=bM[bP])!=null;bP++){if(bQ){if(bR^(bQ.className&&(" "+bQ.className+" ").replace(/[\t\n\r]/g," ").indexOf(bO)>=0)){if(!bN){e.push(bQ)}}else{if(bN){bM[bP]=false}}}}return false},ID:function(e){return e[1].replace(bF,"")},TAG:function(bM,e){return bM[1].replace(bF,"").toLowerCase()},CHILD:function(e){if(e[1]==="nth"){if(!e[2]){bv.error(e[0])}e[2]=e[2].replace(/^\+|\s*/g,"");var bM=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(e[2]==="even"&&"2n"||e[2]==="odd"&&"2n+1"||!/\D/.test(e[2])&&"0n+"+e[2]||e[2]);e[2]=(bM[1]+(bM[2]||1))-0;e[3]=bM[3]-0}else{if(e[2]){bv.error(e[0])}}e[0]=bE++;return e},ATTR:function(bP,bM,bN,e,bQ,bR){var bO=bP[1]=bP[1].replace(bF,"");if(!bR&&bA.attrMap[bO]){bP[1]=bA.attrMap[bO]}bP[4]=(bP[4]||bP[5]||"").replace(bF,"");if(bP[2]==="~="){bP[4]=" "+bP[4]+" "}return bP},PSEUDO:function(bP,bM,bN,e,bQ){if(bP[1]==="not"){if((bD.exec(bP[3])||"").length>1||/^\w/.test(bP[3])){bP[3]=bv(bP[3],null,null,bM)}else{var bO=bv.filter(bP[3],bM,bN,true^bQ);if(!bN){e.push.apply(e,bO)}return false}}else{if(bA.match.POS.test(bP[0])||bA.match.CHILD.test(bP[0])){return true}}return bP},POS:function(e){e.unshift(true);return e}},filters:{enabled:function(e){return e.disabled===false&&e.type!=="hidden"},disabled:function(e){return e.disabled===true},checked:function(e){return e.checked===true},selected:function(e){if(e.parentNode){e.parentNode.selectedIndex}return e.selected===true},parent:function(e){return !!e.firstChild},empty:function(e){return !e.firstChild},has:function(bN,bM,e){return !!bv(e[3],bN).length},header:function(e){return(/h\d/i).test(e.nodeName)},text:function(bN){var e=bN.getAttribute("type"),bM=bN.type;return bN.nodeName.toLowerCase()==="input"&&"text"===bM&&(e===bM||e===null)},radio:function(e){return e.nodeName.toLowerCase()==="input"&&"radio"===e.type},checkbox:function(e){return e.nodeName.toLowerCase()==="input"&&"checkbox"===e.type},file:function(e){return e.nodeName.toLowerCase()==="input"&&"file"===e.type},password:function(e){return e.nodeName.toLowerCase()==="input"&&"password"===e.type},submit:function(bM){var e=bM.nodeName.toLowerCase();return(e==="input"||e==="button")&&"submit"===bM.type},image:function(e){return e.nodeName.toLowerCase()==="input"&&"image"===e.type},reset:function(bM){var e=bM.nodeName.toLowerCase();return(e==="input"||e==="button")&&"reset"===bM.type},button:function(bM){var e=bM.nodeName.toLowerCase();return e==="input"&&"button"===bM.type||e==="button"},input:function(e){return(/input|select|textarea|button/i).test(e.nodeName)},focus:function(e){return e===e.ownerDocument.activeElement}},setFilters:{first:function(bM,e){return e===0},last:function(bN,bM,e,bO){return bM===bO.length-1},even:function(bM,e){return e%2===0},odd:function(bM,e){return e%2===1},lt:function(bN,bM,e){return bM<e[3]-0},gt:function(bN,bM,e){return bM>e[3]-0},nth:function(bN,bM,e){return e[3]-0===bM},eq:function(bN,bM,e){return e[3]-0===bM}},filter:{PSEUDO:function(bN,bS,bR,bT){var e=bS[1],bM=bA.filters[e];if(bM){return bM(bN,bR,bS,bT)}else{if(e==="contains"){return(bN.textContent||bN.innerText||bv.getText([bN])||"").indexOf(bS[3])>=0}else{if(e==="not"){var bO=bS[3];for(var bQ=0,bP=bO.length;bQ<bP;bQ++){if(bO[bQ]===bN){return false}}return true}else{bv.error(e)}}}},CHILD:function(e,bO){var bR=bO[1],bM=e;switch(bR){case"only":case"first":while((bM=bM.previousSibling)){if(bM.nodeType===1){return false}}if(bR==="first"){return true}bM=e;case"last":while((bM=bM.nextSibling)){if(bM.nodeType===1){return false}}return true;case"nth":var bN=bO[2],bU=bO[3];if(bN===1&&bU===0){return true}var bQ=bO[0],bT=e.parentNode;if(bT&&(bT.sizcache!==bQ||!e.nodeIndex)){var bP=0;for(bM=bT.firstChild;bM;bM=bM.nextSibling){if(bM.nodeType===1){bM.nodeIndex=++bP}}bT.sizcache=bQ}var bS=e.nodeIndex-bU;if(bN===0){return bS===0}else{return(bS%bN===0&&bS/bN>=0)}}},ID:function(bM,e){return bM.nodeType===1&&bM.getAttribute("id")===e},TAG:function(bM,e){return(e==="*"&&bM.nodeType===1)||bM.nodeName.toLowerCase()===e},CLASS:function(bM,e){return(" "+(bM.className||bM.getAttribute("class"))+" ").indexOf(e)>-1},ATTR:function(bQ,bO){var bN=bO[1],e=bA.attrHandle[bN]?bA.attrHandle[bN](bQ):bQ[bN]!=null?bQ[bN]:bQ.getAttribute(bN),bR=e+"",bP=bO[2],bM=bO[4];return e==null?bP==="!=":bP==="="?bR===bM:bP==="*="?bR.indexOf(bM)>=0:bP==="~="?(" "+bR+" ").indexOf(bM)>=0:!bM?bR&&e!==false:bP==="!="?bR!==bM:bP==="^="?bR.indexOf(bM)===0:bP==="$="?bR.substr(bR.length-bM.length)===bM:bP==="|="?bR===bM||bR.substr(0,bM.length+1)===bM+"-":false},POS:function(bP,bM,bN,bQ){var e=bM[2],bO=bA.setFilters[e];if(bO){return bO(bP,bN,bM,bQ)}}}};var bz=bA.match.POS,bu=function(bM,e){return"\\"+(e-0+1)};for(var bw in bA.match){bA.match[bw]=new RegExp(bA.match[bw].source+(/(?![^\[]*\])(?![^\(]*\))/.source));bA.leftMatch[bw]=new RegExp(/(^(?:.|\r|\n)*?)/.source+bA.match[bw].source.replace(/\\(\d+)/g,bu))}var bB=function(bM,e){bM=Array.prototype.slice.call(bM,0);if(e){e.push.apply(e,bM);return e}return bM};try{Array.prototype.slice.call(ar.documentElement.childNodes,0)[0].nodeType}catch(bK){bB=function(bP,bO){var bN=0,bM=bO||[];if(bH.call(bP)==="[object Array]"){Array.prototype.push.apply(bM,bP)}else{if(typeof bP.length==="number"){for(var e=bP.length;bN<e;bN++){bM.push(bP[bN])}}else{for(;bP[bN];bN++){bM.push(bP[bN])}}}return bM}}var bG,bC;if(ar.documentElement.compareDocumentPosition){bG=function(bM,e){if(bM===e){by=true;return 0}if(!bM.compareDocumentPosition||!e.compareDocumentPosition){return bM.compareDocumentPosition?-1:1}return bM.compareDocumentPosition(e)&4?-1:1}}else{bG=function(bT,bS){if(bT===bS){by=true;return 0}else{if(bT.sourceIndex&&bS.sourceIndex){return bT.sourceIndex-bS.sourceIndex}}var bQ,bM,bN=[],e=[],bP=bT.parentNode,bR=bS.parentNode,bU=bP;if(bP===bR){return bC(bT,bS)}else{if(!bP){return -1}else{if(!bR){return 1}}}while(bU){bN.unshift(bU);bU=bU.parentNode}bU=bR;while(bU){e.unshift(bU);bU=bU.parentNode}bQ=bN.length;bM=e.length;for(var bO=0;bO<bQ&&bO<bM;bO++){if(bN[bO]!==e[bO]){return bC(bN[bO],e[bO])}}return bO===bQ?bC(bT,e[bO],-1):bC(bN[bO],bS,1)};bC=function(bM,e,bN){if(bM===e){return bN}var bO=bM.nextSibling;while(bO){if(bO===e){return -1}bO=bO.nextSibling}return 1}}bv.getText=function(e){var bM="",bO;for(var bN=0;e[bN];bN++){bO=e[bN];if(bO.nodeType===3||bO.nodeType===4){bM+=bO.nodeValue}else{if(bO.nodeType!==8){bM+=bv.getText(bO.childNodes)}}}return bM};(function(){var bM=ar.createElement("div"),bN="script"+(new Date()).getTime(),e=ar.documentElement;bM.innerHTML="<a name='"+bN+"'/>";e.insertBefore(bM,e.firstChild);if(ar.getElementById(bN)){bA.find.ID=function(bP,bQ,bR){if(typeof bQ.getElementById!=="undefined"&&!bR){var bO=bQ.getElementById(bP[1]);return bO?bO.id===bP[1]||typeof bO.getAttributeNode!=="undefined"&&bO.getAttributeNode("id").nodeValue===bP[1]?[bO]:M:[]}};bA.filter.ID=function(bQ,bO){var bP=typeof bQ.getAttributeNode!=="undefined"&&bQ.getAttributeNode("id");return bQ.nodeType===1&&bP&&bP.nodeValue===bO}}e.removeChild(bM);e=bM=null})();(function(){var e=ar.createElement("div");e.appendChild(ar.createComment(""));if(e.getElementsByTagName("*").length>0){bA.find.TAG=function(bM,bQ){var bP=bQ.getElementsByTagName(bM[1]);if(bM[1]==="*"){var bO=[];for(var bN=0;bP[bN];bN++){if(bP[bN].nodeType===1){bO.push(bP[bN])}}bP=bO}return bP}}e.innerHTML="<a href='#'></a>";if(e.firstChild&&typeof e.firstChild.getAttribute!=="undefined"&&e.firstChild.getAttribute("href")!=="#"){bA.attrHandle.href=function(bM){return bM.getAttribute("href",2)}}e=null})();if(ar.querySelectorAll){(function(){var e=bv,bO=ar.createElement("div"),bN="__sizzle__";bO.innerHTML="<p class='TEST'></p>";if(bO.querySelectorAll&&bO.querySelectorAll(".TEST").length===0){return}bv=function(bZ,bQ,bU,bY){bQ=bQ||ar;if(!bY&&!bv.isXML(bQ)){var bX=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(bZ);if(bX&&(bQ.nodeType===1||bQ.nodeType===9)){if(bX[1]){return bB(bQ.getElementsByTagName(bZ),bU)}else{if(bX[2]&&bA.find.CLASS&&bQ.getElementsByClassName){return bB(bQ.getElementsByClassName(bX[2]),bU)}}}if(bQ.nodeType===9){if(bZ==="body"&&bQ.body){return bB([bQ.body],bU)}else{if(bX&&bX[3]){var bT=bQ.getElementById(bX[3]);if(bT&&bT.parentNode){if(bT.id===bX[3]){return bB([bT],bU)}}else{return bB([],bU)}}}try{return bB(bQ.querySelectorAll(bZ),bU)}catch(bV){}}else{if(bQ.nodeType===1&&bQ.nodeName.toLowerCase()!=="object"){var bR=bQ,bS=bQ.getAttribute("id"),bP=bS||bN,b1=bQ.parentNode,b0=/^\s*[+~]/.test(bZ);if(!bS){bQ.setAttribute("id",bP)}else{bP=bP.replace(/'/g,"\\$&")}if(b0&&b1){bQ=bQ.parentNode}try{if(!b0||b1){return bB(bQ.querySelectorAll("[id='"+bP+"'] "+bZ),bU)}}catch(bW){}finally{if(!bS){bR.removeAttribute("id")}}}}}return e(bZ,bQ,bU,bY)};for(var bM in e){bv[bM]=e[bM]}bO=null})()}(function(){var e=ar.documentElement,bN=e.matchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.msMatchesSelector;if(bN){var bP=!bN.call(ar.createElement("div"),"div"),bM=false;try{bN.call(ar.documentElement,"[test!='']:sizzle")}catch(bO){bM=true}bv.matchesSelector=function(bR,bT){bT=bT.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!bv.isXML(bR)){try{if(bM||!bA.match.PSEUDO.test(bT)&&!/!=/.test(bT)){var bQ=bN.call(bR,bT);if(bQ||!bP||bR.document&&bR.document.nodeType!==11){return bQ}}}catch(bS){}}return bv(bT,null,null,[bR]).length>0}}})();(function(){var e=ar.createElement("div");e.innerHTML="<div class='test e'></div><div class='test'></div>";if(!e.getElementsByClassName||e.getElementsByClassName("e").length===0){return}e.lastChild.className="e";if(e.getElementsByClassName("e").length===1){return}bA.order.splice(1,0,"CLASS");bA.find.CLASS=function(bM,bN,bO){if(typeof bN.getElementsByClassName!=="undefined"&&!bO){return bN.getElementsByClassName(bM[1])}};e=null})();function bt(bM,bR,bQ,bU,bS,bT){for(var bO=0,bN=bU.length;bO<bN;bO++){var e=bU[bO];if(e){var bP=false;e=e[bM];while(e){if(e.sizcache===bQ){bP=bU[e.sizset];break}if(e.nodeType===1&&!bT){e.sizcache=bQ;e.sizset=bO}if(e.nodeName.toLowerCase()===bR){bP=e;break}e=e[bM]}bU[bO]=bP}}}function bJ(bM,bR,bQ,bU,bS,bT){for(var bO=0,bN=bU.length;bO<bN;bO++){var e=bU[bO];if(e){var bP=false;e=e[bM];while(e){if(e.sizcache===bQ){bP=bU[e.sizset];break}if(e.nodeType===1){if(!bT){e.sizcache=bQ;e.sizset=bO}if(typeof bR!=="string"){if(e===bR){bP=true;break}}else{if(bv.filter(bR,[e]).length>0){bP=e;break}}}e=e[bM]}bU[bO]=bP}}}if(ar.documentElement.contains){bv.contains=function(bM,e){return bM!==e&&(bM.contains?bM.contains(e):true)}}else{if(ar.documentElement.compareDocumentPosition){bv.contains=function(bM,e){return !!(bM.compareDocumentPosition(e)&16)}}else{bv.contains=function(){return false}}}bv.isXML=function(e){var bM=(e?e.ownerDocument||e:0).documentElement;return bM?bM.nodeName!=="HTML":false};var bI=function(e,bS){var bQ,bO=[],bP="",bN=bS.nodeType?[bS]:bS;while((bQ=bA.match.PSEUDO.exec(e))){bP+=bQ[0];e=e.replace(bA.match.PSEUDO,"")}e=bA.relative[e]?e+"*":e;for(var bR=0,bM=bN.length;bR<bM;bR++){bv(e,bN[bR],bO)}return bv.filter(bP,bO)};b.find=bv;b.expr=bv.selectors;b.expr[":"]=b.expr.filters;b.unique=bv.uniqueSort;b.text=bv.getText;b.isXMLDoc=bv.isXML;b.contains=bv.contains})();var Z=/Until$/,an=/^(?:parents|prevUntil|prevAll)/,a7=/,/,bo=/^.[^:#\[\.,]*$/,R=Array.prototype.slice,J=b.expr.match.POS,av={children:true,contents:true,next:true,prev:true};b.fn.extend({find:function(e){var bu=this,bw,bt;if(typeof e!=="string"){return b(e).filter(function(){for(bw=0,bt=bu.length;bw<bt;bw++){if(b.contains(bu[bw],this)){return true}}})}var bv=this.pushStack("","find",e),by,bz,bx;for(bw=0,bt=this.length;bw<bt;bw++){by=bv.length;b.find(e,this[bw],bv);if(bw>0){for(bz=by;bz<bv.length;bz++){for(bx=0;bx<by;bx++){if(bv[bx]===bv[bz]){bv.splice(bz--,1);break}}}}}return bv},has:function(bt){var e=b(bt);return this.filter(function(){for(var bv=0,bu=e.length;bv<bu;bv++){if(b.contains(this,e[bv])){return true}}})},not:function(e){return this.pushStack(aC(this,e,false),"not",e)},filter:function(e){return this.pushStack(aC(this,e,true),"filter",e)},is:function(e){return !!e&&(typeof e==="string"?b.filter(e,this).length>0:this.filter(e).length>0)},closest:function(bC,bt){var bz=[],bw,bu,bB=this[0];if(b.isArray(bC)){var by,bv,bx={},e=1;if(bB&&bC.length){for(bw=0,bu=bC.length;bw<bu;bw++){bv=bC[bw];if(!bx[bv]){bx[bv]=J.test(bv)?b(bv,bt||this.context):bv}}while(bB&&bB.ownerDocument&&bB!==bt){for(bv in bx){by=bx[bv];if(by.jquery?by.index(bB)>-1:b(bB).is(by)){bz.push({selector:bv,elem:bB,level:e})}}bB=bB.parentNode;e++}}return bz}var bA=J.test(bC)||typeof bC!=="string"?b(bC,bt||this.context):0;for(bw=0,bu=this.length;bw<bu;bw++){bB=this[bw];while(bB){if(bA?bA.index(bB)>-1:b.find.matchesSelector(bB,bC)){bz.push(bB);break}else{bB=bB.parentNode;if(!bB||!bB.ownerDocument||bB===bt||bB.nodeType===11){break}}}}bz=bz.length>1?b.unique(bz):bz;return this.pushStack(bz,"closest",bC)},index:function(e){if(!e){return(this[0]&&this[0].parentNode)?this.prevAll().length:-1}if(typeof e==="string"){return b.inArray(this[0],b(e))}return b.inArray(e.jquery?e[0]:e,this)},add:function(e,bt){var bv=typeof e==="string"?b(e,bt):b.makeArray(e&&e.nodeType?[e]:e),bu=b.merge(this.get(),bv);return this.pushStack(E(bv[0])||E(bu[0])?bu:b.unique(bu))},andSelf:function(){return this.add(this.prevObject)}});function E(e){return !e||!e.parentNode||e.parentNode.nodeType===11}b.each({parent:function(bt){var e=bt.parentNode;return e&&e.nodeType!==11?e:null},parents:function(e){return b.dir(e,"parentNode")},parentsUntil:function(bt,e,bu){return b.dir(bt,"parentNode",bu)},next:function(e){return b.nth(e,2,"nextSibling")},prev:function(e){return b.nth(e,2,"previousSibling")},nextAll:function(e){return b.dir(e,"nextSibling")},prevAll:function(e){return b.dir(e,"previousSibling")},nextUntil:function(bt,e,bu){return b.dir(bt,"nextSibling",bu)},prevUntil:function(bt,e,bu){return b.dir(bt,"previousSibling",bu)},siblings:function(e){return b.sibling(e.parentNode.firstChild,e)},children:function(e){return b.sibling(e.firstChild)},contents:function(e){return b.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:b.makeArray(e.childNodes)}},function(e,bt){b.fn[e]=function(bx,bu){var bw=b.map(this,bt,bx),bv=R.call(arguments);if(!Z.test(e)){bu=bx}if(bu&&typeof bu==="string"){bw=b.filter(bu,bw)}bw=this.length>1&&!av[e]?b.unique(bw):bw;if((this.length>1||a7.test(bu))&&an.test(e)){bw=bw.reverse()}return this.pushStack(bw,e,bv.join(","))}});b.extend({filter:function(bu,e,bt){if(bt){bu=":not("+bu+")"}return e.length===1?b.find.matchesSelector(e[0],bu)?[e[0]]:[]:b.find.matches(bu,e)},dir:function(bu,bt,bw){var e=[],bv=bu[bt];while(bv&&bv.nodeType!==9&&(bw===M||bv.nodeType!==1||!b(bv).is(bw))){if(bv.nodeType===1){e.push(bv)}bv=bv[bt]}return e},nth:function(bw,e,bu,bv){e=e||1;var bt=0;for(;bw;bw=bw[bu]){if(bw.nodeType===1&&++bt===e){break}}return bw},sibling:function(bu,bt){var e=[];for(;bu;bu=bu.nextSibling){if(bu.nodeType===1&&bu!==bt){e.push(bu)}}return e}});function aC(bv,bu,e){bu=bu||0;if(b.isFunction(bu)){return b.grep(bv,function(bx,bw){var by=!!bu.call(bx,bw,bx);return by===e})}else{if(bu.nodeType){return b.grep(bv,function(bx,bw){return(bx===bu)===e})}else{if(typeof bu==="string"){var bt=b.grep(bv,function(bw){return bw.nodeType===1});if(bo.test(bu)){return b.filter(bu,bt,!e)}else{bu=b.filter(bu,bt)}}}}return b.grep(bv,function(bx,bw){return(b.inArray(bx,bu)>=0)===e})}var ae=/ jQuery\d+="(?:\d+|null)"/g,ao=/^\s+/,T=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,d=/<([\w:]+)/,y=/<tbody/i,W=/<|&#?\w+;/,Q=/<(?:script|object|embed|option|style)/i,o=/checked\s*(?:[^=]|=\s*.checked.)/i,bk=/\/(java|ecma)script/i,aK=/^\s*<!(?:\[CDATA\[|\-\-)/,au={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};au.optgroup=au.option;au.tbody=au.tfoot=au.colgroup=au.caption=au.thead;au.th=au.td;if(!b.support.htmlSerialize){au._default=[1,"div<div>","</div>"]}b.fn.extend({text:function(e){if(b.isFunction(e)){return this.each(function(bu){var bt=b(this);bt.text(e.call(this,bu,bt.text()))})}if(typeof e!=="object"&&e!==M){return this.empty().append((this[0]&&this[0].ownerDocument||ar).createTextNode(e))}return b.text(this)},wrapAll:function(e){if(b.isFunction(e)){return this.each(function(bu){b(this).wrapAll(e.call(this,bu))})}if(this[0]){var bt=b(e,this[0].ownerDocument).eq(0).clone(true);if(this[0].parentNode){bt.insertBefore(this[0])}bt.map(function(){var bu=this;while(bu.firstChild&&bu.firstChild.nodeType===1){bu=bu.firstChild}return bu}).append(this)}return this},wrapInner:function(e){if(b.isFunction(e)){return this.each(function(bt){b(this).wrapInner(e.call(this,bt))})}return this.each(function(){var bt=b(this),bu=bt.contents();if(bu.length){bu.wrapAll(e)}else{bt.append(e)}})},wrap:function(e){return this.each(function(){b(this).wrapAll(e)})},unwrap:function(){return this.parent().each(function(){if(!b.nodeName(this,"body")){b(this).replaceWith(this.childNodes)}}).end()},append:function(){return this.domManip(arguments,true,function(e){if(this.nodeType===1){this.appendChild(e)}})},prepend:function(){return this.domManip(arguments,true,function(e){if(this.nodeType===1){this.insertBefore(e,this.firstChild)}})},before:function(){if(this[0]&&this[0].parentNode){return this.domManip(arguments,false,function(bt){this.parentNode.insertBefore(bt,this)})}else{if(arguments.length){var e=b(arguments[0]);e.push.apply(e,this.toArray());return this.pushStack(e,"before",arguments)}}},after:function(){if(this[0]&&this[0].parentNode){return this.domManip(arguments,false,function(bt){this.parentNode.insertBefore(bt,this.nextSibling)})}else{if(arguments.length){var e=this.pushStack(this,"after",arguments);e.push.apply(e,b(arguments[0]).toArray());return e}}},remove:function(e,bv){for(var bt=0,bu;(bu=this[bt])!=null;bt++){if(!e||b.filter(e,[bu]).length){if(!bv&&bu.nodeType===1){b.cleanData(bu.getElementsByTagName("*"));b.cleanData([bu])}if(bu.parentNode){bu.parentNode.removeChild(bu)}}}return this},empty:function(){for(var e=0,bt;(bt=this[e])!=null;e++){if(bt.nodeType===1){b.cleanData(bt.getElementsByTagName("*"))}while(bt.firstChild){bt.removeChild(bt.firstChild)}}return this},clone:function(bt,e){bt=bt==null?false:bt;e=e==null?bt:e;return this.map(function(){return b.clone(this,bt,e)})},html:function(bv){if(bv===M){return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(ae,""):null}else{if(typeof bv==="string"&&!Q.test(bv)&&(b.support.leadingWhitespace||!ao.test(bv))&&!au[(d.exec(bv)||["",""])[1].toLowerCase()]){bv=bv.replace(T,"<$1></$2>");try{for(var bu=0,bt=this.length;bu<bt;bu++){if(this[bu].nodeType===1){b.cleanData(this[bu].getElementsByTagName("*"));this[bu].innerHTML=bv}}}catch(bw){this.empty().append(bv)}}else{if(b.isFunction(bv)){this.each(function(bx){var e=b(this);e.html(bv.call(this,bx,e.html()))})}else{this.empty().append(bv)}}}return this},replaceWith:function(e){if(this[0]&&this[0].parentNode){if(b.isFunction(e)){return this.each(function(bv){var bu=b(this),bt=bu.html();bu.replaceWith(e.call(this,bv,bt))})}if(typeof e!=="string"){e=b(e).detach()}return this.each(function(){var bu=this.nextSibling,bt=this.parentNode;b(this).remove();if(bu){b(bu).before(e)}else{b(bt).append(e)}})}else{return this.length?this.pushStack(b(b.isFunction(e)?e():e),"replaceWith",e):this}},detach:function(e){return this.remove(e,true)},domManip:function(bz,bD,bC){var bv,bw,by,bB,bA=bz[0],bt=[];if(!b.support.checkClone&&arguments.length===3&&typeof bA==="string"&&o.test(bA)){return this.each(function(){b(this).domManip(bz,bD,bC,true)})}if(b.isFunction(bA)){return this.each(function(bF){var bE=b(this);bz[0]=bA.call(this,bF,bD?bE.html():M);bE.domManip(bz,bD,bC)})}if(this[0]){bB=bA&&bA.parentNode;if(b.support.parentNode&&bB&&bB.nodeType===11&&bB.childNodes.length===this.length){bv={fragment:bB}}else{bv=b.buildFragment(bz,this,bt)}by=bv.fragment;if(by.childNodes.length===1){bw=by=by.firstChild}else{bw=by.firstChild}if(bw){bD=bD&&b.nodeName(bw,"tr");for(var bu=0,e=this.length,bx=e-1;bu<e;bu++){bC.call(bD?a8(this[bu],bw):this[bu],bv.cacheable||(e>1&&bu<bx)?b.clone(by,true,true):by)}}if(bt.length){b.each(bt,bn)}}return this}});function a8(e,bt){return b.nodeName(e,"table")?(e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody"))):e}function v(e,bz){if(bz.nodeType!==1||!b.hasData(e)){return}var by=b.expando,bv=b.data(e),bw=b.data(bz,bv);if((bv=bv[by])){var bA=bv.events;bw=bw[by]=b.extend({},bv);if(bA){delete bw.handle;bw.events={};for(var bx in bA){for(var bu=0,bt=bA[bx].length;bu<bt;bu++){b.event.add(bz,bx+(bA[bx][bu].namespace?".":"")+bA[bx][bu].namespace,bA[bx][bu],bA[bx][bu].data)}}}}}function af(bt,e){var bu;if(e.nodeType!==1){return}if(e.clearAttributes){e.clearAttributes()}if(e.mergeAttributes){e.mergeAttributes(bt)}bu=e.nodeName.toLowerCase();if(bu==="object"){e.outerHTML=bt.outerHTML}else{if(bu==="input"&&(bt.type==="checkbox"||bt.type==="radio")){if(bt.checked){e.defaultChecked=e.checked=bt.checked}if(e.value!==bt.value){e.value=bt.value}}else{if(bu==="option"){e.selected=bt.defaultSelected}else{if(bu==="input"||bu==="textarea"){e.defaultValue=bt.defaultValue}}}}e.removeAttribute(b.expando)}b.buildFragment=function(bx,bv,bt){var bw,e,bu,by;if(bv&&bv[0]){by=bv[0].ownerDocument||bv[0]}if(!by.createDocumentFragment){by=ar}if(bx.length===1&&typeof bx[0]==="string"&&bx[0].length<512&&by===ar&&bx[0].charAt(0)==="<"&&!Q.test(bx[0])&&(b.support.checkClone||!o.test(bx[0]))){e=true;bu=b.fragments[bx[0]];if(bu&&bu!==1){bw=bu}}if(!bw){bw=by.createDocumentFragment();b.clean(bx,by,bw,bt)}if(e){b.fragments[bx[0]]=bu?bw:1}return{fragment:bw,cacheable:e}};b.fragments={};b.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,bt){b.fn[e]=function(bu){var bx=[],bA=b(bu),bz=this.length===1&&this[0].parentNode;if(bz&&bz.nodeType===11&&bz.childNodes.length===1&&bA.length===1){bA[bt](this[0]);return this}else{for(var by=0,bv=bA.length;by<bv;by++){var bw=(by>0?this.clone(true):this).get();b(bA[by])[bt](bw);bx=bx.concat(bw)}return this.pushStack(bx,e,bA.selector)}}});function bd(e){if("getElementsByTagName" in e){return e.getElementsByTagName("*")}else{if("querySelectorAll" in e){return e.querySelectorAll("*")}else{return[]}}}function aw(e){if(e.type==="checkbox"||e.type==="radio"){e.defaultChecked=e.checked}}function G(e){if(b.nodeName(e,"input")){aw(e)}else{if("getElementsByTagName" in e){b.grep(e.getElementsByTagName("input"),aw)}}}b.extend({clone:function(bw,by,bu){var bx=bw.cloneNode(true),e,bt,bv;if((!b.support.noCloneEvent||!b.support.noCloneChecked)&&(bw.nodeType===1||bw.nodeType===11)&&!b.isXMLDoc(bw)){af(bw,bx);e=bd(bw);bt=bd(bx);for(bv=0;e[bv];++bv){if(bt[bv]){af(e[bv],bt[bv])}}}if(by){v(bw,bx);if(bu){e=bd(bw);bt=bd(bx);for(bv=0;e[bv];++bv){v(e[bv],bt[bv])}}}e=bt=null;return bx},clean:function(bu,bw,bF,by){var bD;bw=bw||ar;if(typeof bw.createElement==="undefined"){bw=bw.ownerDocument||bw[0]&&bw[0].ownerDocument||ar}var bG=[],bz;for(var bC=0,bx;(bx=bu[bC])!=null;bC++){if(typeof bx==="number"){bx+=""}if(!bx){continue}if(typeof bx==="string"){if(!W.test(bx)){bx=bw.createTextNode(bx)}else{bx=bx.replace(T,"<$1></$2>");var bI=(d.exec(bx)||["",""])[1].toLowerCase(),bv=au[bI]||au._default,bB=bv[0],bt=bw.createElement("div");bt.innerHTML=bv[1]+bx+bv[2];while(bB--){bt=bt.lastChild}if(!b.support.tbody){var e=y.test(bx),bA=bI==="table"&&!e?bt.firstChild&&bt.firstChild.childNodes:bv[1]==="<table>"&&!e?bt.childNodes:[];for(bz=bA.length-1;bz>=0;--bz){if(b.nodeName(bA[bz],"tbody")&&!bA[bz].childNodes.length){bA[bz].parentNode.removeChild(bA[bz])}}}if(!b.support.leadingWhitespace&&ao.test(bx)){bt.insertBefore(bw.createTextNode(ao.exec(bx)[0]),bt.firstChild)}bx=bt.childNodes}}var bE;if(!b.support.appendChecked){if(bx[0]&&typeof(bE=bx.length)==="number"){for(bz=0;bz<bE;bz++){G(bx[bz])}}else{G(bx)}}if(bx.nodeType){bG.push(bx)}else{bG=b.merge(bG,bx)}}if(bF){bD=function(bJ){return !bJ.type||bk.test(bJ.type)};for(bC=0;bG[bC];bC++){if(by&&b.nodeName(bG[bC],"script")&&(!bG[bC].type||bG[bC].type.toLowerCase()==="text/javascript")){by.push(bG[bC].parentNode?bG[bC].parentNode.removeChild(bG[bC]):bG[bC])}else{if(bG[bC].nodeType===1){var bH=b.grep(bG[bC].getElementsByTagName("script"),bD);bG.splice.apply(bG,[bC+1,0].concat(bH))}bF.appendChild(bG[bC])}}}return bG},cleanData:function(bt){var bw,bu,e=b.cache,bB=b.expando,bz=b.event.special,by=b.support.deleteExpando;for(var bx=0,bv;(bv=bt[bx])!=null;bx++){if(bv.nodeName&&b.noData[bv.nodeName.toLowerCase()]){continue}bu=bv[b.expando];if(bu){bw=e[bu]&&e[bu][bB];if(bw&&bw.events){for(var bA in bw.events){if(bz[bA]){b.event.remove(bv,bA)}else{b.removeEvent(bv,bA,bw.handle)}}if(bw.handle){bw.handle.elem=null}}if(by){delete bv[b.expando]}else{if(bv.removeAttribute){bv.removeAttribute(b.expando)}}delete e[bu]}}}});function bn(e,bt){if(bt.src){b.ajax({url:bt.src,async:false,dataType:"script"})}else{b.globalEval((bt.text||bt.textContent||bt.innerHTML||"").replace(aK,"/*$0*/"))}if(bt.parentNode){bt.parentNode.removeChild(bt)}}var ah=/alpha\([^)]*\)/i,aq=/opacity=([^)]*)/,B=/([A-Z]|^ms)/g,ba=/^-?\d+(?:px)?$/i,bm=/^-?\d/,K=/^([\-+])=([\-+.\de]+)/,a5={position:"absolute",visibility:"hidden",display:"block"},ak=["Left","Right"],a0=["Top","Bottom"],X,aF,aU;b.fn.css=function(e,bt){if(arguments.length===2&&bt===M){return this}return b.access(this,e,bt,true,function(bv,bu,bw){return bw!==M?b.style(bv,bu,bw):b.css(bv,bu)})};b.extend({cssHooks:{opacity:{get:function(bu,bt){if(bt){var e=X(bu,"opacity","opacity");return e===""?"1":e}else{return bu.style.opacity}}}},cssNumber:{fillOpacity:true,fontWeight:true,lineHeight:true,opacity:true,orphans:true,widows:true,zIndex:true,zoom:true},cssProps:{"float":b.support.cssFloat?"cssFloat":"styleFloat"},style:function(bv,bu,bB,bw){if(!bv||bv.nodeType===3||bv.nodeType===8||!bv.style){return}var bz,bA,bx=b.camelCase(bu),bt=bv.style,bC=b.cssHooks[bx];bu=b.cssProps[bx]||bx;if(bB!==M){bA=typeof bB;if(bA==="string"&&(bz=K.exec(bB))){bB=(+(bz[1]+1)*+bz[2])+parseFloat(b.css(bv,bu));bA="number"}if(bB==null||bA==="number"&&isNaN(bB)){return}if(bA==="number"&&!b.cssNumber[bx]){bB+="px"}if(!bC||!("set" in bC)||(bB=bC.set(bv,bB))!==M){try{bt[bu]=bB}catch(by){}}}else{if(bC&&"get" in bC&&(bz=bC.get(bv,false,bw))!==M){return bz}return bt[bu]}},css:function(bw,bv,bt){var bu,e;bv=b.camelCase(bv);e=b.cssHooks[bv];bv=b.cssProps[bv]||bv;if(bv==="cssFloat"){bv="float"}if(e&&"get" in e&&(bu=e.get(bw,true,bt))!==M){return bu}else{if(X){return X(bw,bv)}}},swap:function(bv,bu,bw){var e={};for(var bt in bu){e[bt]=bv.style[bt];bv.style[bt]=bu[bt]}bw.call(bv);for(bt in bu){bv.style[bt]=e[bt]}}});b.curCSS=b.css;b.each(["height","width"],function(bt,e){b.cssHooks[e]={get:function(bw,bv,bu){var bx;if(bv){if(bw.offsetWidth!==0){return p(bw,e,bu)}else{b.swap(bw,a5,function(){bx=p(bw,e,bu)})}return bx}},set:function(bu,bv){if(ba.test(bv)){bv=parseFloat(bv);if(bv>=0){return bv+"px"}}else{return bv}}}});if(!b.support.opacity){b.cssHooks.opacity={get:function(bt,e){return aq.test((e&&bt.currentStyle?bt.currentStyle.filter:bt.style.filter)||"")?(parseFloat(RegExp.$1)/100)+"":e?"1":""},set:function(bw,bx){var bv=bw.style,bt=bw.currentStyle,e=b.isNaN(bx)?"":"alpha(opacity="+bx*100+")",bu=bt&&bt.filter||bv.filter||"";bv.zoom=1;if(bx>=1&&b.trim(bu.replace(ah,""))===""){bv.removeAttribute("filter");if(bt&&!bt.filter){return}}bv.filter=ah.test(bu)?bu.replace(ah,e):bu+" "+e}}}b(function(){if(!b.support.reliableMarginRight){b.cssHooks.marginRight={get:function(bu,bt){var e;b.swap(bu,{display:"inline-block"},function(){if(bt){e=X(bu,"margin-right","marginRight")}else{e=bu.style.marginRight}});return e}}}});if(ar.defaultView&&ar.defaultView.getComputedStyle){aF=function(bw,bu){var bt,bv,e;bu=bu.replace(B,"-$1").toLowerCase();if(!(bv=bw.ownerDocument.defaultView)){return M}if((e=bv.getComputedStyle(bw,null))){bt=e.getPropertyValue(bu);if(bt===""&&!b.contains(bw.ownerDocument.documentElement,bw)){bt=b.style(bw,bu)}}return bt}}if(ar.documentElement.currentStyle){aU=function(bw,bu){var bx,bt=bw.currentStyle&&bw.currentStyle[bu],e=bw.runtimeStyle&&bw.runtimeStyle[bu],bv=bw.style;if(!ba.test(bt)&&bm.test(bt)){bx=bv.left;if(e){bw.runtimeStyle.left=bw.currentStyle.left}bv.left=bu==="fontSize"?"1em":(bt||0);bt=bv.pixelLeft+"px";bv.left=bx;if(e){bw.runtimeStyle.left=e}}return bt===""?"auto":bt}}X=aF||aU;function p(bu,bt,e){var bw=bt==="width"?bu.offsetWidth:bu.offsetHeight,bv=bt==="width"?ak:a0;if(bw>0){if(e!=="border"){b.each(bv,function(){if(!e){bw-=parseFloat(b.css(bu,"padding"+this))||0}if(e==="margin"){bw+=parseFloat(b.css(bu,e+this))||0}else{bw-=parseFloat(b.css(bu,"border"+this+"Width"))||0}})}return bw+"px"}bw=X(bu,bt,bt);if(bw<0||bw==null){bw=bu.style[bt]||0}bw=parseFloat(bw)||0;if(e){b.each(bv,function(){bw+=parseFloat(b.css(bu,"padding"+this))||0;if(e!=="padding"){bw+=parseFloat(b.css(bu,"border"+this+"Width"))||0}if(e==="margin"){bw+=parseFloat(b.css(bu,e+this))||0}})}return bw+"px"}if(b.expr&&b.expr.filters){b.expr.filters.hidden=function(bu){var bt=bu.offsetWidth,e=bu.offsetHeight;return(bt===0&&e===0)||(!b.support.reliableHiddenOffsets&&(bu.style.display||b.css(bu,"display"))==="none")};b.expr.filters.visible=function(e){return !b.expr.filters.hidden(e)}}var k=/%20/g,am=/\[\]$/,br=/\r?\n/g,bp=/#.*$/,aA=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,aX=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,aJ=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,aM=/^(?:GET|HEAD)$/,c=/^\/\//,N=/\?/,a4=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,r=/^(?:select|textarea)/i,h=/\s+/,bq=/([?&])_=[^&]*/,L=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,C=b.fn.load,Y={},s={},aB,u,aQ=["*/"]+["*"];try{aB=bj.href}catch(at){aB=ar.createElement("a");aB.href="";aB=aB.href}u=L.exec(aB.toLowerCase())||[];function f(e){return function(bw,by){if(typeof bw!=="string"){by=bw;bw="*"}if(b.isFunction(by)){var bv=bw.toLowerCase().split(h),bu=0,bx=bv.length,bt,bz,bA;for(;bu<bx;bu++){bt=bv[bu];bA=/^\+/.test(bt);if(bA){bt=bt.substr(1)||"*"}bz=e[bt]=e[bt]||[];bz[bA?"unshift":"push"](by)}}}}function aS(bt,bC,bx,bB,bz,bv){bz=bz||bC.dataTypes[0];bv=bv||{};bv[bz]=true;var by=bt[bz],bu=0,e=by?by.length:0,bw=(bt===Y),bA;for(;bu<e&&(bw||!bA);bu++){bA=by[bu](bC,bx,bB);if(typeof bA==="string"){if(!bw||bv[bA]){bA=M}else{bC.dataTypes.unshift(bA);bA=aS(bt,bC,bx,bB,bA,bv)}}}if((bw||!bA)&&!bv["*"]){bA=aS(bt,bC,bx,bB,"*",bv)}return bA}function aj(bu,bv){var bt,e,bw=b.ajaxSettings.flatOptions||{};for(bt in bv){if(bv[bt]!==M){(bw[bt]?bu:(e||(e={})))[bt]=bv[bt]}}if(e){b.extend(true,bu,e)}}b.fn.extend({load:function(bu,bx,by){if(typeof bu!=="string"&&C){return C.apply(this,arguments)}else{if(!this.length){return this}}var bw=bu.indexOf(" ");if(bw>=0){var e=bu.slice(bw,bu.length);bu=bu.slice(0,bw)}var bv="GET";if(bx){if(b.isFunction(bx)){by=bx;bx=M}else{if(typeof bx==="object"){bx=b.param(bx,b.ajaxSettings.traditional);bv="POST"}}}var bt=this;b.ajax({url:bu,type:bv,dataType:"html",data:bx,complete:function(bA,bz,bB){bB=bA.responseText;if(bA.isResolved()){bA.done(function(bC){bB=bC});bt.html(e?b("<div>").append(bB.replace(a4,"")).find(e):bB)}if(by){bt.each(by,[bB,bz,bA])}}});return this},serialize:function(){return b.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?b.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||r.test(this.nodeName)||aX.test(this.type))}).map(function(e,bt){var bu=b(this).val();return bu==null?null:b.isArray(bu)?b.map(bu,function(bw,bv){return{name:bt.name,value:bw.replace(br,"\r\n")}}):{name:bt.name,value:bu.replace(br,"\r\n")}}).get()}});b.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(e,bt){b.fn[bt]=function(bu){return this.bind(bt,bu)}});b.each(["get","post"],function(e,bt){b[bt]=function(bu,bw,bx,bv){if(b.isFunction(bw)){bv=bv||bx;bx=bw;bw=M}return b.ajax({type:bt,url:bu,data:bw,success:bx,dataType:bv})}});b.extend({getScript:function(e,bt){return b.get(e,M,bt,"script")},getJSON:function(e,bt,bu){return b.get(e,bt,bu,"json")},ajaxSetup:function(bt,e){if(e){aj(bt,b.ajaxSettings)}else{e=bt;bt=b.ajaxSettings}aj(bt,e);return bt},ajaxSettings:{url:aB,isLocal:aJ.test(u[1]),global:true,type:"GET",contentType:"application/x-www-form-urlencoded",processData:true,async:true,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":aQ},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a9.String,"text html":true,"text json":b.parseJSON,"text xml":b.parseXML},flatOptions:{context:true,url:true}},ajaxPrefilter:f(Y),ajaxTransport:f(s),ajax:function(bx,bv){if(typeof bx==="object"){bv=bx;bx=M}bv=bv||{};var bB=b.ajaxSetup({},bv),bQ=bB.context||bB,bE=bQ!==bB&&(bQ.nodeType||bQ instanceof b)?b(bQ):b.event,bP=b.Deferred(),bL=b._Deferred(),bz=bB.statusCode||{},bA,bF={},bM={},bO,bw,bJ,bC,bG,by=0,bu,bI,bH={readyState:0,setRequestHeader:function(bR,bS){if(!by){var e=bR.toLowerCase();bR=bM[e]=bM[e]||bR;bF[bR]=bS}return this},getAllResponseHeaders:function(){return by===2?bO:null},getResponseHeader:function(bR){var e;if(by===2){if(!bw){bw={};while((e=aA.exec(bO))){bw[e[1].toLowerCase()]=e[2]}}e=bw[bR.toLowerCase()]}return e===M?null:e},overrideMimeType:function(e){if(!by){bB.mimeType=e}return this},abort:function(e){e=e||"abort";if(bJ){bJ.abort(e)}bD(0,e);return this}};function bD(bX,bS,bY,bU){if(by===2){return}by=2;if(bC){clearTimeout(bC)}bJ=M;bO=bU||"";bH.readyState=bX>0?4:0;var bR,b2,b1,bV=bS,bW=bY?bh(bB,bH,bY):M,bT,b0;if(bX>=200&&bX<300||bX===304){if(bB.ifModified){if((bT=bH.getResponseHeader("Last-Modified"))){b.lastModified[bA]=bT}if((b0=bH.getResponseHeader("Etag"))){b.etag[bA]=b0}}if(bX===304){bV="notmodified";bR=true}else{try{b2=H(bB,bW);bV="success";bR=true}catch(bZ){bV="parsererror";b1=bZ}}}else{b1=bV;if(!bV||bX){bV="error";if(bX<0){bX=0}}}bH.status=bX;bH.statusText=""+(bS||bV);if(bR){bP.resolveWith(bQ,[b2,bV,bH])}else{bP.rejectWith(bQ,[bH,bV,b1])}bH.statusCode(bz);bz=M;if(bu){bE.trigger("ajax"+(bR?"Success":"Error"),[bH,bB,bR?b2:b1])}bL.resolveWith(bQ,[bH,bV]);if(bu){bE.trigger("ajaxComplete",[bH,bB]);if(!(--b.active)){b.event.trigger("ajaxStop")}}}bP.promise(bH);bH.success=bH.done;bH.error=bH.fail;bH.complete=bL.done;bH.statusCode=function(bR){if(bR){var e;if(by<2){for(e in bR){bz[e]=[bz[e],bR[e]]}}else{e=bR[bH.status];bH.then(e,e)}}return this};bB.url=((bx||bB.url)+"").replace(bp,"").replace(c,u[1]+"//");bB.dataTypes=b.trim(bB.dataType||"*").toLowerCase().split(h);if(bB.crossDomain==null){bG=L.exec(bB.url.toLowerCase());bB.crossDomain=!!(bG&&(bG[1]!=u[1]||bG[2]!=u[2]||(bG[3]||(bG[1]==="http:"?80:443))!=(u[3]||(u[1]==="http:"?80:443))))}if(bB.data&&bB.processData&&typeof bB.data!=="string"){bB.data=b.param(bB.data,bB.traditional)}aS(Y,bB,bv,bH);if(by===2){return false}bu=bB.global;bB.type=bB.type.toUpperCase();bB.hasContent=!aM.test(bB.type);if(bu&&b.active++===0){b.event.trigger("ajaxStart")}if(!bB.hasContent){if(bB.data){bB.url+=(N.test(bB.url)?"&":"?")+bB.data;delete bB.data}bA=bB.url;if(bB.cache===false){var bt=b.now(),bN=bB.url.replace(bq,"$1_="+bt);bB.url=bN+((bN===bB.url)?(N.test(bB.url)?"&":"?")+"_="+bt:"")}}if(bB.data&&bB.hasContent&&bB.contentType!==false||bv.contentType){bH.setRequestHeader("Content-Type",bB.contentType)}if(bB.ifModified){bA=bA||bB.url;if(b.lastModified[bA]){bH.setRequestHeader("If-Modified-Since",b.lastModified[bA])}if(b.etag[bA]){bH.setRequestHeader("If-None-Match",b.etag[bA])}}bH.setRequestHeader("Accept",bB.dataTypes[0]&&bB.accepts[bB.dataTypes[0]]?bB.accepts[bB.dataTypes[0]]+(bB.dataTypes[0]!=="*"?", "+aQ+"; q=0.01":""):bB.accepts["*"]);for(bI in bB.headers){bH.setRequestHeader(bI,bB.headers[bI])}if(bB.beforeSend&&(bB.beforeSend.call(bQ,bH,bB)===false||by===2)){bH.abort();return false}for(bI in {success:1,error:1,complete:1}){bH[bI](bB[bI])}bJ=aS(s,bB,bv,bH);if(!bJ){bD(-1,"No Transport")}else{bH.readyState=1;if(bu){bE.trigger("ajaxSend",[bH,bB])}if(bB.async&&bB.timeout>0){bC=setTimeout(function(){bH.abort("timeout")},bB.timeout)}try{by=1;bJ.send(bF,bD)}catch(bK){if(by<2){bD(-1,bK)}else{b.error(bK)}}}return bH},param:function(e,bu){var bt=[],bw=function(bx,by){by=b.isFunction(by)?by():by;bt[bt.length]=encodeURIComponent(bx)+"="+encodeURIComponent(by)};if(bu===M){bu=b.ajaxSettings.traditional}if(b.isArray(e)||(e.jquery&&!b.isPlainObject(e))){b.each(e,function(){bw(this.name,this.value)})}else{for(var bv in e){x(bv,e[bv],bu,bw)}}return bt.join("&").replace(k,"+")}});function x(bu,bw,bt,bv){if(b.isArray(bw)){b.each(bw,function(by,bx){if(bt||am.test(bu)){bv(bu,bx)}else{x(bu+"["+(typeof bx==="object"||b.isArray(bx)?by:"")+"]",bx,bt,bv)}})}else{if(!bt&&bw!=null&&typeof bw==="object"){for(var e in bw){x(bu+"["+e+"]",bw[e],bt,bv)}}else{bv(bu,bw)}}}b.extend({active:0,lastModified:{},etag:{}});function bh(bB,bA,bx){var bt=bB.contents,bz=bB.dataTypes,bu=bB.responseFields,bw,by,bv,e;for(by in bu){if(by in bx){bA[bu[by]]=bx[by]}}while(bz[0]==="*"){bz.shift();if(bw===M){bw=bB.mimeType||bA.getResponseHeader("content-type")}}if(bw){for(by in bt){if(bt[by]&&bt[by].test(bw)){bz.unshift(by);break}}}if(bz[0] in bx){bv=bz[0]}else{for(by in bx){if(!bz[0]||bB.converters[by+" "+bz[0]]){bv=by;break}if(!e){e=by}}bv=bv||e}if(bv){if(bv!==bz[0]){bz.unshift(bv)}return bx[bv]}}function H(bF,bx){if(bF.dataFilter){bx=bF.dataFilter(bx,bF.dataType)}var bB=bF.dataTypes,bE={},by,bC,bu=bB.length,bz,bA=bB[0],bv,bw,bD,bt,e;for(by=1;by<bu;by++){if(by===1){for(bC in bF.converters){if(typeof bC==="string"){bE[bC.toLowerCase()]=bF.converters[bC]}}}bv=bA;bA=bB[by];if(bA==="*"){bA=bv}else{if(bv!=="*"&&bv!==bA){bw=bv+" "+bA;bD=bE[bw]||bE["* "+bA];if(!bD){e=M;for(bt in bE){bz=bt.split(" ");if(bz[0]===bv||bz[0]==="*"){e=bE[bz[1]+" "+bA];if(e){bt=bE[bt];if(bt===true){bD=e}else{if(e===true){bD=bt}}break}}}}if(!(bD||e)){b.error("No conversion from "+bw.replace(" "," to "))}if(bD!==true){bx=bD?bD(bx):e(bt(bx))}}}}return bx}var az=b.now(),w=/(\=)\?(&|$)|\?\?/i;b.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return b.expando+"_"+(az++)}});b.ajaxPrefilter("json jsonp",function(bB,by,bA){var bv=bB.contentType==="application/x-www-form-urlencoded"&&(typeof bB.data==="string");if(bB.dataTypes[0]==="jsonp"||bB.jsonp!==false&&(w.test(bB.url)||bv&&w.test(bB.data))){var bz,bu=bB.jsonpCallback=b.isFunction(bB.jsonpCallback)?bB.jsonpCallback():bB.jsonpCallback,bx=a9[bu],e=bB.url,bw=bB.data,bt="$1"+bu+"$2";if(bB.jsonp!==false){e=e.replace(w,bt);if(bB.url===e){if(bv){bw=bw.replace(w,bt)}if(bB.data===bw){e+=(/\?/.test(e)?"&":"?")+bB.jsonp+"="+bu}}}bB.url=e;bB.data=bw;a9[bu]=function(bC){bz=[bC]};bA.always(function(){a9[bu]=bx;if(bz&&b.isFunction(bx)){a9[bu](bz[0])}});bB.converters["script json"]=function(){if(!bz){b.error(bu+" was not called")}return bz[0]};bB.dataTypes[0]="json";return"script"}});b.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){b.globalEval(e);return e}}});b.ajaxPrefilter("script",function(e){if(e.cache===M){e.cache=false}if(e.crossDomain){e.type="GET";e.global=false}});b.ajaxTransport("script",function(bu){if(bu.crossDomain){var e,bt=ar.head||ar.getElementsByTagName("head")[0]||ar.documentElement;return{send:function(bv,bw){e=ar.createElement("script");e.async="async";if(bu.scriptCharset){e.charset=bu.scriptCharset}e.src=bu.url;e.onload=e.onreadystatechange=function(by,bx){if(bx||!e.readyState||/loaded|complete/.test(e.readyState)){e.onload=e.onreadystatechange=null;if(bt&&e.parentNode){bt.removeChild(e)}e=M;if(!bx){bw(200,"success")}}};bt.insertBefore(e,bt.firstChild)},abort:function(){if(e){e.onload(0,1)}}}}});var D=a9.ActiveXObject?function(){for(var e in O){O[e](0,1)}}:false,A=0,O;function aI(){try{return new a9.XMLHttpRequest()}catch(bt){}}function ag(){try{return new a9.ActiveXObject("Microsoft.XMLHTTP")}catch(bt){}}b.ajaxSettings.xhr=a9.ActiveXObject?function(){return !this.isLocal&&aI()||ag()}:aI;(function(e){b.extend(b.support,{ajax:!!e,cors:!!e&&("withCredentials" in e)})})(b.ajaxSettings.xhr());if(b.support.ajax){b.ajaxTransport(function(e){if(!e.crossDomain||b.support.cors){var bt;return{send:function(bz,bu){var by=e.xhr(),bx,bw;if(e.username){by.open(e.type,e.url,e.async,e.username,e.password)}else{by.open(e.type,e.url,e.async)}if(e.xhrFields){for(bw in e.xhrFields){by[bw]=e.xhrFields[bw]}}if(e.mimeType&&by.overrideMimeType){by.overrideMimeType(e.mimeType)}if(!e.crossDomain&&!bz["X-Requested-With"]){bz["X-Requested-With"]="XMLHttpRequest"}try{for(bw in bz){by.setRequestHeader(bw,bz[bw])}}catch(bv){}by.send((e.hasContent&&e.data)||null);bt=function(bI,bC){var bD,bB,bA,bG,bF;try{if(bt&&(bC||by.readyState===4)){bt=M;if(bx){by.onreadystatechange=b.noop;if(D){delete O[bx]}}if(bC){if(by.readyState!==4){by.abort()}}else{bD=by.status;bA=by.getAllResponseHeaders();bG={};bF=by.responseXML;if(bF&&bF.documentElement){bG.xml=bF}bG.text=by.responseText;try{bB=by.statusText}catch(bH){bB=""}if(!bD&&e.isLocal&&!e.crossDomain){bD=bG.text?200:404}else{if(bD===1223){bD=204}}}}}catch(bE){if(!bC){bu(-1,bE)}}if(bG){bu(bD,bB,bG,bA)}};if(!e.async||by.readyState===4){bt()}else{bx=++A;if(D){if(!O){O={};b(a9).unload(D)}O[bx]=bt}by.onreadystatechange=bt}},abort:function(){if(bt){bt(0,1)}}}}})}var S={},a6,n,ay=/^(?:toggle|show|hide)$/,aO=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,a1,aE=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],a2;b.fn.extend({show:function(bv,by,bx){var bu,bw;if(bv||bv===0){return this.animate(aZ("show",3),bv,by,bx)}else{for(var bt=0,e=this.length;bt<e;bt++){bu=this[bt];if(bu.style){bw=bu.style.display;if(!b._data(bu,"olddisplay")&&bw==="none"){bw=bu.style.display=""}if(bw===""&&b.css(bu,"display")==="none"){b._data(bu,"olddisplay",z(bu.nodeName))}}}for(bt=0;bt<e;bt++){bu=this[bt];if(bu.style){bw=bu.style.display;if(bw===""||bw==="none"){bu.style.display=b._data(bu,"olddisplay")||""}}}return this}},hide:function(bu,bx,bw){if(bu||bu===0){return this.animate(aZ("hide",3),bu,bx,bw)}else{for(var bt=0,e=this.length;bt<e;bt++){if(this[bt].style){var bv=b.css(this[bt],"display");if(bv!=="none"&&!b._data(this[bt],"olddisplay")){b._data(this[bt],"olddisplay",bv)}}}for(bt=0;bt<e;bt++){if(this[bt].style){this[bt].style.display="none"}}return this}},_toggle:b.fn.toggle,toggle:function(bu,bt,bv){var e=typeof bu==="boolean";if(b.isFunction(bu)&&b.isFunction(bt)){this._toggle.apply(this,arguments)}else{if(bu==null||e){this.each(function(){var bw=e?bu:b(this).is(":hidden");b(this)[bw?"show":"hide"]()})}else{this.animate(aZ("toggle",3),bu,bt,bv)}}return this},fadeTo:function(e,bv,bu,bt){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:bv},e,bu,bt)},animate:function(bw,bt,bv,bu){var e=b.speed(bt,bv,bu);if(b.isEmptyObject(bw)){return this.each(e.complete,[false])}bw=b.extend({},bw);return this[e.queue===false?"each":"queue"](function(){if(e.queue===false){b._mark(this)}var bA=b.extend({},e),bH=this.nodeType===1,bE=bH&&b(this).is(":hidden"),bx,bB,bz,bG,bF,bD,by,bC,bI;bA.animatedProperties={};for(bz in bw){bx=b.camelCase(bz);if(bz!==bx){bw[bx]=bw[bz];delete bw[bz]}bB=bw[bx];if(b.isArray(bB)){bA.animatedProperties[bx]=bB[1];bB=bw[bx]=bB[0]}else{bA.animatedProperties[bx]=bA.specialEasing&&bA.specialEasing[bx]||bA.easing||"swing"}if(bB==="hide"&&bE||bB==="show"&&!bE){return bA.complete.call(this)}if(bH&&(bx==="height"||bx==="width")){bA.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY];if(b.css(this,"display")==="inline"&&b.css(this,"float")==="none"){if(!b.support.inlineBlockNeedsLayout){this.style.display="inline-block"}else{bG=z(this.nodeName);if(bG==="inline"){this.style.display="inline-block"}else{this.style.display="inline";this.style.zoom=1}}}}}if(bA.overflow!=null){this.style.overflow="hidden"}for(bz in bw){bF=new b.fx(this,bA,bz);bB=bw[bz];if(ay.test(bB)){bF[bB==="toggle"?bE?"show":"hide":bB]()}else{bD=aO.exec(bB);by=bF.cur();if(bD){bC=parseFloat(bD[2]);bI=bD[3]||(b.cssNumber[bz]?"":"px");if(bI!=="px"){b.style(this,bz,(bC||1)+bI);by=((bC||1)/bF.cur())*by;b.style(this,bz,by+bI)}if(bD[1]){bC=((bD[1]==="-="?-1:1)*bC)+by}bF.custom(by,bC,bI)}else{bF.custom(by,bB,"")}}}return true})},stop:function(bt,e){if(bt){this.queue([])}this.each(function(){var bv=b.timers,bu=bv.length;if(!e){b._unmark(true,this)}while(bu--){if(bv[bu].elem===this){if(e){bv[bu](true)}bv.splice(bu,1)}}});if(!e){this.dequeue()}return this}});function be(){setTimeout(ap,0);return(a2=b.now())}function ap(){a2=M}function aZ(bt,e){var bu={};b.each(aE.concat.apply([],aE.slice(0,e)),function(){bu[this]=bt});return bu}b.each({slideDown:aZ("show",1),slideUp:aZ("hide",1),slideToggle:aZ("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,bt){b.fn[e]=function(bu,bw,bv){return this.animate(bt,bu,bw,bv)}});b.extend({speed:function(bu,bv,bt){var e=bu&&typeof bu==="object"?b.extend({},bu):{complete:bt||!bt&&bv||b.isFunction(bu)&&bu,duration:bu,easing:bt&&bv||bv&&!b.isFunction(bv)&&bv};e.duration=b.fx.off?0:typeof e.duration==="number"?e.duration:e.duration in b.fx.speeds?b.fx.speeds[e.duration]:b.fx.speeds._default;e.old=e.complete;e.complete=function(bw){if(b.isFunction(e.old)){e.old.call(this)}if(e.queue!==false){b.dequeue(this)}else{if(bw!==false){b._unmark(this)}}};return e},easing:{linear:function(bu,bv,e,bt){return e+bt*bu},swing:function(bu,bv,e,bt){return((-Math.cos(bu*Math.PI)/2)+0.5)*bt+e}},timers:[],fx:function(bt,e,bu){this.options=e;this.elem=bt;this.prop=bu;e.orig=e.orig||{}}});b.fx.prototype={update:function(){if(this.options.step){this.options.step.call(this.elem,this.now,this)}(b.fx.step[this.prop]||b.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null)){return this.elem[this.prop]}var e,bt=b.css(this.elem,this.prop);return isNaN(e=parseFloat(bt))?!bt||bt==="auto"?0:bt:e},custom:function(bx,bw,bv){var e=this,bu=b.fx;this.startTime=a2||be();this.start=bx;this.end=bw;this.unit=bv||this.unit||(b.cssNumber[this.prop]?"":"px");this.now=this.start;this.pos=this.state=0;function bt(by){return e.step(by)}bt.elem=this.elem;if(bt()&&b.timers.push(bt)&&!a1){a1=setInterval(bu.tick,bu.interval)}},show:function(){this.options.orig[this.prop]=b.style(this.elem,this.prop);this.options.show=true;this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur());b(this.elem).show()},hide:function(){this.options.orig[this.prop]=b.style(this.elem,this.prop);this.options.hide=true;this.custom(this.cur(),0)},step:function(bw){var bv=a2||be(),e=true,bx=this.elem,bt=this.options,bu,bz;if(bw||bv>=bt.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();bt.animatedProperties[this.prop]=true;for(bu in bt.animatedProperties){if(bt.animatedProperties[bu]!==true){e=false}}if(e){if(bt.overflow!=null&&!b.support.shrinkWrapBlocks){b.each(["","X","Y"],function(bA,bB){bx.style["overflow"+bB]=bt.overflow[bA]})}if(bt.hide){b(bx).hide()}if(bt.hide||bt.show){for(var by in bt.animatedProperties){b.style(bx,by,bt.orig[by])}}bt.complete.call(bx)}return false}else{if(bt.duration==Infinity){this.now=bv}else{bz=bv-this.startTime;this.state=bz/bt.duration;this.pos=b.easing[bt.animatedProperties[this.prop]](this.state,bz,0,1,bt.duration);this.now=this.start+((this.end-this.start)*this.pos)}this.update()}return true}};b.extend(b.fx,{tick:function(){for(var bt=b.timers,e=0;e<bt.length;++e){if(!bt[e]()){bt.splice(e--,1)}}if(!bt.length){b.fx.stop()}},interval:13,stop:function(){clearInterval(a1);a1=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(e){b.style(e.elem,"opacity",e.now)},_default:function(e){if(e.elem.style&&e.elem.style[e.prop]!=null){e.elem.style[e.prop]=(e.prop==="width"||e.prop==="height"?Math.max(0,e.now):e.now)+e.unit}else{e.elem[e.prop]=e.now}}}});if(b.expr&&b.expr.filters){b.expr.filters.animated=function(e){return b.grep(b.timers,function(bt){return e===bt.elem}).length}}function z(bv){if(!S[bv]){var e=ar.body,bt=b("<"+bv+">").appendTo(e),bu=bt.css("display");bt.remove();if(bu==="none"||bu===""){if(!a6){a6=ar.createElement("iframe");a6.frameBorder=a6.width=a6.height=0}e.appendChild(a6);if(!n||!a6.createElement){n=(a6.contentWindow||a6.contentDocument).document;n.write((ar.compatMode==="CSS1Compat"?"<!doctype html>":"")+"<html><body>");n.close()}bt=n.createElement(bv);n.body.appendChild(bt);bu=b.css(bt,"display");e.removeChild(a6)}S[bv]=bu}return S[bv]}var V=/^t(?:able|d|h)$/i,ab=/^(?:body|html)$/i;if("getBoundingClientRect" in ar.documentElement){b.fn.offset=function(bG){var bw=this[0],bz;if(bG){return this.each(function(e){b.offset.setOffset(this,bG,e)})}if(!bw||!bw.ownerDocument){return null}if(bw===bw.ownerDocument.body){return b.offset.bodyOffset(bw)}try{bz=bw.getBoundingClientRect()}catch(bD){}var bF=bw.ownerDocument,bu=bF.documentElement;if(!bz||!b.contains(bu,bw)){return bz?{top:bz.top,left:bz.left}:{top:0,left:0}}var bA=bF.body,bB=aH(bF),by=bu.clientTop||bA.clientTop||0,bC=bu.clientLeft||bA.clientLeft||0,bt=bB.pageYOffset||b.support.boxModel&&bu.scrollTop||bA.scrollTop,bx=bB.pageXOffset||b.support.boxModel&&bu.scrollLeft||bA.scrollLeft,bE=bz.top+bt-by,bv=bz.left+bx-bC;return{top:bE,left:bv}}}else{b.fn.offset=function(bD){var bx=this[0];if(bD){return this.each(function(bE){b.offset.setOffset(this,bD,bE)})}if(!bx||!bx.ownerDocument){return null}if(bx===bx.ownerDocument.body){return b.offset.bodyOffset(bx)}b.offset.initialize();var bA,bu=bx.offsetParent,bt=bx,bC=bx.ownerDocument,bv=bC.documentElement,by=bC.body,bz=bC.defaultView,e=bz?bz.getComputedStyle(bx,null):bx.currentStyle,bB=bx.offsetTop,bw=bx.offsetLeft;while((bx=bx.parentNode)&&bx!==by&&bx!==bv){if(b.offset.supportsFixedPosition&&e.position==="fixed"){break}bA=bz?bz.getComputedStyle(bx,null):bx.currentStyle;bB-=bx.scrollTop;bw-=bx.scrollLeft;if(bx===bu){bB+=bx.offsetTop;bw+=bx.offsetLeft;if(b.offset.doesNotAddBorder&&!(b.offset.doesAddBorderForTableAndCells&&V.test(bx.nodeName))){bB+=parseFloat(bA.borderTopWidth)||0;bw+=parseFloat(bA.borderLeftWidth)||0}bt=bu;bu=bx.offsetParent}if(b.offset.subtractsBorderForOverflowNotVisible&&bA.overflow!=="visible"){bB+=parseFloat(bA.borderTopWidth)||0;bw+=parseFloat(bA.borderLeftWidth)||0}e=bA}if(e.position==="relative"||e.position==="static"){bB+=by.offsetTop;bw+=by.offsetLeft}if(b.offset.supportsFixedPosition&&e.position==="fixed"){bB+=Math.max(bv.scrollTop,by.scrollTop);bw+=Math.max(bv.scrollLeft,by.scrollLeft)}return{top:bB,left:bw}}}b.offset={initialize:function(){var e=ar.body,bt=ar.createElement("div"),bw,by,bx,bz,bu=parseFloat(b.css(e,"marginTop"))||0,bv="<div style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;'><div></div></div><table style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";b.extend(bt.style,{position:"absolute",top:0,left:0,margin:0,border:0,width:"1px",height:"1px",visibility:"hidden"});bt.innerHTML=bv;e.insertBefore(bt,e.firstChild);bw=bt.firstChild;by=bw.firstChild;bz=bw.nextSibling.firstChild.firstChild;this.doesNotAddBorder=(by.offsetTop!==5);this.doesAddBorderForTableAndCells=(bz.offsetTop===5);by.style.position="fixed";by.style.top="20px";this.supportsFixedPosition=(by.offsetTop===20||by.offsetTop===15);by.style.position=by.style.top="";bw.style.overflow="hidden";bw.style.position="relative";this.subtractsBorderForOverflowNotVisible=(by.offsetTop===-5);this.doesNotIncludeMarginInBodyOffset=(e.offsetTop!==bu);e.removeChild(bt);b.offset.initialize=b.noop},bodyOffset:function(e){var bu=e.offsetTop,bt=e.offsetLeft;b.offset.initialize();if(b.offset.doesNotIncludeMarginInBodyOffset){bu+=parseFloat(b.css(e,"marginTop"))||0;bt+=parseFloat(b.css(e,"marginLeft"))||0}return{top:bu,left:bt}},setOffset:function(bv,bE,by){var bz=b.css(bv,"position");if(bz==="static"){bv.style.position="relative"}var bx=b(bv),bt=bx.offset(),e=b.css(bv,"top"),bC=b.css(bv,"left"),bD=(bz==="absolute"||bz==="fixed")&&b.inArray("auto",[e,bC])>-1,bB={},bA={},bu,bw;if(bD){bA=bx.position();bu=bA.top;bw=bA.left}else{bu=parseFloat(e)||0;bw=parseFloat(bC)||0}if(b.isFunction(bE)){bE=bE.call(bv,by,bt)}if(bE.top!=null){bB.top=(bE.top-bt.top)+bu}if(bE.left!=null){bB.left=(bE.left-bt.left)+bw}if("using" in bE){bE.using.call(bv,bB)}else{bx.css(bB)}}};b.fn.extend({position:function(){if(!this[0]){return null}var bu=this[0],bt=this.offsetParent(),bv=this.offset(),e=ab.test(bt[0].nodeName)?{top:0,left:0}:bt.offset();bv.top-=parseFloat(b.css(bu,"marginTop"))||0;bv.left-=parseFloat(b.css(bu,"marginLeft"))||0;e.top+=parseFloat(b.css(bt[0],"borderTopWidth"))||0;e.left+=parseFloat(b.css(bt[0],"borderLeftWidth"))||0;return{top:bv.top-e.top,left:bv.left-e.left}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||ar.body;while(e&&(!ab.test(e.nodeName)&&b.css(e,"position")==="static")){e=e.offsetParent}return e})}});b.each(["Left","Top"],function(bt,e){var bu="scroll"+e;b.fn[bu]=function(bx){var bv,bw;if(bx===M){bv=this[0];if(!bv){return null}bw=aH(bv);return bw?("pageXOffset" in bw)?bw[bt?"pageYOffset":"pageXOffset"]:b.support.boxModel&&bw.document.documentElement[bu]||bw.document.body[bu]:bv[bu]}return this.each(function(){bw=aH(this);if(bw){bw.scrollTo(!bt?bx:b(bw).scrollLeft(),bt?bx:b(bw).scrollTop())}else{this[bu]=bx}})}});function aH(e){return b.isWindow(e)?e:e.nodeType===9?e.defaultView||e.parentWindow:false}b.each(["Height","Width"],function(bt,e){var bu=e.toLowerCase();b.fn["inner"+e]=function(){var bv=this[0];return bv&&bv.style?parseFloat(b.css(bv,bu,"padding")):null};b.fn["outer"+e]=function(bw){var bv=this[0];return bv&&bv.style?parseFloat(b.css(bv,bu,bw?"margin":"border")):null};b.fn[bu]=function(bx){var by=this[0];if(!by){return bx==null?null:this}if(b.isFunction(bx)){return this.each(function(bC){var bB=b(this);bB[bu](bx.call(this,bC,bB[bu]()))})}if(b.isWindow(by)){var bz=by.document.documentElement["client"+e],bv=by.document.body;return by.document.compatMode==="CSS1Compat"&&bz||bv&&bv["client"+e]||bz}else{if(by.nodeType===9){return Math.max(by.documentElement["client"+e],by.body["scroll"+e],by.documentElement["scroll"+e],by.body["offset"+e],by.documentElement["offset"+e])}else{if(bx===M){var bA=b.css(by,bu),bw=parseFloat(bA);return b.isNaN(bw)?bA:bw}else{return this.css(bu,typeof bx==="string"?bx:bx+"px")}}}}});a9.jQuery=a9.$=b})(window);
/*!
 * jQuery UI 1.8.9
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI
 */
(function(d,b){function a(c){return !d(c).parents().andSelf().filter(function(){return d.curCSS(this,"visibility")==="hidden"||d.expr.filters.hidden(this)}).length}d.ui=d.ui||{};if(!d.ui.version){d.extend(d.ui,{version:"1.8.9",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}});d.fn.extend({_focus:d.fn.focus,focus:function(e,c){return typeof e==="number"?this.each(function(){var f=this;setTimeout(function(){d(f).focus();c&&c.call(f)},e)}):this._focus.apply(this,arguments)},scrollParent:function(){var c;c=d.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(d.curCSS(this,"position",1))&&/(auto|scroll)/.test(d.curCSS(this,"overflow",1)+d.curCSS(this,"overflow-y",1)+d.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(d.curCSS(this,"overflow",1)+d.curCSS(this,"overflow-y",1)+d.curCSS(this,"overflow-x",1))}).eq(0);return/fixed/.test(this.css("position"))||!c.length?d(document):c},zIndex:function(e){if(e!==b){return this.css("zIndex",e)}if(this.length){e=d(this[0]);for(var c;e.length&&e[0]!==document;){c=e.css("position");if(c==="absolute"||c==="relative"||c==="fixed"){c=parseInt(e.css("zIndex"),10);if(!isNaN(c)&&c!==0){return c}}e=e.parent()}}return 0},disableSelection:function(){return this.bind((d.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(c){c.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});d.each(["Width","Height"],function(f,c){function l(o,n,h,e){d.each(k,function(){n-=parseFloat(d.curCSS(o,"padding"+this,true))||0;if(h){n-=parseFloat(d.curCSS(o,"border"+this+"Width",true))||0}if(e){n-=parseFloat(d.curCSS(o,"margin"+this,true))||0}});return n}var k=c==="Width"?["Left","Right"]:["Top","Bottom"],j=c.toLowerCase(),g={innerWidth:d.fn.innerWidth,innerHeight:d.fn.innerHeight,outerWidth:d.fn.outerWidth,outerHeight:d.fn.outerHeight};d.fn["inner"+c]=function(e){if(e===b){return g["inner"+c].call(this)}return this.each(function(){d(this).css(j,l(this,e)+"px")})};d.fn["outer"+c]=function(h,e){if(typeof h!=="number"){return g["outer"+c].call(this,h)}return this.each(function(){d(this).css(j,l(this,h,true,e)+"px")})}});d.extend(d.expr[":"],{data:function(e,c,f){return !!d.data(e,f[3])},focusable:function(e){var c=e.nodeName.toLowerCase(),f=d.attr(e,"tabindex");if("area"===c){c=e.parentNode;f=c.name;if(!e.href||!f||c.nodeName.toLowerCase()!=="map"){return false}e=d("img[usemap=#"+f+"]")[0];return !!e&&a(e)}return(/input|select|textarea|button|object/.test(c)?!e.disabled:"a"==c?e.href||!isNaN(f):!isNaN(f))&&a(e)},tabbable:function(e){var c=d.attr(e,"tabindex");return(isNaN(c)||c>=0)&&d(e).is(":focusable")}});d(function(){var e=document.body,c=e.appendChild(c=document.createElement("div"));d.extend(c.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0});d.support.minHeight=c.offsetHeight===100;d.support.selectstart="onselectstart" in c;e.removeChild(c).style.display="none"});d.extend(d.ui,{plugin:{add:function(f,c,h){f=d.ui[f].prototype;for(var g in h){f.plugins[g]=f.plugins[g]||[];f.plugins[g].push([c,h[g]])}},call:function(f,c,h){if((c=f.plugins[c])&&f.element[0].parentNode){for(var g=0;g<c.length;g++){f.options[c[g][0]]&&c[g][1].apply(f.element,h)}}}},contains:function(e,c){return document.compareDocumentPosition?e.compareDocumentPosition(c)&16:e!==c&&e.contains(c)},hasScroll:function(e,c){if(d(e).css("overflow")==="hidden"){return false}c=c&&c==="left"?"scrollLeft":"scrollTop";var f=false;if(e[c]>0){return true}e[c]=1;f=e[c]>0;e[c]=0;return f},isOverAxis:function(e,c,f){return e>c&&e<c+f},isOver:function(f,c,l,k,j,g){return d.ui.isOverAxis(f,l,j)&&d.ui.isOverAxis(c,k,g)}})}})(jQuery);
/*!
 * jQuery UI Widget 1.8.9
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Widget
 */
(function(a,e){if(a.cleanData){var d=a.cleanData;a.cleanData=function(b){for(var g=0,f;(f=b[g])!=null;g++){a(f).triggerHandler("remove")}d(b)}}else{var c=a.fn.remove;a.fn.remove=function(b,f){return this.each(function(){if(!f){if(!b||a.filter(b,[this]).length){a("*",this).add([this]).each(function(){a(this).triggerHandler("remove")})}}return c.call(a(this),b,f)})}}a.widget=function(b,k,j){var h=b.split(".")[0],g;b=b.split(".")[1];g=h+"-"+b;if(!j){j=k;k=a.Widget}a.expr[":"][g]=function(f){return !!a.data(f,b)};a[h]=a[h]||{};a[h][b]=function(f,l){arguments.length&&this._createWidget(f,l)};k=new k;k.options=a.extend(true,{},k.options);a[h][b].prototype=a.extend(true,k,{namespace:h,widgetName:b,widgetEventPrefix:a[h][b].prototype.widgetEventPrefix||b,widgetBaseClass:g},j);a.widget.bridge(b,a[h][b])};a.widget.bridge=function(b,f){a.fn[b]=function(l){var k=typeof l==="string",j=Array.prototype.slice.call(arguments,1),g=this;l=!k&&j.length?a.extend.apply(null,[true,l].concat(j)):l;if(k&&l.charAt(0)==="_"){return g}k?this.each(function(){var m=a.data(this,b),h=m&&a.isFunction(m[l])?m[l].apply(m,j):m;if(h!==m&&h!==e){g=h;return false}}):this.each(function(){var h=a.data(this,b);h?h.option(l||{})._init():a.data(this,b,new f(l,this))});return g}};a.Widget=function(b,f){arguments.length&&this._createWidget(b,f)};a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:false},_createWidget:function(b,g){a.data(g,this.widgetName,this);this.element=a(g);this.options=a.extend(true,{},this.options,this._getCreateOptions(),b);var f=this;this.element.bind("remove."+this.widgetName,function(){f.destroy()});this._create();this._trigger("create");this._init()},_getCreateOptions:function(){return a.metadata&&a.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(b,g){var f=b;if(arguments.length===0){return a.extend({},this.options)}if(typeof b==="string"){if(g===e){return this.options[b]}f={};f[b]=g}this._setOptions(f);return this},_setOptions:function(b){var f=this;a.each(b,function(h,g){f._setOption(h,g)});return this},_setOption:function(b,f){this.options[b]=f;if(b==="disabled"){this.widget()[f?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",f)}return this},enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_trigger:function(b,k,j){var h=this.options[b];k=a.Event(k);k.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase();j=j||{};if(k.originalEvent){b=a.event.props.length;for(var g;b;){g=a.event.props[--b];k[g]=k.originalEvent[g]}}this.element.trigger(k,j);return !(a.isFunction(h)&&h.call(this.element[0],k,j)===false||k.isDefaultPrevented())}}})(jQuery);
/*!
 * jQuery UI Mouse 1.8.9
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Mouse
 *
 * Depends:
 *	jquery.ui.widget.js
 */
(function(a){a.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var b=this;this.element.bind("mousedown."+this.widgetName,function(c){return b._mouseDown(c)}).bind("click."+this.widgetName,function(c){if(true===a.data(c.target,b.widgetName+".preventClickEvent")){a.removeData(c.target,b.widgetName+".preventClickEvent");c.stopImmediatePropagation();return false}});this.started=false},_mouseDestroy:function(){this.element.unbind("."+this.widgetName)},_mouseDown:function(d){d.originalEvent=d.originalEvent||{};if(!d.originalEvent.mouseHandled){this._mouseStarted&&this._mouseUp(d);this._mouseDownEvent=d;var c=this,h=d.which==1,g=typeof this.options.cancel=="string"?a(d.target).parents().add(d.target).filter(this.options.cancel).length:false;if(!h||g||!this._mouseCapture(d)){return true}this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet){this._mouseDelayTimer=setTimeout(function(){c.mouseDelayMet=true},this.options.delay)}if(this._mouseDistanceMet(d)&&this._mouseDelayMet(d)){this._mouseStarted=this._mouseStart(d)!==false;if(!this._mouseStarted){d.preventDefault();return true}}this._mouseMoveDelegate=function(b){return c._mouseMove(b)};this._mouseUpDelegate=function(b){return c._mouseUp(b)};a(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);d.preventDefault();return d.originalEvent.mouseHandled=true}},_mouseMove:function(b){if(a.browser.msie&&!(document.documentMode>=9)&&!b.button){return this._mouseUp(b)}if(this._mouseStarted){this._mouseDrag(b);return b.preventDefault()}if(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)){(this._mouseStarted=this._mouseStart(this._mouseDownEvent,b)!==false)?this._mouseDrag(b):this._mouseUp(b)}return !this._mouseStarted},_mouseUp:function(b){a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;b.target==this._mouseDownEvent.target&&a.data(b.target,this.widgetName+".preventClickEvent",true);this._mouseStop(b)}return false},_mouseDistanceMet:function(b){return Math.max(Math.abs(this._mouseDownEvent.pageX-b.pageX),Math.abs(this._mouseDownEvent.pageY-b.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return true}})})(jQuery);(function(f){f.ui=f.ui||{};var e=/left|center|right/,d=/top|center|bottom/,b=f.fn.position,a=f.fn.offset;f.fn.position=function(c){if(!c||!c.of){return b.apply(this,arguments)}c=f.extend({},c);var l=f(c.of),r=l[0],p=(c.collision||"flip").split(" "),q=c.offset?c.offset.split(" "):[0,0],o,m,n;if(r.nodeType===9){o=l.width();m=l.height();n={top:0,left:0}}else{if(r.setTimeout){o=l.width();m=l.height();n={top:l.scrollTop(),left:l.scrollLeft()}}else{if(r.preventDefault){c.at="left top";o=m=0;n={top:c.of.pageY,left:c.of.pageX}}else{o=l.outerWidth();m=l.outerHeight();n=l.offset()}}}f.each(["my","at"],function(){var g=(c[this]||"").split(" ");if(g.length===1){g=e.test(g[0])?g.concat(["center"]):d.test(g[0])?["center"].concat(g):["center","center"]}g[0]=e.test(g[0])?g[0]:"center";g[1]=d.test(g[1])?g[1]:"center";c[this]=g});if(p.length===1){p[1]=p[0]}q[0]=parseInt(q[0],10)||0;if(q.length===1){q[1]=q[0]}q[1]=parseInt(q[1],10)||0;if(c.at[0]==="right"){n.left+=o}else{if(c.at[0]==="center"){n.left+=o/2}}if(c.at[1]==="bottom"){n.top+=m}else{if(c.at[1]==="center"){n.top+=m/2}}n.left+=q[0];n.top+=q[1];return this.each(function(){var x=f(this),s=x.outerWidth(),k=x.outerHeight(),j=parseInt(f.curCSS(this,"marginLeft",true))||0,h=parseInt(f.curCSS(this,"marginTop",true))||0,z=s+j+(parseInt(f.curCSS(this,"marginRight",true))||0),y=k+h+(parseInt(f.curCSS(this,"marginBottom",true))||0),u=f.extend({},n),g;if(c.my[0]==="right"){u.left-=s}else{if(c.my[0]==="center"){u.left-=s/2}}if(c.my[1]==="bottom"){u.top-=k}else{if(c.my[1]==="center"){u.top-=k/2}}u.left=Math.round(u.left);u.top=Math.round(u.top);g={left:u.left-j,top:u.top-h};f.each(["left","top"],function(w,v){f.ui.position[p[w]]&&f.ui.position[p[w]][v](u,{targetWidth:o,targetHeight:m,elemWidth:s,elemHeight:k,collisionPosition:g,collisionWidth:z,collisionHeight:y,offset:q,my:c.my,at:c.at})});f.fn.bgiframe&&x.bgiframe();x.offset(f.extend(u,{using:c.using}))})};f.ui.position={fit:{left:function(c,g){var h=f(window);h=g.collisionPosition.left+g.collisionWidth-h.width()-h.scrollLeft();c.left=h>0?c.left-h:Math.max(c.left-g.collisionPosition.left,c.left)},top:function(c,g){var h=f(window);h=g.collisionPosition.top+g.collisionHeight-h.height()-h.scrollTop();c.top=h>0?c.top-h:Math.max(c.top-g.collisionPosition.top,c.top)}},flip:{left:function(c,j){if(j.at[0]!=="center"){var n=f(window);n=j.collisionPosition.left+j.collisionWidth-n.width()-n.scrollLeft();var l=j.my[0]==="left"?-j.elemWidth:j.my[0]==="right"?j.elemWidth:0,m=j.at[0]==="left"?j.targetWidth:-j.targetWidth,k=-2*j.offset[0];c.left+=j.collisionPosition.left<0?l+m+k:n>0?l+m+k:0}},top:function(c,j){if(j.at[1]!=="center"){var n=f(window);n=j.collisionPosition.top+j.collisionHeight-n.height()-n.scrollTop();var l=j.my[1]==="top"?-j.elemHeight:j.my[1]==="bottom"?j.elemHeight:0,m=j.at[1]==="top"?j.targetHeight:-j.targetHeight,k=-2*j.offset[1];c.top+=j.collisionPosition.top<0?l+m+k:n>0?l+m+k:0}}}};if(!f.offset.setOffset){f.offset.setOffset=function(c,j){if(/static/.test(f.curCSS(c,"position"))){c.style.position="relative"}var n=f(c),l=n.offset(),m=parseInt(f.curCSS(c,"top",true),10)||0,k=parseInt(f.curCSS(c,"left",true),10)||0;l={top:j.top-l.top+m,left:j.left-l.left+k};"using" in j?j.using.call(c,l):n.css(l)};f.fn.offset=function(c){var g=this[0];if(!g||!g.ownerDocument){return null}if(c){return this.each(function(){f.offset.setOffset(this,c)})}return a.call(this)}}})(jQuery);(function(a){a.widget("ui.draggable",a.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:true,appendTo:"parent",axis:false,connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false},_create:function(){if(this.options.helper=="original"&&!/^(?:r|a|f)/.test(this.element.css("position"))){this.element[0].style.position="relative"}this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._mouseInit()},destroy:function(){if(this.element.data("draggable")){this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy();return this}},_mouseCapture:function(d){var c=this.options;if(this.helper||c.disabled||a(d.target).is(".ui-resizable-handle")){return false}this.handle=this._getHandle(d);if(!this.handle){return false}return true},_mouseStart:function(d){var c=this.options;this.helper=this._createHelper(d);this._cacheHelperProportions();if(a.ui.ddmanager){a.ui.ddmanager.current=this}this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offset=this.positionAbs=this.element.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};a.extend(this.offset,{click:{left:d.pageX-this.offset.left,top:d.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this.position=this._generatePosition(d);this.originalPageX=d.pageX;this.originalPageY=d.pageY;c.cursorAt&&this._adjustOffsetFromHelper(c.cursorAt);c.containment&&this._setContainment();if(this._trigger("start",d)===false){this._clear();return false}this._cacheHelperProportions();a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,d);this.helper.addClass("ui-draggable-dragging");this._mouseDrag(d,true);return true},_mouseDrag:function(d,c){this.position=this._generatePosition(d);this.positionAbs=this._convertPositionTo("absolute");if(!c){c=this._uiHash();if(this._trigger("drag",d,c)===false){this._mouseUp({});return false}this.position=c.position}if(!this.options.axis||this.options.axis!="y"){this.helper[0].style.left=this.position.left+"px"}if(!this.options.axis||this.options.axis!="x"){this.helper[0].style.top=this.position.top+"px"}a.ui.ddmanager&&a.ui.ddmanager.drag(this,d);return false},_mouseStop:function(e){var d=false;if(a.ui.ddmanager&&!this.options.dropBehaviour){d=a.ui.ddmanager.drop(this,e)}if(this.dropped){d=this.dropped;this.dropped=false}if((!this.element[0]||!this.element[0].parentNode)&&this.options.helper=="original"){return false}if(this.options.revert=="invalid"&&!d||this.options.revert=="valid"&&d||this.options.revert===true||a.isFunction(this.options.revert)&&this.options.revert.call(this.element,d)){var f=this;a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){f._trigger("stop",e)!==false&&f._clear()})}else{this._trigger("stop",e)!==false&&this._clear()}return false},cancel:function(){this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear();return this},_getHandle:function(d){var c=!this.options.handle||!a(this.options.handle,this.element).length?true:false;a(this.options.handle,this.element).find("*").andSelf().each(function(){if(this==d.target){c=true}});return c},_createHelper:function(d){var c=this.options;d=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[d])):c.helper=="clone"?this.element.clone():this.element;d.parents("body").length||d.appendTo(c.appendTo=="parent"?this.element[0].parentNode:c.appendTo);d[0]!=this.element[0]&&!/(fixed|absolute)/.test(d.css("position"))&&d.css("position","absolute");return d},_adjustOffsetFromHelper:function(b){if(typeof b=="string"){b=b.split(" ")}if(a.isArray(b)){b={left:+b[0],top:+b[1]||0}}if("left" in b){this.offset.click.left=b.left+this.margins.left}if("right" in b){this.offset.click.left=this.helperProportions.width-b.right+this.margins.left}if("top" in b){this.offset.click.top=b.top+this.margins.top}if("bottom" in b){this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top}},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();if(this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])){b.left+=this.scrollParent.scrollLeft();b.top+=this.scrollParent.scrollTop()}if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&a.browser.msie){b={top:0,left:0}}return{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var b=this.element.position();return{top:b.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:b.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else{return{top:0,left:0}}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e=this.options;if(e.containment=="parent"){e.containment=this.helper[0].parentNode}if(e.containment=="document"||e.containment=="window"){this.containment=[(e.containment=="document"?0:a(window).scrollLeft())-this.offset.relative.left-this.offset.parent.left,(e.containment=="document"?0:a(window).scrollTop())-this.offset.relative.top-this.offset.parent.top,(e.containment=="document"?0:a(window).scrollLeft())+a(e.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(e.containment=="document"?0:a(window).scrollTop())+(a(e.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]}if(!/^(document|window|parent)$/.test(e.containment)&&e.containment.constructor!=Array){var d=a(e.containment)[0];if(d){e=a(e.containment).offset();var f=a(d).css("overflow")!="hidden";this.containment=[e.left+(parseInt(a(d).css("borderLeftWidth"),10)||0)+(parseInt(a(d).css("paddingLeft"),10)||0)-this.margins.left,e.top+(parseInt(a(d).css("borderTopWidth"),10)||0)+(parseInt(a(d).css("paddingTop"),10)||0)-this.margins.top,e.left+(f?Math.max(d.scrollWidth,d.offsetWidth):d.offsetWidth)-(parseInt(a(d).css("borderLeftWidth"),10)||0)-(parseInt(a(d).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,e.top+(f?Math.max(d.scrollHeight,d.offsetHeight):d.offsetHeight)-(parseInt(a(d).css("borderTopWidth"),10)||0)-(parseInt(a(d).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}}else{if(e.containment.constructor==Array){this.containment=e.containment}}},_convertPositionTo:function(e,d){if(!d){d=this.position}e=e=="absolute"?1:-1;var h=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,g=/(html|body)/i.test(h[0].tagName);return{top:d.top+this.offset.relative.top*e+this.offset.parent.top*e-(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():g?0:h.scrollTop())*e),left:d.left+this.offset.relative.left*e+this.offset.parent.left*e-(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():g?0:h.scrollLeft())*e)}},_generatePosition:function(h){var d=this.options,m=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,k=/(html|body)/i.test(m[0].tagName),l=h.pageX,j=h.pageY;if(this.originalPosition){if(this.containment){if(h.pageX-this.offset.click.left<this.containment[0]){l=this.containment[0]+this.offset.click.left}if(h.pageY-this.offset.click.top<this.containment[1]){j=this.containment[1]+this.offset.click.top}if(h.pageX-this.offset.click.left>this.containment[2]){l=this.containment[2]+this.offset.click.left}if(h.pageY-this.offset.click.top>this.containment[3]){j=this.containment[3]+this.offset.click.top}}if(d.grid){j=this.originalPageY+Math.round((j-this.originalPageY)/d.grid[1])*d.grid[1];j=this.containment?!(j-this.offset.click.top<this.containment[1]||j-this.offset.click.top>this.containment[3])?j:!(j-this.offset.click.top<this.containment[1])?j-d.grid[1]:j+d.grid[1]:j;l=this.originalPageX+Math.round((l-this.originalPageX)/d.grid[0])*d.grid[0];l=this.containment?!(l-this.offset.click.left<this.containment[0]||l-this.offset.click.left>this.containment[2])?l:!(l-this.offset.click.left<this.containment[0])?l-d.grid[0]:l+d.grid[0]:l}}return{top:j-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():k?0:m.scrollTop()),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():k?0:m.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove();this.helper=null;this.cancelHelperRemoval=false},_trigger:function(e,d,f){f=f||this._uiHash();a.ui.plugin.call(this,e,[d,f]);if(e=="drag"){this.positionAbs=this._convertPositionTo("absolute")}return a.Widget.prototype._trigger.call(this,e,d,f)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});a.extend(a.ui.draggable,{version:"1.8.9"});a.ui.plugin.add("draggable","connectToSortable",{start:function(g,d){var k=a(this).data("draggable"),h=k.options,j=a.extend({},d,{item:k.element});k.sortables=[];a(h.connectToSortable).each(function(){var b=a.data(this,"sortable");if(b&&!b.options.disabled){k.sortables.push({instance:b,shouldRevert:b.options.revert});b._refreshItems();b._trigger("activate",g,j)}})},stop:function(e,d){var h=a(this).data("draggable"),g=a.extend({},d,{item:h.element});a.each(h.sortables,function(){if(this.instance.isOver){this.instance.isOver=0;h.cancelHelperRemoval=true;this.instance.cancelHelperRemoval=false;if(this.shouldRevert){this.instance.options.revert=true}this.instance._mouseStop(e);this.instance.options.helper=this.instance.options._helper;h.options.helper=="original"&&this.instance.currentItem.css({top:"auto",left:"auto"})}else{this.instance.cancelHelperRemoval=false;this.instance._trigger("deactivate",e,g)}})},drag:function(e,d){var h=a(this).data("draggable"),g=this;a.each(h.sortables,function(){this.instance.positionAbs=h.positionAbs;this.instance.helperProportions=h.helperProportions;this.instance.offset.click=h.offset.click;if(this.instance._intersectsWith(this.instance.containerCache)){if(!this.instance.isOver){this.instance.isOver=1;this.instance.currentItem=a(g).clone().appendTo(this.instance.element).data("sortable-item",true);this.instance.options._helper=this.instance.options.helper;this.instance.options.helper=function(){return d.helper[0]};e.target=this.instance.currentItem[0];this.instance._mouseCapture(e,true);this.instance._mouseStart(e,true,true);this.instance.offset.click.top=h.offset.click.top;this.instance.offset.click.left=h.offset.click.left;this.instance.offset.parent.left-=h.offset.parent.left-this.instance.offset.parent.left;this.instance.offset.parent.top-=h.offset.parent.top-this.instance.offset.parent.top;h._trigger("toSortable",e);h.dropped=this.instance.element;h.currentItem=h.element;this.instance.fromOutside=h}this.instance.currentItem&&this.instance._mouseDrag(e)}else{if(this.instance.isOver){this.instance.isOver=0;this.instance.cancelHelperRemoval=true;this.instance.options.revert=false;this.instance._trigger("out",e,this.instance._uiHash(this.instance));this.instance._mouseStop(e,true);this.instance.options.helper=this.instance.options._helper;this.instance.currentItem.remove();this.instance.placeholder&&this.instance.placeholder.remove();h._trigger("fromSortable",e);h.dropped=false}}})}});a.ui.plugin.add("draggable","cursor",{start:function(){var d=a("body"),c=a(this).data("draggable").options;if(d.css("cursor")){c._cursor=d.css("cursor")}d.css("cursor",c.cursor)},stop:function(){var b=a(this).data("draggable").options;b._cursor&&a("body").css("cursor",b._cursor)}});a.ui.plugin.add("draggable","iframeFix",{start:function(){var b=a(this).data("draggable").options;a(b.iframeFix===true?"iframe":b.iframeFix).each(function(){a('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1000}).css(a(this).offset()).appendTo("body")})},stop:function(){a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)})}});a.ui.plugin.add("draggable","opacity",{start:function(d,c){d=a(c.helper);c=a(this).data("draggable").options;if(d.css("opacity")){c._opacity=d.css("opacity")}d.css("opacity",c.opacity)},stop:function(d,c){d=a(this).data("draggable").options;d._opacity&&a(c.helper).css("opacity",d._opacity)}});a.ui.plugin.add("draggable","scroll",{start:function(){var b=a(this).data("draggable");if(b.scrollParent[0]!=document&&b.scrollParent[0].tagName!="HTML"){b.overflowOffset=b.scrollParent.offset()}},drag:function(e){var d=a(this).data("draggable"),h=d.options,g=false;if(d.scrollParent[0]!=document&&d.scrollParent[0].tagName!="HTML"){if(!h.axis||h.axis!="x"){if(d.overflowOffset.top+d.scrollParent[0].offsetHeight-e.pageY<h.scrollSensitivity){d.scrollParent[0].scrollTop=g=d.scrollParent[0].scrollTop+h.scrollSpeed}else{if(e.pageY-d.overflowOffset.top<h.scrollSensitivity){d.scrollParent[0].scrollTop=g=d.scrollParent[0].scrollTop-h.scrollSpeed}}}if(!h.axis||h.axis!="y"){if(d.overflowOffset.left+d.scrollParent[0].offsetWidth-e.pageX<h.scrollSensitivity){d.scrollParent[0].scrollLeft=g=d.scrollParent[0].scrollLeft+h.scrollSpeed}else{if(e.pageX-d.overflowOffset.left<h.scrollSensitivity){d.scrollParent[0].scrollLeft=g=d.scrollParent[0].scrollLeft-h.scrollSpeed}}}}else{if(!h.axis||h.axis!="x"){if(e.pageY-a(document).scrollTop()<h.scrollSensitivity){g=a(document).scrollTop(a(document).scrollTop()-h.scrollSpeed)}else{if(a(window).height()-(e.pageY-a(document).scrollTop())<h.scrollSensitivity){g=a(document).scrollTop(a(document).scrollTop()+h.scrollSpeed)}}}if(!h.axis||h.axis!="y"){if(e.pageX-a(document).scrollLeft()<h.scrollSensitivity){g=a(document).scrollLeft(a(document).scrollLeft()-h.scrollSpeed)}else{if(a(window).width()-(e.pageX-a(document).scrollLeft())<h.scrollSensitivity){g=a(document).scrollLeft(a(document).scrollLeft()+h.scrollSpeed)}}}}g!==false&&a.ui.ddmanager&&!h.dropBehaviour&&a.ui.ddmanager.prepareOffsets(d,e)}});a.ui.plugin.add("draggable","snap",{start:function(){var d=a(this).data("draggable"),c=d.options;d.snapElements=[];a(c.snap.constructor!=String?c.snap.items||":data(draggable)":c.snap).each(function(){var e=a(this),b=e.offset();this!=d.element[0]&&d.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:b.top,left:b.left})})},drag:function(L,K){for(var J=a(this).data("draggable"),H=J.options,I=H.snapTolerance,G=K.offset.left,z=G+J.helperProportions.width,A=K.offset.top,y=A+J.helperProportions.height,F=J.snapElements.length-1;F>=0;F--){var E=J.snapElements[F].left,C=E+J.snapElements[F].width,D=J.snapElements[F].top,B=D+J.snapElements[F].height;if(E-I<G&&G<C+I&&D-I<A&&A<B+I||E-I<G&&G<C+I&&D-I<y&&y<B+I||E-I<z&&z<C+I&&D-I<A&&A<B+I||E-I<z&&z<C+I&&D-I<y&&y<B+I){if(H.snapMode!="inner"){var x=Math.abs(D-y)<=I,w=Math.abs(B-A)<=I,v=Math.abs(E-z)<=I,u=Math.abs(C-G)<=I;if(x){K.position.top=J._convertPositionTo("relative",{top:D-J.helperProportions.height,left:0}).top-J.margins.top}if(w){K.position.top=J._convertPositionTo("relative",{top:B,left:0}).top-J.margins.top}if(v){K.position.left=J._convertPositionTo("relative",{top:0,left:E-J.helperProportions.width}).left-J.margins.left}if(u){K.position.left=J._convertPositionTo("relative",{top:0,left:C}).left-J.margins.left}}var d=x||w||v||u;if(H.snapMode!="outer"){x=Math.abs(D-A)<=I;w=Math.abs(B-y)<=I;v=Math.abs(E-G)<=I;u=Math.abs(C-z)<=I;if(x){K.position.top=J._convertPositionTo("relative",{top:D,left:0}).top-J.margins.top}if(w){K.position.top=J._convertPositionTo("relative",{top:B-J.helperProportions.height,left:0}).top-J.margins.top}if(v){K.position.left=J._convertPositionTo("relative",{top:0,left:E}).left-J.margins.left}if(u){K.position.left=J._convertPositionTo("relative",{top:0,left:C-J.helperProportions.width}).left-J.margins.left}}if(!J.snapElements[F].snapping&&(x||w||v||u||d)){J.options.snap.snap&&J.options.snap.snap.call(J.element,L,a.extend(J._uiHash(),{snapItem:J.snapElements[F].item}))}J.snapElements[F].snapping=x||w||v||u||d}else{J.snapElements[F].snapping&&J.options.snap.release&&J.options.snap.release.call(J.element,L,a.extend(J._uiHash(),{snapItem:J.snapElements[F].item}));J.snapElements[F].snapping=false}}}});a.ui.plugin.add("draggable","stack",{start:function(){var d=a(this).data("draggable").options;d=a.makeArray(a(d.stack)).sort(function(e,b){return(parseInt(a(e).css("zIndex"),10)||0)-(parseInt(a(b).css("zIndex"),10)||0)});if(d.length){var c=parseInt(d[0].style.zIndex)||0;a(d).each(function(b){this.style.zIndex=c+b});this[0].style.zIndex=c+d.length}}});a.ui.plugin.add("draggable","zIndex",{start:function(d,c){d=a(c.helper);c=a(this).data("draggable").options;if(d.css("zIndex")){c._zIndex=d.css("zIndex")}d.css("zIndex",c.zIndex)},stop:function(d,c){d=a(this).data("draggable").options;d._zIndex&&a(c.helper).css("zIndex",d._zIndex)}})})(jQuery);(function(a){a.widget("ui.droppable",{widgetEventPrefix:"drop",options:{accept:"*",activeClass:false,addClasses:true,greedy:false,hoverClass:false,scope:"default",tolerance:"intersect"},_create:function(){var d=this.options,c=d.accept;this.isover=0;this.isout=1;this.accept=a.isFunction(c)?c:function(b){return b.is(c)};this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};a.ui.ddmanager.droppables[d.scope]=a.ui.ddmanager.droppables[d.scope]||[];a.ui.ddmanager.droppables[d.scope].push(this);d.addClasses&&this.element.addClass("ui-droppable")},destroy:function(){for(var d=a.ui.ddmanager.droppables[this.options.scope],c=0;c<d.length;c++){d[c]==this&&d.splice(c,1)}this.element.removeClass("ui-droppable ui-droppable-disabled").removeData("droppable").unbind(".droppable");return this},_setOption:function(d,c){if(d=="accept"){this.accept=a.isFunction(c)?c:function(b){return b.is(c)}}a.Widget.prototype._setOption.apply(this,arguments)},_activate:function(d){var c=a.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass);c&&this._trigger("activate",d,this.ui(c))},_deactivate:function(d){var c=a.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass);c&&this._trigger("deactivate",d,this.ui(c))},_over:function(d){var c=a.ui.ddmanager.current;if(!(!c||(c.currentItem||c.element)[0]==this.element[0])){if(this.accept.call(this.element[0],c.currentItem||c.element)){this.options.hoverClass&&this.element.addClass(this.options.hoverClass);this._trigger("over",d,this.ui(c))}}},_out:function(d){var c=a.ui.ddmanager.current;if(!(!c||(c.currentItem||c.element)[0]==this.element[0])){if(this.accept.call(this.element[0],c.currentItem||c.element)){this.options.hoverClass&&this.element.removeClass(this.options.hoverClass);this._trigger("out",d,this.ui(c))}}},_drop:function(f,d){var h=d||a.ui.ddmanager.current;if(!h||(h.currentItem||h.element)[0]==this.element[0]){return false}var g=false;this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var b=a.data(this,"droppable");if(b.options.greedy&&!b.options.disabled&&b.options.scope==h.options.scope&&b.accept.call(b.element[0],h.currentItem||h.element)&&a.ui.intersect(h,a.extend(b,{offset:b.element.offset()}),b.options.tolerance)){g=true;return false}});if(g){return false}if(this.accept.call(this.element[0],h.currentItem||h.element)){this.options.activeClass&&this.element.removeClass(this.options.activeClass);this.options.hoverClass&&this.element.removeClass(this.options.hoverClass);this._trigger("drop",f,this.ui(h));return this.element}return false},ui:function(b){return{draggable:b.currentItem||b.element,helper:b.helper,position:b.position,offset:b.positionAbs}}});a.extend(a.ui.droppable,{version:"1.8.9"});a.ui.intersect=function(w,v,u){if(!v.offset){return false}var s=(w.positionAbs||w.position.absolute).left,q=s+w.helperProportions.width,r=(w.positionAbs||w.position.absolute).top,p=r+w.helperProportions.height,o=v.offset.left,m=o+v.proportions.width,n=v.offset.top,d=n+v.proportions.height;switch(u){case"fit":return o<=s&&q<=m&&n<=r&&p<=d;case"intersect":return o<s+w.helperProportions.width/2&&q-w.helperProportions.width/2<m&&n<r+w.helperProportions.height/2&&p-w.helperProportions.height/2<d;case"pointer":return a.ui.isOver((w.positionAbs||w.position.absolute).top+(w.clickOffset||w.offset.click).top,(w.positionAbs||w.position.absolute).left+(w.clickOffset||w.offset.click).left,n,o,v.proportions.height,v.proportions.width);case"touch":return(r>=n&&r<=d||p>=n&&p<=d||r<n&&p>d)&&(s>=o&&s<=m||q>=o&&q<=m||s<o&&q>m);default:return false}};a.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(j,d){var o=a.ui.ddmanager.droppables[j.options.scope]||[],n=d?d.type:null,l=(j.currentItem||j.element).find(":data(droppable)").andSelf(),m=0;j:for(;m<o.length;m++){if(!(o[m].options.disabled||j&&!o[m].accept.call(o[m].element[0],j.currentItem||j.element))){for(var k=0;k<l.length;k++){if(l[k]==o[m].element[0]){o[m].proportions.height=0;continue j}}o[m].visible=o[m].element.css("display")!="none";if(o[m].visible){o[m].offset=o[m].element.offset();o[m].proportions={width:o[m].element[0].offsetWidth,height:o[m].element[0].offsetHeight};n=="mousedown"&&o[m]._activate.call(o[m],d)}}}},drop:function(e,d){var f=false;a.each(a.ui.ddmanager.droppables[e.options.scope]||[],function(){if(this.options){if(!this.options.disabled&&this.visible&&a.ui.intersect(e,this,this.options.tolerance)){f=f||this._drop.call(this,d)}if(!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)){this.isout=1;this.isover=0;this._deactivate.call(this,d)}}});return f},drag:function(d,c){d.options.refreshPositions&&a.ui.ddmanager.prepareOffsets(d,c);a.each(a.ui.ddmanager.droppables[d.options.scope]||[],function(){if(!(this.options.disabled||this.greedyChild||!this.visible)){var h=a.ui.intersect(d,this,this.options.tolerance);if(h=!h&&this.isover==1?"isout":h&&this.isover==0?"isover":null){var f;if(this.options.greedy){var b=this.element.parents(":data(droppable):eq(0)");if(b.length){f=a.data(b[0],"droppable");f.greedyChild=h=="isover"?1:0}}if(f&&h=="isover"){f.isover=0;f.isout=1;f._out.call(f,c)}this[h]=1;this[h=="isout"?"isover":"isout"]=0;this[h=="isover"?"_over":"_out"].call(this,c);if(f&&h=="isout"){f.isout=0;f.isover=1;f._over.call(f,c)}}}})}}})(jQuery);(function(c){c.widget("ui.resizable",c.ui.mouse,{widgetEventPrefix:"resize",options:{alsoResize:false,animate:false,animateDuration:"slow",animateEasing:"swing",aspectRatio:false,autoHide:false,containment:false,ghost:false,grid:false,handles:"e,s,se",helper:false,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1000},_create:function(){var e=this,h=this.options;this.element.addClass("ui-resizable");c.extend(this,{_aspectRatio:!!h.aspectRatio,aspectRatio:h.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:h.helper||h.ghost||h.animate?h.helper||"ui-resizable-helper":null});if(this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)){/relative/.test(this.element.css("position"))&&c.browser.opera&&this.element.css({position:"relative",top:"auto",left:"auto"});this.element.wrap(c('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")}));this.element=this.element.parent().data("resizable",this.element.data("resizable"));this.elementIsWrapper=true;this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")});this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0});this.originalResizeStyle=this.originalElement.css("resize");this.originalElement.css("resize","none");this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"}));this.originalElement.css({margin:this.originalElement.css("margin")});this._proportionallyResize()}this.handles=h.handles||(!c(".ui-resizable-handle",this.element).length?"e,s,se":{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"});if(this.handles.constructor==String){if(this.handles=="all"){this.handles="n,e,s,w,se,sw,ne,nw"}var m=this.handles.split(",");this.handles={};for(var l=0;l<m.length;l++){var k=c.trim(m[l]),j=c('<div class="ui-resizable-handle '+("ui-resizable-"+k)+'"></div>');/sw|se|ne|nw/.test(k)&&j.css({zIndex:++h.zIndex});"se"==k&&j.addClass("ui-icon ui-icon-gripsmall-diagonal-se");this.handles[k]=".ui-resizable-"+k;this.element.append(j)}}this._renderAxis=function(n){n=n||this.element;for(var g in this.handles){if(this.handles[g].constructor==String){this.handles[g]=c(this.handles[g],this.element).show()}if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var f=c(this.handles[g],this.element),d=0;d=/sw|ne|nw|se|n|s/.test(g)?f.outerHeight():f.outerWidth();f=["padding",/ne|nw|n/.test(g)?"Top":/se|sw|s/.test(g)?"Bottom":/^e$/.test(g)?"Right":"Left"].join("");n.css(f,d);this._proportionallyResize()}c(this.handles[g])}};this._renderAxis(this.element);this._handles=c(".ui-resizable-handle",this.element).disableSelection();this._handles.mouseover(function(){if(!e.resizing){if(this.className){var d=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)}e.axis=d&&d[1]?d[1]:"se"}});if(h.autoHide){this._handles.hide();c(this.element).addClass("ui-resizable-autohide").hover(function(){c(this).removeClass("ui-resizable-autohide");e._handles.show()},function(){if(!e.resizing){c(this).addClass("ui-resizable-autohide");e._handles.hide()}})}this._mouseInit()},destroy:function(){this._mouseDestroy();var d=function(f){c(f).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){d(this.element);var e=this.element;e.after(this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")})).remove()}this.originalElement.css("resize",this.originalResizeStyle);d(this.originalElement);return this},_mouseCapture:function(d){var e=false;for(var f in this.handles){if(c(this.handles[f])[0]==d.target){e=true}}return !this.options.disabled&&e},_mouseStart:function(e){var g=this.options,k=this.element.position(),j=this.element;this.resizing=true;this.documentScroll={top:c(document).scrollTop(),left:c(document).scrollLeft()};if(j.is(".ui-draggable")||/absolute/.test(j.css("position"))){j.css({position:"absolute",top:k.top,left:k.left})}c.browser.opera&&/relative/.test(j.css("position"))&&j.css({position:"relative",top:"auto",left:"auto"});this._renderProxy();k=a(this.helper.css("left"));var h=a(this.helper.css("top"));if(g.containment){k+=c(g.containment).scrollLeft()||0;h+=c(g.containment).scrollTop()||0}this.offset=this.helper.offset();this.position={left:k,top:h};this.size=this._helper?{width:j.outerWidth(),height:j.outerHeight()}:{width:j.width(),height:j.height()};this.originalSize=this._helper?{width:j.outerWidth(),height:j.outerHeight()}:{width:j.width(),height:j.height()};this.originalPosition={left:k,top:h};this.sizeDiff={width:j.outerWidth()-j.width(),height:j.outerHeight()-j.height()};this.originalMousePosition={left:e.pageX,top:e.pageY};this.aspectRatio=typeof g.aspectRatio=="number"?g.aspectRatio:this.originalSize.width/this.originalSize.height||1;g=c(".ui-resizable-"+this.axis).css("cursor");c("body").css("cursor",g=="auto"?this.axis+"-resize":g);j.addClass("ui-resizable-resizing");this._propagate("start",e);return true},_mouseDrag:function(e){var f=this.helper,h=this.originalMousePosition,g=this._change[this.axis];if(!g){return false}h=g.apply(this,[e,e.pageX-h.left||0,e.pageY-h.top||0]);if(this._aspectRatio||e.shiftKey){h=this._updateRatio(h,e)}h=this._respectSize(h,e);this._propagate("resize",e);f.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"});!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize();this._updateCache(h);this._trigger("resize",e,this.ui());return false},_mouseStop:function(e){this.resizing=false;var h=this.options,m=this;if(this._helper){var l=this._proportionallyResizeElements,k=l.length&&/textarea/i.test(l[0].nodeName);l=k&&c.ui.hasScroll(l[0],"left")?0:m.sizeDiff.height;k={width:m.size.width-(k?0:m.sizeDiff.width),height:m.size.height-l};l=parseInt(m.element.css("left"),10)+(m.position.left-m.originalPosition.left)||null;var j=parseInt(m.element.css("top"),10)+(m.position.top-m.originalPosition.top)||null;h.animate||this.element.css(c.extend(k,{top:j,left:l}));m.helper.height(m.size.height);m.helper.width(m.size.width);this._helper&&!h.animate&&this._proportionallyResize()}c("body").css("cursor","auto");this.element.removeClass("ui-resizable-resizing");this._propagate("stop",e);this._helper&&this.helper.remove();return false},_updateCache:function(d){this.offset=this.helper.offset();if(b(d.left)){this.position.left=d.left}if(b(d.top)){this.position.top=d.top}if(b(d.height)){this.size.height=d.height}if(b(d.width)){this.size.width=d.width}},_updateRatio:function(e){var f=this.position,h=this.size,g=this.axis;if(e.height){e.width=h.height*this.aspectRatio}else{if(e.width){e.height=h.width/this.aspectRatio}}if(g=="sw"){e.left=f.left+(h.width-e.width);e.top=null}if(g=="nw"){e.top=f.top+(h.height-e.height);e.left=f.left+(h.width-e.width)}return e},_respectSize:function(s){var u=this.options,r=this.axis,q=b(s.width)&&u.maxWidth&&u.maxWidth<s.width,p=b(s.height)&&u.maxHeight&&u.maxHeight<s.height,o=b(s.width)&&u.minWidth&&u.minWidth>s.width,n=b(s.height)&&u.minHeight&&u.minHeight>s.height;if(o){s.width=u.minWidth}if(n){s.height=u.minHeight}if(q){s.width=u.maxWidth}if(p){s.height=u.maxHeight}var m=this.originalPosition.left+this.originalSize.width,l=this.position.top+this.size.height,e=/sw|nw|w/.test(r);r=/nw|ne|n/.test(r);if(o&&e){s.left=m-u.minWidth}if(q&&e){s.left=m-u.maxWidth}if(n&&r){s.top=l-u.minHeight}if(p&&r){s.top=l-u.maxHeight}if((u=!s.width&&!s.height)&&!s.left&&s.top){s.top=null}else{if(u&&!s.top&&s.left){s.left=null}}return s},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){for(var e=this.helper||this.element,g=0;g<this._proportionallyResizeElements.length;g++){var k=this._proportionallyResizeElements[g];if(!this.borderDif){var j=[k.css("borderTopWidth"),k.css("borderRightWidth"),k.css("borderBottomWidth"),k.css("borderLeftWidth")],h=[k.css("paddingTop"),k.css("paddingRight"),k.css("paddingBottom"),k.css("paddingLeft")];this.borderDif=c.map(j,function(f,d){f=parseInt(f,10)||0;d=parseInt(h[d],10)||0;return f+d})}c.browser.msie&&(c(e).is(":hidden")||c(e).parents(":hidden").length)||k.css({height:e.height()-this.borderDif[0]-this.borderDif[2]||0,width:e.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var d=this.options;this.elementOffset=this.element.offset();if(this._helper){this.helper=this.helper||c('<div style="overflow:hidden;"></div>');var e=c.browser.msie&&c.browser.version<7,f=e?1:0;e=e?2:-1;this.helper.addClass(this._helper).css({width:this.element.outerWidth()+e,height:this.element.outerHeight()+e,position:"absolute",left:this.elementOffset.left-f+"px",top:this.elementOffset.top-f+"px",zIndex:++d.zIndex});this.helper.appendTo("body").disableSelection()}else{this.helper=this.element}},_change:{e:function(d,e){return{width:this.originalSize.width+e}},w:function(d,e){return{left:this.originalPosition.left+e,width:this.originalSize.width-e}},n:function(d,e,f){return{top:this.originalPosition.top+f,height:this.originalSize.height-f}},s:function(d,e,f){return{height:this.originalSize.height+f}},se:function(d,e,f){return c.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[d,e,f]))},sw:function(d,e,f){return c.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[d,e,f]))},ne:function(d,e,f){return c.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[d,e,f]))},nw:function(d,e,f){return c.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[d,e,f]))}},_propagate:function(d,e){c.ui.plugin.call(this,d,[e,this.ui()]);d!="resize"&&this._trigger(d,e,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});c.extend(c.ui.resizable,{version:"1.8.9"});c.ui.plugin.add("resizable","alsoResize",{start:function(){var d=c(this).data("resizable").options,e=function(f){c(f).each(function(){var g=c(this);g.data("resizable-alsoresize",{width:parseInt(g.width(),10),height:parseInt(g.height(),10),left:parseInt(g.css("left"),10),top:parseInt(g.css("top"),10),position:g.css("position")})})};if(typeof d.alsoResize=="object"&&!d.alsoResize.parentNode){if(d.alsoResize.length){d.alsoResize=d.alsoResize[0];e(d.alsoResize)}else{c.each(d.alsoResize,function(f){e(f)})}}else{e(d.alsoResize)}},resize:function(e,j){var o=c(this).data("resizable");e=o.options;var n=o.originalSize,m=o.originalPosition,l={height:o.size.height-n.height||0,width:o.size.width-n.width||0,top:o.position.top-m.top||0,left:o.position.left-m.left||0},k=function(f,d){c(f).each(function(){var g=c(this),s=c(this).data("resizable-alsoresize"),u={},h=d&&d.length?d:g.parents(j.originalElement[0]).length?["width","height"]:["width","height","top","left"];c.each(h,function(q,p){if((q=(s[p]||0)+(l[p]||0))&&q>=0){u[p]=q||null}});if(c.browser.opera&&/relative/.test(g.css("position"))){o._revertToRelativePosition=true;g.css({position:"absolute",top:"auto",left:"auto"})}g.css(u)})};typeof e.alsoResize=="object"&&!e.alsoResize.nodeType?c.each(e.alsoResize,function(f,d){k(f,d)}):k(e.alsoResize)},stop:function(){var d=c(this).data("resizable"),e=d.options,f=function(g){c(g).each(function(){var h=c(this);h.css({position:h.data("resizable-alsoresize").position})})};if(d._revertToRelativePosition){d._revertToRelativePosition=false;typeof e.alsoResize=="object"&&!e.alsoResize.nodeType?c.each(e.alsoResize,function(g){f(g)}):f(e.alsoResize)}c(this).removeData("resizable-alsoresize")}});c.ui.plugin.add("resizable","animate",{stop:function(e){var j=c(this).data("resizable"),o=j.options,n=j._proportionallyResizeElements,m=n.length&&/textarea/i.test(n[0].nodeName),l=m&&c.ui.hasScroll(n[0],"left")?0:j.sizeDiff.height;m={width:j.size.width-(m?0:j.sizeDiff.width),height:j.size.height-l};l=parseInt(j.element.css("left"),10)+(j.position.left-j.originalPosition.left)||null;var k=parseInt(j.element.css("top"),10)+(j.position.top-j.originalPosition.top)||null;j.element.animate(c.extend(m,k&&l?{top:k,left:l}:{}),{duration:o.animateDuration,easing:o.animateEasing,step:function(){var d={width:parseInt(j.element.css("width"),10),height:parseInt(j.element.css("height"),10),top:parseInt(j.element.css("top"),10),left:parseInt(j.element.css("left"),10)};n&&n.length&&c(n[0]).css({width:d.width,height:d.height});j._updateCache(d);j._propagate("resize",e)}})}});c.ui.plugin.add("resizable","containment",{start:function(){var e=c(this).data("resizable"),j=e.element,o=e.options.containment;if(j=o instanceof c?o.get(0):/parent/.test(o)?j.parent().get(0):o){e.containerElement=c(j);if(/document/.test(o)||o==document){e.containerOffset={left:0,top:0};e.containerPosition={left:0,top:0};e.parentData={element:c(document),left:0,top:0,width:c(document).width(),height:c(document).height()||document.body.parentNode.scrollHeight}}else{var n=c(j),m=[];c(["Top","Right","Left","Bottom"]).each(function(f,d){m[f]=a(n.css("padding"+d))});e.containerOffset=n.offset();e.containerPosition=n.position();e.containerSize={height:n.innerHeight()-m[3],width:n.innerWidth()-m[1]};o=e.containerOffset;var l=e.containerSize.height,k=e.containerSize.width;k=c.ui.hasScroll(j,"left")?j.scrollWidth:k;l=c.ui.hasScroll(j)?j.scrollHeight:l;e.parentData={element:j,left:o.left,top:o.top,width:k,height:l}}}},resize:function(e){var j=c(this).data("resizable"),o=j.options,n=j.containerOffset,m=j.position;e=j._aspectRatio||e.shiftKey;var l={top:0,left:0},k=j.containerElement;if(k[0]!=document&&/static/.test(k.css("position"))){l=n}if(m.left<(j._helper?n.left:0)){j.size.width+=j._helper?j.position.left-n.left:j.position.left-l.left;if(e){j.size.height=j.size.width/o.aspectRatio}j.position.left=o.helper?n.left:0}if(m.top<(j._helper?n.top:0)){j.size.height+=j._helper?j.position.top-n.top:j.position.top;if(e){j.size.width=j.size.height*o.aspectRatio}j.position.top=j._helper?n.top:0}j.offset.left=j.parentData.left+j.position.left;j.offset.top=j.parentData.top+j.position.top;o=Math.abs((j._helper?j.offset.left-l.left:j.offset.left-l.left)+j.sizeDiff.width);n=Math.abs((j._helper?j.offset.top-l.top:j.offset.top-n.top)+j.sizeDiff.height);m=j.containerElement.get(0)==j.element.parent().get(0);l=/relative|absolute/.test(j.containerElement.css("position"));if(m&&l){o-=j.parentData.left}if(o+j.size.width>=j.parentData.width){j.size.width=j.parentData.width-o;if(e){j.size.height=j.size.width/j.aspectRatio}}if(n+j.size.height>=j.parentData.height){j.size.height=j.parentData.height-n;if(e){j.size.width=j.size.height*j.aspectRatio}}},stop:function(){var e=c(this).data("resizable"),j=e.options,p=e.containerOffset,o=e.containerPosition,n=e.containerElement,m=c(e.helper),l=m.offset(),k=m.outerWidth()-e.sizeDiff.width;m=m.outerHeight()-e.sizeDiff.height;e._helper&&!j.animate&&/relative/.test(n.css("position"))&&c(this).css({left:l.left-o.left-p.left,width:k,height:m});e._helper&&!j.animate&&/static/.test(n.css("position"))&&c(this).css({left:l.left-o.left-p.left,width:k,height:m})}});c.ui.plugin.add("resizable","ghost",{start:function(){var d=c(this).data("resizable"),e=d.options,f=d.size;d.ghost=d.originalElement.clone();d.ghost.css({opacity:0.25,display:"block",position:"relative",height:f.height,width:f.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof e.ghost=="string"?e.ghost:"");d.ghost.appendTo(d.helper)},resize:function(){var d=c(this).data("resizable");d.ghost&&d.ghost.css({position:"relative",height:d.size.height,width:d.size.width})},stop:function(){var d=c(this).data("resizable");d.ghost&&d.helper&&d.helper.get(0).removeChild(d.ghost.get(0))}});c.ui.plugin.add("resizable","grid",{resize:function(){var e=c(this).data("resizable"),j=e.options,o=e.size,n=e.originalSize,m=e.originalPosition,l=e.axis;j.grid=typeof j.grid=="number"?[j.grid,j.grid]:j.grid;var k=Math.round((o.width-n.width)/(j.grid[0]||1))*(j.grid[0]||1);j=Math.round((o.height-n.height)/(j.grid[1]||1))*(j.grid[1]||1);if(/^(se|s|e)$/.test(l)){e.size.width=n.width+k;e.size.height=n.height+j}else{if(/^(ne)$/.test(l)){e.size.width=n.width+k;e.size.height=n.height+j;e.position.top=m.top-j}else{if(/^(sw)$/.test(l)){e.size.width=n.width+k;e.size.height=n.height+j}else{e.size.width=n.width+k;e.size.height=n.height+j;e.position.top=m.top-j}e.position.left=m.left-k}}}});var a=function(d){return parseInt(d,10)||0},b=function(d){return !isNaN(parseInt(d,10))}})(jQuery);(function(a){a.widget("ui.selectable",a.ui.mouse,{options:{appendTo:"body",autoRefresh:true,distance:0,filter:"*",tolerance:"touch"},_create:function(){var d=this;this.element.addClass("ui-selectable");this.dragged=false;var b;this.refresh=function(){b=a(d.options.filter,d.element[0]);b.each(function(){var e=a(this),c=e.offset();a.data(this,"selectable-item",{element:this,$element:e,left:c.left,top:c.top,right:c.left+e.outerWidth(),bottom:c.top+e.outerHeight(),startselected:false,selected:e.hasClass("ui-selected"),selecting:e.hasClass("ui-selecting"),unselecting:e.hasClass("ui-unselecting")})})};this.refresh();this.selectees=b.addClass("ui-selectee");this._mouseInit();this.helper=a("<div class='ui-selectable-helper'></div>")},destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item");this.element.removeClass("ui-selectable ui-selectable-disabled").removeData("selectable").unbind(".selectable");this._mouseDestroy();return this},_mouseStart:function(g){var b=this;this.opos=[g.pageX,g.pageY];if(!this.options.disabled){var e=this.options;this.selectees=a(e.filter,this.element[0]);this._trigger("start",g);a(e.appendTo).append(this.helper);this.helper.css({left:g.clientX,top:g.clientY,width:0,height:0});e.autoRefresh&&this.refresh();this.selectees.filter(".ui-selected").each(function(){var c=a.data(this,"selectable-item");c.startselected=true;if(!g.metaKey){c.$element.removeClass("ui-selected");c.selected=false;c.$element.addClass("ui-unselecting");c.unselecting=true;b._trigger("unselecting",g,{unselecting:c.element})}});a(g.target).parents().andSelf().each(function(){var c=a.data(this,"selectable-item");if(c){var d=!g.metaKey||!c.$element.hasClass("ui-selected");c.$element.removeClass(d?"ui-unselecting":"ui-selected").addClass(d?"ui-selecting":"ui-unselecting");c.unselecting=!d;c.selecting=d;(c.selected=d)?b._trigger("selecting",g,{selecting:c.element}):b._trigger("unselecting",g,{unselecting:c.element});return false}})}},_mouseDrag:function(q){var o=this;this.dragged=true;if(!this.options.disabled){var p=this.options,e=this.opos[0],n=this.opos[1],m=q.pageX,l=q.pageY;if(e>m){var k=m;m=e;e=k}if(n>l){k=l;l=n;n=k}this.helper.css({left:e,top:n,width:m-e,height:l-n});this.selectees.each(function(){var b=a.data(this,"selectable-item");if(!(!b||b.element==o.element[0])){var c=false;if(p.tolerance=="touch"){c=!(b.left>m||b.right<e||b.top>l||b.bottom<n)}else{if(p.tolerance=="fit"){c=b.left>e&&b.right<m&&b.top>n&&b.bottom<l}}if(c){if(b.selected){b.$element.removeClass("ui-selected");b.selected=false}if(b.unselecting){b.$element.removeClass("ui-unselecting");b.unselecting=false}if(!b.selecting){b.$element.addClass("ui-selecting");b.selecting=true;o._trigger("selecting",q,{selecting:b.element})}}else{if(b.selecting){if(q.metaKey&&b.startselected){b.$element.removeClass("ui-selecting");b.selecting=false;b.$element.addClass("ui-selected");b.selected=true}else{b.$element.removeClass("ui-selecting");b.selecting=false;if(b.startselected){b.$element.addClass("ui-unselecting");b.unselecting=true}o._trigger("unselecting",q,{unselecting:b.element})}}if(b.selected){if(!q.metaKey&&!b.startselected){b.$element.removeClass("ui-selected");b.selected=false;b.$element.addClass("ui-unselecting");b.unselecting=true;o._trigger("unselecting",q,{unselecting:b.element})}}}}});return false}},_mouseStop:function(d){var b=this;this.dragged=false;a(".ui-unselecting",this.element[0]).each(function(){var c=a.data(this,"selectable-item");c.$element.removeClass("ui-unselecting");c.unselecting=false;c.startselected=false;b._trigger("unselected",d,{unselected:c.element})});a(".ui-selecting",this.element[0]).each(function(){var c=a.data(this,"selectable-item");c.$element.removeClass("ui-selecting").addClass("ui-selected");c.selecting=false;c.selected=true;c.startselected=true;b._trigger("selected",d,{selected:c.element})});this._trigger("stop",d);this.helper.remove();return false}});a.extend(a.ui.selectable,{version:"1.8.9"})})(jQuery);(function(a){a.widget("ui.sortable",a.ui.mouse,{widgetEventPrefix:"sort",options:{appendTo:"parent",axis:false,connectWith:false,containment:false,cursor:"auto",cursorAt:false,dropOnEmpty:true,forcePlaceholderSize:false,forceHelperSize:false,grid:false,handle:false,helper:"original",items:"> *",opacity:false,placeholder:false,revert:false,scroll:true,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1000},_create:function(){this.containerCache={};this.element.addClass("ui-sortable");this.refresh();this.floating=this.items.length?/left|right/.test(this.items[0].item.css("float")):false;this.offset=this.element.offset();this._mouseInit()},destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").removeData("sortable").unbind(".sortable");this._mouseDestroy();for(var b=this.items.length-1;b>=0;b--){this.items[b].item.removeData("sortable-item")}return this},_setOption:function(d,c){if(d==="disabled"){this.options[d]=c;this.widget()[c?"addClass":"removeClass"]("ui-sortable-disabled")}else{a.Widget.prototype._setOption.apply(this,arguments)}},_mouseCapture:function(g,d){if(this.reverting){return false}if(this.options.disabled||this.options.type=="static"){return false}this._refreshItems(g);var k=null,j=this;a(g.target).parents().each(function(){if(a.data(this,"sortable-item")==j){k=a(this);return false}});if(a.data(g.target,"sortable-item")==j){k=a(g.target)}if(!k){return false}if(this.options.handle&&!d){var h=false;a(this.options.handle,k).find("*").andSelf().each(function(){if(this==g.target){h=true}});if(!h){return false}}this.currentItem=k;this._removeCurrentsFromItems();return true},_mouseStart:function(f,d,h){d=this.options;var g=this;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(f);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");a.extend(this.offset,{click:{left:f.pageX-this.offset.left,top:f.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this._generatePosition(f);this.originalPageX=f.pageX;this.originalPageY=f.pageY;d.cursorAt&&this._adjustOffsetFromHelper(d.cursorAt);this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};this.helper[0]!=this.currentItem[0]&&this.currentItem.hide();this._createPlaceholder();d.containment&&this._setContainment();if(d.cursor){if(a("body").css("cursor")){this._storedCursor=a("body").css("cursor")}a("body").css("cursor",d.cursor)}if(d.opacity){if(this.helper.css("opacity")){this._storedOpacity=this.helper.css("opacity")}this.helper.css("opacity",d.opacity)}if(d.zIndex){if(this.helper.css("zIndex")){this._storedZIndex=this.helper.css("zIndex")}this.helper.css("zIndex",d.zIndex)}if(this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"){this.overflowOffset=this.scrollParent.offset()}this._trigger("start",f,this._uiHash());this._preserveHelperProportions||this._cacheHelperProportions();if(!h){for(h=this.containers.length-1;h>=0;h--){this.containers[h]._trigger("activate",f,g._uiHash(this))}}if(a.ui.ddmanager){a.ui.ddmanager.current=this}a.ui.ddmanager&&!d.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,f);this.dragging=true;this.helper.addClass("ui-sortable-helper");this._mouseDrag(f);return true},_mouseDrag:function(g){this.position=this._generatePosition(g);this.positionAbs=this._convertPositionTo("absolute");if(!this.lastPositionAbs){this.lastPositionAbs=this.positionAbs}if(this.options.scroll){var d=this.options,k=false;if(this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"){if(this.overflowOffset.top+this.scrollParent[0].offsetHeight-g.pageY<d.scrollSensitivity){this.scrollParent[0].scrollTop=k=this.scrollParent[0].scrollTop+d.scrollSpeed}else{if(g.pageY-this.overflowOffset.top<d.scrollSensitivity){this.scrollParent[0].scrollTop=k=this.scrollParent[0].scrollTop-d.scrollSpeed}}if(this.overflowOffset.left+this.scrollParent[0].offsetWidth-g.pageX<d.scrollSensitivity){this.scrollParent[0].scrollLeft=k=this.scrollParent[0].scrollLeft+d.scrollSpeed}else{if(g.pageX-this.overflowOffset.left<d.scrollSensitivity){this.scrollParent[0].scrollLeft=k=this.scrollParent[0].scrollLeft-d.scrollSpeed}}}else{if(g.pageY-a(document).scrollTop()<d.scrollSensitivity){k=a(document).scrollTop(a(document).scrollTop()-d.scrollSpeed)}else{if(a(window).height()-(g.pageY-a(document).scrollTop())<d.scrollSensitivity){k=a(document).scrollTop(a(document).scrollTop()+d.scrollSpeed)}}if(g.pageX-a(document).scrollLeft()<d.scrollSensitivity){k=a(document).scrollLeft(a(document).scrollLeft()-d.scrollSpeed)}else{if(a(window).width()-(g.pageX-a(document).scrollLeft())<d.scrollSensitivity){k=a(document).scrollLeft(a(document).scrollLeft()+d.scrollSpeed)}}}k!==false&&a.ui.ddmanager&&!d.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,g)}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!="y"){this.helper[0].style.left=this.position.left+"px"}if(!this.options.axis||this.options.axis!="x"){this.helper[0].style.top=this.position.top+"px"}for(d=this.items.length-1;d>=0;d--){k=this.items[d];var j=k.item[0],h=this._intersectsWithPointer(k);if(h){if(j!=this.currentItem[0]&&this.placeholder[h==1?"next":"prev"]()[0]!=j&&!a.ui.contains(this.placeholder[0],j)&&(this.options.type=="semi-dynamic"?!a.ui.contains(this.element[0],j):true)){this.direction=h==1?"down":"up";if(this.options.tolerance=="pointer"||this._intersectsWithSides(k)){this._rearrange(g,k)}else{break}this._trigger("change",g,this._uiHash());break}}}this._contactContainers(g);a.ui.ddmanager&&a.ui.ddmanager.drag(this,g);this._trigger("sort",g,this._uiHash());this.lastPositionAbs=this.positionAbs;return false},_mouseStop:function(e,d){if(e){a.ui.ddmanager&&!this.options.dropBehaviour&&a.ui.ddmanager.drop(this,e);if(this.options.revert){var f=this;d=f.placeholder.offset();f.reverting=true;a(this.helper).animate({left:d.left-this.offset.parent.left-f.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:d.top-this.offset.parent.top-f.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){f._clear(e)})}else{this._clear(e,d)}return false}},cancel:function(){var d=this;if(this.dragging){this._mouseUp({target:null});this.options.helper=="original"?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var c=this.containers.length-1;c>=0;c--){this.containers[c]._trigger("deactivate",null,d._uiHash(this));if(this.containers[c].containerCache.over){this.containers[c]._trigger("out",null,d._uiHash(this));this.containers[c].containerCache.over=0}}}if(this.placeholder){this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]);this.options.helper!="original"&&this.helper&&this.helper[0].parentNode&&this.helper.remove();a.extend(this,{helper:null,dragging:false,reverting:false,_noFinalSort:null});this.domPosition.prev?a(this.domPosition.prev).after(this.currentItem):a(this.domPosition.parent).prepend(this.currentItem)}return this},serialize:function(e){var d=this._getItemsAsjQuery(e&&e.connected),f=[];e=e||{};a(d).each(function(){var b=(a(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[-=_](.+)/);if(b){f.push((e.key||b[1]+"[]")+"="+(e.key&&e.expression?b[1]:b[2]))}});!f.length&&e.key&&f.push(e.key+"=");return f.join("&")},toArray:function(e){var d=this._getItemsAsjQuery(e&&e.connected),f=[];e=e||{};d.each(function(){f.push(a(e.item||this).attr(e.attribute||"id")||"")});return f},_intersectsWith:function(w){var v=this.positionAbs.left,u=v+this.helperProportions.width,s=this.positionAbs.top,r=s+this.helperProportions.height,q=w.left,p=q+w.width,o=w.top,m=o+w.height,n=this.offset.click.top,d=this.offset.click.left;n=s+n>o&&s+n<m&&v+d>q&&v+d<p;return this.options.tolerance=="pointer"||this.options.forcePointerForContainers||this.options.tolerance!="pointer"&&this.helperProportions[this.floating?"width":"height"]>w[this.floating?"width":"height"]?n:q<v+this.helperProportions.width/2&&u-this.helperProportions.width/2<p&&o<s+this.helperProportions.height/2&&r-this.helperProportions.height/2<m},_intersectsWithPointer:function(e){var d=a.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height);e=a.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width);d=d&&e;e=this._getDragVerticalDirection();var f=this._getDragHorizontalDirection();if(!d){return false}return this.floating?f&&f=="right"||e=="down"?2:1:e&&(e=="down"?2:1)},_intersectsWithSides:function(f){var d=a.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,f.top+f.height/2,f.height);f=a.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,f.left+f.width/2,f.width);var h=this._getDragVerticalDirection(),g=this._getDragHorizontalDirection();return this.floating&&g?g=="right"&&f||g=="left"&&!f:h&&(h=="down"&&d||h=="up"&&!d)},_getDragVerticalDirection:function(){var b=this.positionAbs.top-this.lastPositionAbs.top;return b!=0&&(b>0?"down":"up")},_getDragHorizontalDirection:function(){var b=this.positionAbs.left-this.lastPositionAbs.left;return b!=0&&(b>0?"right":"left")},refresh:function(b){this._refreshItems(b);this.refreshPositions();return this},_connectWith:function(){var b=this.options;return b.connectWith.constructor==String?[b.connectWith]:b.connectWith},_getItemsAsjQuery:function(j){var d=[],o=[],n=this._connectWith();if(n&&j){for(j=n.length-1;j>=0;j--){for(var m=a(n[j]),l=m.length-1;l>=0;l--){var k=a.data(m[l],"sortable");if(k&&k!=this&&!k.options.disabled){o.push([a.isFunction(k.options.items)?k.options.items.call(k.element):a(k.options.items,k.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),k])}}}}o.push([a.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):a(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(j=o.length-1;j>=0;j--){o[j][0].each(function(){d.push(this)})}return a(d)},_removeCurrentsFromItems:function(){for(var e=this.currentItem.find(":data(sortable-item)"),d=0;d<this.items.length;d++){for(var f=0;f<e.length;f++){e[f]==this.items[d].item[0]&&this.items.splice(d,1)}}},_refreshItems:function(j){this.items=[];this.containers=[this];var d=this.items,p=[[a.isFunction(this.options.items)?this.options.items.call(this.element[0],j,{item:this.currentItem}):a(this.options.items,this.element),this]],o=this._connectWith();if(o){for(var n=o.length-1;n>=0;n--){for(var m=a(o[n]),l=m.length-1;l>=0;l--){var k=a.data(m[l],"sortable");if(k&&k!=this&&!k.options.disabled){p.push([a.isFunction(k.options.items)?k.options.items.call(k.element[0],j,{item:this.currentItem}):a(k.options.items,k.element),k]);this.containers.push(k)}}}}for(n=p.length-1;n>=0;n--){j=p[n][1];o=p[n][0];l=0;for(m=o.length;l<m;l++){k=a(o[l]);k.data("sortable-item",j);d.push({item:k,instance:j,width:0,height:0,left:0,top:0})}}},refreshPositions:function(f){if(this.offsetParent&&this.helper){this.offset.parent=this._getParentOffset()}for(var d=this.items.length-1;d>=0;d--){var h=this.items[d],g=this.options.toleranceElement?a(this.options.toleranceElement,h.item):h.item;if(!f){h.width=g.outerWidth();h.height=g.outerHeight()}g=g.offset();h.left=g.left;h.top=g.top}if(this.options.custom&&this.options.custom.refreshContainers){this.options.custom.refreshContainers.call(this)}else{for(d=this.containers.length-1;d>=0;d--){g=this.containers[d].element.offset();this.containers[d].containerCache.left=g.left;this.containers[d].containerCache.top=g.top;this.containers[d].containerCache.width=this.containers[d].element.outerWidth();this.containers[d].containerCache.height=this.containers[d].element.outerHeight()}}return this},_createPlaceholder:function(f){var d=f||this,h=d.options;if(!h.placeholder||h.placeholder.constructor==String){var g=h.placeholder;h.placeholder={element:function(){var b=a(document.createElement(d.currentItem[0].nodeName)).addClass(g||d.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];if(!g){b.style.visibility="hidden"}return b},update:function(c,b){if(!(g&&!h.forcePlaceholderSize)){b.height()||b.height(d.currentItem.innerHeight()-parseInt(d.currentItem.css("paddingTop")||0,10)-parseInt(d.currentItem.css("paddingBottom")||0,10));b.width()||b.width(d.currentItem.innerWidth()-parseInt(d.currentItem.css("paddingLeft")||0,10)-parseInt(d.currentItem.css("paddingRight")||0,10))}}}}d.placeholder=a(h.placeholder.element.call(d.element,d.currentItem));d.currentItem.after(d.placeholder);h.placeholder.update(d,d.placeholder)},_contactContainers:function(j){for(var d=null,o=null,n=this.containers.length-1;n>=0;n--){if(!a.ui.contains(this.currentItem[0],this.containers[n].element[0])){if(this._intersectsWith(this.containers[n].containerCache)){if(!(d&&a.ui.contains(this.containers[n].element[0],d.element[0]))){d=this.containers[n];o=n}}else{if(this.containers[n].containerCache.over){this.containers[n]._trigger("out",j,this._uiHash(this));this.containers[n].containerCache.over=0}}}}if(d){if(this.containers.length===1){this.containers[o]._trigger("over",j,this._uiHash(this));this.containers[o].containerCache.over=1}else{if(this.currentContainer!=this.containers[o]){d=10000;n=null;for(var m=this.positionAbs[this.containers[o].floating?"left":"top"],l=this.items.length-1;l>=0;l--){if(a.ui.contains(this.containers[o].element[0],this.items[l].item[0])){var k=this.items[l][this.containers[o].floating?"left":"top"];if(Math.abs(k-m)<d){d=Math.abs(k-m);n=this.items[l]}}}if(n||this.options.dropOnEmpty){this.currentContainer=this.containers[o];n?this._rearrange(j,n,null,true):this._rearrange(j,null,this.containers[o].element,true);this._trigger("change",j,this._uiHash());this.containers[o]._trigger("change",j,this._uiHash(this));this.options.placeholder.update(this.currentContainer,this.placeholder);this.containers[o]._trigger("over",j,this._uiHash(this));this.containers[o].containerCache.over=1}}}}},_createHelper:function(d){var c=this.options;d=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[d,this.currentItem])):c.helper=="clone"?this.currentItem.clone():this.currentItem;d.parents("body").length||a(c.appendTo!="parent"?c.appendTo:this.currentItem[0].parentNode)[0].appendChild(d[0]);if(d[0]==this.currentItem[0]){this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}}if(d[0].style.width==""||c.forceHelperSize){d.width(this.currentItem.width())}if(d[0].style.height==""||c.forceHelperSize){d.height(this.currentItem.height())}return d},_adjustOffsetFromHelper:function(b){if(typeof b=="string"){b=b.split(" ")}if(a.isArray(b)){b={left:+b[0],top:+b[1]||0}}if("left" in b){this.offset.click.left=b.left+this.margins.left}if("right" in b){this.offset.click.left=this.helperProportions.width-b.right+this.margins.left}if("top" in b){this.offset.click.top=b.top+this.margins.top}if("bottom" in b){this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top}},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();if(this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])){b.left+=this.scrollParent.scrollLeft();b.top+=this.scrollParent.scrollTop()}if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&a.browser.msie){b={top:0,left:0}}return{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var b=this.currentItem.position();return{top:b.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:b.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else{return{top:0,left:0}}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e=this.options;if(e.containment=="parent"){e.containment=this.helper[0].parentNode}if(e.containment=="document"||e.containment=="window"){this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,a(e.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(a(e.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]}if(!/^(document|window|parent)$/.test(e.containment)){var d=a(e.containment)[0];e=a(e.containment).offset();var f=a(d).css("overflow")!="hidden";this.containment=[e.left+(parseInt(a(d).css("borderLeftWidth"),10)||0)+(parseInt(a(d).css("paddingLeft"),10)||0)-this.margins.left,e.top+(parseInt(a(d).css("borderTopWidth"),10)||0)+(parseInt(a(d).css("paddingTop"),10)||0)-this.margins.top,e.left+(f?Math.max(d.scrollWidth,d.offsetWidth):d.offsetWidth)-(parseInt(a(d).css("borderLeftWidth"),10)||0)-(parseInt(a(d).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,e.top+(f?Math.max(d.scrollHeight,d.offsetHeight):d.offsetHeight)-(parseInt(a(d).css("borderTopWidth"),10)||0)-(parseInt(a(d).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(f,d){if(!d){d=this.position}f=f=="absolute"?1:-1;var h=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,g=/(html|body)/i.test(h[0].tagName);return{top:d.top+this.offset.relative.top*f+this.offset.parent.top*f-(a.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():g?0:h.scrollTop())*f),left:d.left+this.offset.relative.left*f+this.offset.parent.left*f-(a.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():g?0:h.scrollLeft())*f)}},_generatePosition:function(h){var d=this.options,m=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,l=/(html|body)/i.test(m[0].tagName);if(this.cssPosition=="relative"&&!(this.scrollParent[0]!=document&&this.scrollParent[0]!=this.offsetParent[0])){this.offset.relative=this._getRelativeOffset()}var k=h.pageX,j=h.pageY;if(this.originalPosition){if(this.containment){if(h.pageX-this.offset.click.left<this.containment[0]){k=this.containment[0]+this.offset.click.left}if(h.pageY-this.offset.click.top<this.containment[1]){j=this.containment[1]+this.offset.click.top}if(h.pageX-this.offset.click.left>this.containment[2]){k=this.containment[2]+this.offset.click.left}if(h.pageY-this.offset.click.top>this.containment[3]){j=this.containment[3]+this.offset.click.top}}if(d.grid){j=this.originalPageY+Math.round((j-this.originalPageY)/d.grid[1])*d.grid[1];j=this.containment?!(j-this.offset.click.top<this.containment[1]||j-this.offset.click.top>this.containment[3])?j:!(j-this.offset.click.top<this.containment[1])?j-d.grid[1]:j+d.grid[1]:j;k=this.originalPageX+Math.round((k-this.originalPageX)/d.grid[0])*d.grid[0];k=this.containment?!(k-this.offset.click.left<this.containment[0]||k-this.offset.click.left>this.containment[2])?k:!(k-this.offset.click.left<this.containment[0])?k-d.grid[0]:k+d.grid[0]:k}}return{top:j-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(a.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():l?0:m.scrollTop()),left:k-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(a.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():l?0:m.scrollLeft())}},_rearrange:function(h,d,m,l){m?m[0].appendChild(this.placeholder[0]):d.item[0].parentNode.insertBefore(this.placeholder[0],this.direction=="down"?d.item[0]:d.item[0].nextSibling);this.counter=this.counter?++this.counter:1;var k=this,j=this.counter;window.setTimeout(function(){j==k.counter&&k.refreshPositions(!l)},0)},_clear:function(f,d){this.reverting=false;var h=[];!this._noFinalSort&&this.currentItem[0].parentNode&&this.placeholder.before(this.currentItem);this._noFinalSort=null;if(this.helper[0]==this.currentItem[0]){for(var g in this._storedCSS){if(this._storedCSS[g]=="auto"||this._storedCSS[g]=="static"){this._storedCSS[g]=""}}this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else{this.currentItem.show()}this.fromOutside&&!d&&h.push(function(b){this._trigger("receive",b,this._uiHash(this.fromOutside))});if((this.fromOutside||this.domPosition.prev!=this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!=this.currentItem.parent()[0])&&!d){h.push(function(b){this._trigger("update",b,this._uiHash())})}if(!a.ui.contains(this.element[0],this.currentItem[0])){d||h.push(function(b){this._trigger("remove",b,this._uiHash())});for(g=this.containers.length-1;g>=0;g--){if(a.ui.contains(this.containers[g].element[0],this.currentItem[0])&&!d){h.push(function(b){return function(c){b._trigger("receive",c,this._uiHash(this))}}.call(this,this.containers[g]));h.push(function(b){return function(c){b._trigger("update",c,this._uiHash(this))}}.call(this,this.containers[g]))}}}for(g=this.containers.length-1;g>=0;g--){d||h.push(function(b){return function(c){b._trigger("deactivate",c,this._uiHash(this))}}.call(this,this.containers[g]));if(this.containers[g].containerCache.over){h.push(function(b){return function(c){b._trigger("out",c,this._uiHash(this))}}.call(this,this.containers[g]));this.containers[g].containerCache.over=0}}this._storedCursor&&a("body").css("cursor",this._storedCursor);this._storedOpacity&&this.helper.css("opacity",this._storedOpacity);if(this._storedZIndex){this.helper.css("zIndex",this._storedZIndex=="auto"?"":this._storedZIndex)}this.dragging=false;if(this.cancelHelperRemoval){if(!d){this._trigger("beforeStop",f,this._uiHash());for(g=0;g<h.length;g++){h[g].call(this,f)}this._trigger("stop",f,this._uiHash())}return false}d||this._trigger("beforeStop",f,this._uiHash());this.placeholder[0].parentNode.removeChild(this.placeholder[0]);this.helper[0]!=this.currentItem[0]&&this.helper.remove();this.helper=null;if(!d){for(g=0;g<h.length;g++){h[g].call(this,f)}this._trigger("stop",f,this._uiHash())}this.fromOutside=false;return true},_trigger:function(){a.Widget.prototype._trigger.apply(this,arguments)===false&&this.cancel()},_uiHash:function(d){var c=d||this;return{helper:c.helper,placeholder:c.placeholder||a([]),position:c.position,originalPosition:c.originalPosition,offset:c.positionAbs,item:c.currentItem,sender:d?d.element:null}}});a.extend(a.ui.sortable,{version:"1.8.9"})})(jQuery);(function(a){a.widget("ui.accordion",{options:{active:0,animated:"slide",autoHeight:true,clearStyle:false,collapsible:false,event:"click",fillSpace:false,header:"> li > :first-child,> :not(li):even",icons:{header:"ui-icon-triangle-1-e",headerSelected:"ui-icon-triangle-1-s"},navigation:false,navigationFilter:function(){return this.href.toLowerCase()===location.href.toLowerCase()}},_create:function(){var e=this,c=e.options;e.running=0;e.element.addClass("ui-accordion ui-widget ui-helper-reset").children("li").addClass("ui-accordion-li-fix");e.headers=e.element.find(c.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all").bind("mouseenter.accordion",function(){c.disabled||a(this).addClass("ui-state-hover")}).bind("mouseleave.accordion",function(){c.disabled||a(this).removeClass("ui-state-hover")}).bind("focus.accordion",function(){c.disabled||a(this).addClass("ui-state-focus")}).bind("blur.accordion",function(){c.disabled||a(this).removeClass("ui-state-focus")});e.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom");if(c.navigation){var g=e.element.find("a").filter(c.navigationFilter).eq(0);if(g.length){var f=g.closest(".ui-accordion-header");e.active=f.length?f:g.closest(".ui-accordion-content").prev()}}e.active=e._findActive(e.active||c.active).addClass("ui-state-default ui-state-active").toggleClass("ui-corner-all").toggleClass("ui-corner-top");e.active.next().addClass("ui-accordion-content-active");e._createIcons();e.resize();e.element.attr("role","tablist");e.headers.attr("role","tab").bind("keydown.accordion",function(b){return e._keydown(b)}).next().attr("role","tabpanel");e.headers.not(e.active||"").attr({"aria-expanded":"false",tabIndex:-1}).next().hide();e.active.length?e.active.attr({"aria-expanded":"true",tabIndex:0}):e.headers.eq(0).attr("tabIndex",0);a.browser.safari||e.headers.find("a").attr("tabIndex",-1);c.event&&e.headers.bind(c.event.split(" ").join(".accordion ")+".accordion",function(b){e._clickHandler.call(e,b,this);b.preventDefault()})},_createIcons:function(){var b=this.options;if(b.icons){a("<span></span>").addClass("ui-icon "+b.icons.header).prependTo(this.headers);this.active.children(".ui-icon").toggleClass(b.icons.header).toggleClass(b.icons.headerSelected);this.element.addClass("ui-accordion-icons")}},_destroyIcons:function(){this.headers.children(".ui-icon").remove();this.element.removeClass("ui-accordion-icons")},destroy:function(){var d=this.options;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role");this.headers.unbind(".accordion").removeClass("ui-accordion-header ui-accordion-disabled ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("tabIndex");this.headers.find("a").removeAttr("tabIndex");this._destroyIcons();var c=this.headers.next().css("display","").removeAttr("role").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-accordion-disabled ui-state-disabled");if(d.autoHeight||d.fillHeight){c.css("height","")}return a.Widget.prototype.destroy.call(this)},_setOption:function(d,c){a.Widget.prototype._setOption.apply(this,arguments);d=="active"&&this.activate(c);if(d=="icons"){this._destroyIcons();c&&this._createIcons()}if(d=="disabled"){this.headers.add(this.headers.next())[c?"addClass":"removeClass"]("ui-accordion-disabled ui-state-disabled")}},_keydown:function(e){if(!(this.options.disabled||e.altKey||e.ctrlKey)){var c=a.ui.keyCode,k=this.headers.length,g=this.headers.index(e.target),j=false;switch(e.keyCode){case c.RIGHT:case c.DOWN:j=this.headers[(g+1)%k];break;case c.LEFT:case c.UP:j=this.headers[(g-1+k)%k];break;case c.SPACE:case c.ENTER:this._clickHandler({target:e.target},e.target);e.preventDefault()}if(j){a(e.target).attr("tabIndex",-1);a(j).attr("tabIndex",0);j.focus();return false}return true}},resize:function(){var e=this.options,c;if(e.fillSpace){if(a.browser.msie){var f=this.element.parent().css("overflow");this.element.parent().css("overflow","hidden")}c=this.element.parent().height();a.browser.msie&&this.element.parent().css("overflow",f);this.headers.each(function(){c-=a(this).outerHeight(true)});this.headers.next().each(function(){a(this).height(Math.max(0,c-a(this).innerHeight()+a(this).height()))}).css("overflow","auto")}else{if(e.autoHeight){c=0;this.headers.next().each(function(){c=Math.max(c,a(this).height("").height())}).height(c)}}return this},activate:function(b){this.options.active=b;b=this._findActive(b)[0];this._clickHandler({target:b},b);return this},_findActive:function(b){return b?typeof b==="number"?this.headers.filter(":eq("+b+")"):this.headers.not(this.headers.not(b)):b===false?a([]):this.headers.filter(":eq(0)")},_clickHandler:function(k,c){var q=this.options;if(!q.disabled){if(k.target){k=a(k.currentTarget||c);c=k[0]===this.active[0];q.active=q.collapsible&&c?false:this.headers.index(k);if(!(this.running||!q.collapsible&&c)){var m=this.active;l=k.next();n=this.active.next();p={options:q,newHeader:c&&q.collapsible?a([]):k,oldHeader:this.active,newContent:c&&q.collapsible?a([]):l,oldContent:n};var o=this.headers.index(this.active[0])>this.headers.index(k[0]);this.active=c?a([]):k;this._toggle(l,n,p,c,o);m.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(q.icons.headerSelected).addClass(q.icons.header);if(!c){k.removeClass("ui-state-default ui-corner-all").addClass("ui-state-active ui-corner-top").children(".ui-icon").removeClass(q.icons.header).addClass(q.icons.headerSelected);k.next().addClass("ui-accordion-content-active")}}}else{if(q.collapsible){this.active.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(q.icons.headerSelected).addClass(q.icons.header);this.active.next().addClass("ui-accordion-content-active");var n=this.active.next(),p={options:q,newHeader:a([]),oldHeader:q.active,newContent:a([]),oldContent:n},l=this.active=a([]);this._toggle(l,n,p)}}}},_toggle:function(u,s,r,n,p){var o=this,q=o.options;o.toShow=u;o.toHide=s;o.data=r;var l=function(){if(o){return o._completed.apply(o,arguments)}};o._trigger("changestart",null,o.data);o.running=s.size()===0?u.size():s.size();if(q.animated){r={};r=q.collapsible&&n?{toShow:a([]),toHide:s,complete:l,down:p,autoHeight:q.autoHeight||q.fillSpace}:{toShow:u,toHide:s,complete:l,down:p,autoHeight:q.autoHeight||q.fillSpace};if(!q.proxied){q.proxied=q.animated}if(!q.proxiedDuration){q.proxiedDuration=q.duration}q.animated=a.isFunction(q.proxied)?q.proxied(r):q.proxied;q.duration=a.isFunction(q.proxiedDuration)?q.proxiedDuration(r):q.proxiedDuration;n=a.ui.accordion.animations;var m=q.duration,c=q.animated;if(c&&!n[c]&&!a.easing[c]){c="slide"}n[c]||(n[c]=function(b){this.slide(b,{easing:c,duration:m||700})});n[c](r)}else{if(q.collapsible&&n){u.toggle()}else{s.hide();u.show()}l(true)}s.prev().attr({"aria-expanded":"false",tabIndex:-1}).blur();u.prev().attr({"aria-expanded":"true",tabIndex:0}).focus()},_completed:function(b){this.running=b?0:--this.running;if(!this.running){this.options.clearStyle&&this.toShow.add(this.toHide).css({height:"",overflow:""});this.toHide.removeClass("ui-accordion-content-active");if(this.toHide.length){this.toHide.parent()[0].className=this.toHide.parent()[0].className}this._trigger("change",null,this.data)}}});a.extend(a.ui.accordion,{version:"1.8.9",animations:{slide:function(j,c){j=a.extend({easing:"swing",duration:300},j,c);if(j.toHide.size()){if(j.toShow.size()){var o=j.toShow.css("overflow"),k=0,m={},l={},n;c=j.toShow;n=c[0].style.width;c.width(parseInt(c.parent().width(),10)-parseInt(c.css("paddingLeft"),10)-parseInt(c.css("paddingRight"),10)-(parseInt(c.css("borderLeftWidth"),10)||0)-(parseInt(c.css("borderRightWidth"),10)||0));a.each(["height","paddingTop","paddingBottom"],function(b,d){l[d]="hide";b=(""+a.css(j.toShow[0],d)).match(/^([\d+-.]+)(.*)$/);m[d]={value:b[1],unit:b[2]||"px"}});j.toShow.css({height:0,overflow:"hidden"}).show();j.toHide.filter(":hidden").each(j.complete).end().filter(":visible").animate(l,{step:function(b,d){if(d.prop=="height"){k=d.end-d.start===0?0:(d.now-d.start)/(d.end-d.start)}j.toShow[0].style[d.prop]=k*m[d.prop].value+m[d.prop].unit},duration:j.duration,easing:j.easing,complete:function(){j.autoHeight||j.toShow.css("height","");j.toShow.css({width:n,overflow:o});j.complete()}})}else{j.toHide.animate({height:"hide",paddingTop:"hide",paddingBottom:"hide"},j)}}else{j.toShow.animate({height:"show",paddingTop:"show",paddingBottom:"show"},j)}},bounceslide:function(b){this.slide(b,{easing:b.down?"easeOutBounce":"swing",duration:b.down?1000:200})}}})})(jQuery);(function(a){a.widget("ui.autocomplete",{options:{appendTo:"body",delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null},pending:0,_create:function(){var d=this,c=this.element[0].ownerDocument,e;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off").attr({role:"textbox","aria-autocomplete":"list","aria-haspopup":"true"}).bind("keydown.autocomplete",function(f){if(!(d.options.disabled||d.element.attr("readonly"))){e=false;var b=a.ui.keyCode;switch(f.keyCode){case b.PAGE_UP:d._move("previousPage",f);break;case b.PAGE_DOWN:d._move("nextPage",f);break;case b.UP:d._move("previous",f);f.preventDefault();break;case b.DOWN:d._move("next",f);f.preventDefault();break;case b.ENTER:case b.NUMPAD_ENTER:if(d.menu.active){e=true;f.preventDefault()}case b.TAB:if(!d.menu.active){return}d.menu.select(f);break;case b.ESCAPE:d.element.val(d.term);d.close(f);break;default:clearTimeout(d.searching);d.searching=setTimeout(function(){if(d.term!=d.element.val()){d.selectedItem=null;d.search(null,f)}},d.options.delay);break}}}).bind("keypress.autocomplete",function(b){if(e){e=false;b.preventDefault()}}).bind("focus.autocomplete",function(){if(!d.options.disabled){d.selectedItem=null;d.previous=d.element.val()}}).bind("blur.autocomplete",function(b){if(!d.options.disabled){clearTimeout(d.searching);d.closing=setTimeout(function(){d.close(b);d._change(b)},150)}});this._initSource();this.response=function(){return d._response.apply(d,arguments)};this.menu=a("<ul></ul>").addClass("ui-autocomplete").appendTo(a(this.options.appendTo||"body",c)[0]).mousedown(function(f){var b=d.menu.element[0];a(f.target).closest(".ui-menu-item").length||setTimeout(function(){a(document).one("mousedown",function(h){h.target!==d.element[0]&&h.target!==b&&!a.ui.contains(b,h.target)&&d.close()})},1);setTimeout(function(){clearTimeout(d.closing)},13)}).menu({focus:function(f,b){b=b.item.data("item.autocomplete");false!==d._trigger("focus",f,{item:b})&&/^key/.test(f.originalEvent.type)&&d.element.val(b.value)},selected:function(k,j){var f=j.item.data("item.autocomplete"),b=d.previous;if(d.element[0]!==c.activeElement){d.element.focus();d.previous=b;setTimeout(function(){d.previous=b;d.selectedItem=f},1)}false!==d._trigger("select",k,{item:f})&&d.element.val(f.value);d.term=d.element.val();d.close(k);d.selectedItem=f},blur:function(){d.menu.element.is(":visible")&&d.element.val()!==d.term&&d.element.val(d.term)}}).zIndex(this.element.zIndex()+1).css({top:0,left:0}).hide().data("menu");a.fn.bgiframe&&this.menu.element.bgiframe()},destroy:function(){this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete").removeAttr("role").removeAttr("aria-autocomplete").removeAttr("aria-haspopup");this.menu.element.remove();a.Widget.prototype.destroy.call(this)},_setOption:function(d,c){a.Widget.prototype._setOption.apply(this,arguments);d==="source"&&this._initSource();if(d==="appendTo"){this.menu.element.appendTo(a(c||"body",this.element[0].ownerDocument)[0])}d==="disabled"&&c&&this.xhr&&this.xhr.abort()},_initSource:function(){var d=this,c,e;if(a.isArray(this.options.source)){c=this.options.source;this.source=function(f,b){b(a.ui.autocomplete.filter(c,f.term))}}else{if(typeof this.options.source==="string"){e=this.options.source;this.source=function(f,b){d.xhr&&d.xhr.abort();d.xhr=a.ajax({url:e,data:f,dataType:"json",success:function(l,k,j){j===d.xhr&&b(l);d.xhr=null},error:function(h){h===d.xhr&&b([]);d.xhr=null}})}}else{this.source=this.options.source}}},search:function(d,c){d=d!=null?d:this.element.val();this.term=this.element.val();if(d.length<this.options.minLength){return this.close(c)}clearTimeout(this.closing);if(this._trigger("search",c)!==false){return this._search(d)}},_search:function(b){this.pending++;this.element.addClass("ui-autocomplete-loading");this.source({term:b},this.response)},_response:function(b){if(!this.options.disabled&&b&&b.length){b=this._normalize(b);this._suggest(b);this._trigger("open")}else{this.close()}this.pending--;this.pending||this.element.removeClass("ui-autocomplete-loading")},close:function(b){clearTimeout(this.closing);if(this.menu.element.is(":visible")){this.menu.element.hide();this.menu.deactivate();this._trigger("close",b)}},_change:function(b){this.previous!==this.element.val()&&this._trigger("change",b,{item:this.selectedItem})},_normalize:function(b){if(b.length&&b[0].label&&b[0].value){return b}return a.map(b,function(c){if(typeof c==="string"){return{label:c,value:c}}return a.extend({label:c.label||c.value,value:c.value||c.label},c)})},_suggest:function(d){var c=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(c,d);this.menu.deactivate();this.menu.refresh();c.show();this._resizeMenu();c.position(a.extend({of:this.element},this.options.position))},_resizeMenu:function(){var b=this.menu.element;b.outerWidth(Math.max(b.width("").outerWidth(),this.element.outerWidth()))},_renderMenu:function(d,c){var e=this;a.each(c,function(f,b){e._renderItem(d,b)})},_renderItem:function(d,c){return a("<li></li>").data("item.autocomplete",c).append(a("<a></a>").text(c.label)).appendTo(d)},_move:function(d,c){if(this.menu.element.is(":visible")){if(this.menu.first()&&/^previous/.test(d)||this.menu.last()&&/^next/.test(d)){this.element.val(this.term);this.menu.deactivate()}else{this.menu[d](c)}}else{this.search(null,c)}},widget:function(){return this.menu.element}});a.extend(a.ui.autocomplete,{escapeRegex:function(b){return b.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},filter:function(d,c){var e=new RegExp(a.ui.autocomplete.escapeRegex(c),"i");return a.grep(d,function(b){return e.test(b.label||b.value||b)})}})})(jQuery);(function(a){a.widget("ui.menu",{_create:function(){var b=this;this.element.addClass("ui-menu ui-widget ui-widget-content ui-corner-all").attr({role:"listbox","aria-activedescendant":"ui-active-menuitem"}).click(function(c){if(a(c.target).closest(".ui-menu-item a").length){c.preventDefault();b.select(c)}});this.refresh()},refresh:function(){var b=this;this.element.children("li:not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","menuitem").children("a").addClass("ui-corner-all").attr("tabindex",-1).mouseenter(function(c){b.activate(c,a(this).parent())}).mouseleave(function(){b.deactivate()})},activate:function(g,d){this.deactivate();if(this.hasScroll()){var h=d.offset().top-this.element.offset().top,k=this.element.attr("scrollTop"),j=this.element.height();if(h<0){this.element.attr("scrollTop",k+h)}else{h>=j&&this.element.attr("scrollTop",k+h-j+d.height())}}this.active=d.eq(0).children("a").addClass("ui-state-hover").attr("id","ui-active-menuitem").end();this._trigger("focus",g,{item:d})},deactivate:function(){if(this.active){this.active.children("a").removeClass("ui-state-hover").removeAttr("id");this._trigger("blur");this.active=null}},next:function(b){this.move("next",".ui-menu-item:first",b)},previous:function(b){this.move("prev",".ui-menu-item:last",b)},first:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},last:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},move:function(d,c,e){if(this.active){d=this.active[d+"All"](".ui-menu-item").eq(0);d.length?this.activate(e,d):this.activate(e,this.element.children(c))}else{this.activate(e,this.element.children(c))}},nextPage:function(e){if(this.hasScroll()){if(!this.active||this.last()){this.activate(e,this.element.children(".ui-menu-item:first"))}else{var d=this.active.offset().top,g=this.element.height(),h=this.element.children(".ui-menu-item").filter(function(){var b=a(this).offset().top-d-g+a(this).height();return b<10&&b>-10});h.length||(h=this.element.children(".ui-menu-item:last"));this.activate(e,h)}}else{this.activate(e,this.element.children(".ui-menu-item").filter(!this.active||this.last()?":first":":last"))}},previousPage:function(d){if(this.hasScroll()){if(!this.active||this.first()){this.activate(d,this.element.children(".ui-menu-item:last"))}else{var c=this.active.offset().top,e=this.element.height();result=this.element.children(".ui-menu-item").filter(function(){var b=a(this).offset().top-c+e-a(this).height();return b<10&&b>-10});result.length||(result=this.element.children(".ui-menu-item:first"));this.activate(d,result)}}else{this.activate(d,this.element.children(".ui-menu-item").filter(!this.active||this.first()?":last":":first"))}},hasScroll:function(){return this.element.height()<this.element.attr("scrollHeight")},select:function(b){this._trigger("selected",b,{item:this.active})}})})(jQuery);(function(b){var e,c=function(a){b(":ui-button",a.target.form).each(function(){var f=b(this).data("button");setTimeout(function(){f.refresh()},1)})},d=function(a){var h=a.name,g=a.form,f=b([]);if(h){f=g?b(g).find("[name='"+h+"']"):b("[name='"+h+"']",a.ownerDocument).filter(function(){return !this.form})}return f};b.widget("ui.button",{options:{disabled:null,text:true,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset.button").bind("reset.button",c);if(typeof this.options.disabled!=="boolean"){this.options.disabled=this.element.attr("disabled")}this._determineButtonType();this.hasTitle=!!this.buttonElement.attr("title");var a=this,h=this.options,g=this.type==="checkbox"||this.type==="radio",f="ui-state-hover"+(!g?" ui-state-active":"");if(h.label===null){h.label=this.buttonElement.html()}if(this.element.is(":disabled")){h.disabled=true}this.buttonElement.addClass("ui-button ui-widget ui-state-default ui-corner-all").attr("role","button").bind("mouseenter.button",function(){if(!h.disabled){b(this).addClass("ui-state-hover");this===e&&b(this).addClass("ui-state-active")}}).bind("mouseleave.button",function(){h.disabled||b(this).removeClass(f)}).bind("focus.button",function(){b(this).addClass("ui-state-focus")}).bind("blur.button",function(){b(this).removeClass("ui-state-focus")});g&&this.element.bind("change.button",function(){a.refresh()});if(this.type==="checkbox"){this.buttonElement.bind("click.button",function(){if(h.disabled){return false}b(this).toggleClass("ui-state-active");a.buttonElement.attr("aria-pressed",a.element[0].checked)})}else{if(this.type==="radio"){this.buttonElement.bind("click.button",function(){if(h.disabled){return false}b(this).addClass("ui-state-active");a.buttonElement.attr("aria-pressed",true);var j=a.element[0];d(j).not(j).map(function(){return b(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed",false)})}else{this.buttonElement.bind("mousedown.button",function(){if(h.disabled){return false}b(this).addClass("ui-state-active");e=this;b(document).one("mouseup",function(){e=null})}).bind("mouseup.button",function(){if(h.disabled){return false}b(this).removeClass("ui-state-active")}).bind("keydown.button",function(j){if(h.disabled){return false}if(j.keyCode==b.ui.keyCode.SPACE||j.keyCode==b.ui.keyCode.ENTER){b(this).addClass("ui-state-active")}}).bind("keyup.button",function(){b(this).removeClass("ui-state-active")});this.buttonElement.is("a")&&this.buttonElement.keyup(function(j){j.keyCode===b.ui.keyCode.SPACE&&b(this).click()})}}this._setOption("disabled",h.disabled)},_determineButtonType:function(){this.type=this.element.is(":checkbox")?"checkbox":this.element.is(":radio")?"radio":this.element.is("input")?"input":"button";if(this.type==="checkbox"||this.type==="radio"){this.buttonElement=this.element.parents().last().find("label[for="+this.element.attr("id")+"]");this.element.addClass("ui-helper-hidden-accessible");var a=this.element.is(":checked");a&&this.buttonElement.addClass("ui-state-active");this.buttonElement.attr("aria-pressed",a)}else{this.buttonElement=this.element}},widget:function(){return this.buttonElement},destroy:function(){this.element.removeClass("ui-helper-hidden-accessible");this.buttonElement.removeClass("ui-button ui-widget ui-state-default ui-corner-all ui-state-hover ui-state-active  ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only").removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html());this.hasTitle||this.buttonElement.removeAttr("title");b.Widget.prototype.destroy.call(this)},_setOption:function(a,f){b.Widget.prototype._setOption.apply(this,arguments);if(a==="disabled"){f?this.element.attr("disabled",true):this.element.removeAttr("disabled")}this._resetButton()},refresh:function(){var a=this.element.is(":disabled");a!==this.options.disabled&&this._setOption("disabled",a);if(this.type==="radio"){d(this.element[0]).each(function(){b(this).is(":checked")?b(this).button("widget").addClass("ui-state-active").attr("aria-pressed",true):b(this).button("widget").removeClass("ui-state-active").attr("aria-pressed",false)})}else{if(this.type==="checkbox"){this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed",true):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed",false)}}},_resetButton:function(){if(this.type==="input"){this.options.label&&this.element.val(this.options.label)}else{var a=this.buttonElement.removeClass("ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only"),h=b("<span></span>").addClass("ui-button-text").html(this.options.label).appendTo(a.empty()).text(),g=this.options.icons,f=g.primary&&g.secondary;if(g.primary||g.secondary){a.addClass("ui-button-text-icon"+(f?"s":g.primary?"-primary":"-secondary"));g.primary&&a.prepend("<span class='ui-button-icon-primary ui-icon "+g.primary+"'></span>");g.secondary&&a.append("<span class='ui-button-icon-secondary ui-icon "+g.secondary+"'></span>");if(!this.options.text){a.addClass(f?"ui-button-icons-only":"ui-button-icon-only").removeClass("ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary");this.hasTitle||a.attr("title",h)}}else{a.addClass("ui-button-text-only")}}}});b.widget("ui.buttonset",{options:{items:":button, :submit, :reset, :checkbox, :radio, a, :data(button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(a,f){a==="disabled"&&this.buttons.button("option",a,f);b.Widget.prototype._setOption.apply(this,arguments)},refresh:function(){this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return b(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass("ui-corner-left").end().filter(":last").addClass("ui-corner-right").end().end()},destroy:function(){this.element.removeClass("ui-buttonset");this.buttons.map(function(){return b(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy");b.Widget.prototype.destroy.call(this)}})})(jQuery);(function(e,d){var b={buttons:true,height:true,maxHeight:true,maxWidth:true,minHeight:true,minWidth:true,width:true},a={maxHeight:true,maxWidth:true,minHeight:true,minWidth:true};e.widget("ui.dialog",{options:{autoOpen:true,buttons:{},closeOnEscape:true,closeText:"close",dialogClass:"",draggable:true,hide:null,height:"auto",maxHeight:false,maxWidth:false,minHeight:150,minWidth:150,modal:false,position:{my:"center",at:"center",collision:"fit",using:function(f){var c=e(this).css(f).offset().top;c<0&&e(this).css("top",f.top-c)}},resizable:true,show:null,stack:true,title:"",width:300,zIndex:1000},_create:function(){this.originalTitle=this.element.attr("title");if(typeof this.originalTitle!=="string"){this.originalTitle=""}this.options.title=this.options.title||this.originalTitle;var j=this,c=j.options,o=c.title||"&#160;",n=e.ui.dialog.getTitleId(j.element),l=(j.uiDialog=e("<div></div>")).appendTo(document.body).hide().addClass("ui-dialog ui-widget ui-widget-content ui-corner-all "+c.dialogClass).css({zIndex:c.zIndex}).attr("tabIndex",-1).css("outline",0).keydown(function(f){if(c.closeOnEscape&&f.keyCode&&f.keyCode===e.ui.keyCode.ESCAPE){j.close(f);f.preventDefault()}}).attr({role:"dialog","aria-labelledby":n}).mousedown(function(f){j.moveToTop(false,f)});j.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(l);var m=(j.uiDialogTitlebar=e("<div></div>")).addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(l),k=e('<a href="#"></a>').addClass("ui-dialog-titlebar-close ui-corner-all").attr("role","button").hover(function(){k.addClass("ui-state-hover")},function(){k.removeClass("ui-state-hover")}).focus(function(){k.addClass("ui-state-focus")}).blur(function(){k.removeClass("ui-state-focus")}).click(function(f){j.close(f);return false}).appendTo(m);(j.uiDialogTitlebarCloseText=e("<span></span>")).addClass("ui-icon ui-icon-closethick").text(c.closeText).appendTo(k);e("<span></span>").addClass("ui-dialog-title").attr("id",n).html(o).prependTo(m);if(e.isFunction(c.beforeclose)&&!e.isFunction(c.beforeClose)){c.beforeClose=c.beforeclose}m.find("*").add(m).disableSelection();c.draggable&&e.fn.draggable&&j._makeDraggable();c.resizable&&e.fn.resizable&&j._makeResizable();j._createButtons(c.buttons);j._isOpen=false;e.fn.bgiframe&&l.bgiframe()},_init:function(){this.options.autoOpen&&this.open()},destroy:function(){var c=this;c.overlay&&c.overlay.destroy();c.uiDialog.hide();c.element.unbind(".dialog").removeData("dialog").removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body");c.uiDialog.remove();c.originalTitle&&c.element.attr("title",c.originalTitle);return c},widget:function(){return this.uiDialog},close:function(f){var c=this,h,g;if(false!==c._trigger("beforeClose",f)){c.overlay&&c.overlay.destroy();c.uiDialog.unbind("keypress.ui-dialog");c._isOpen=false;if(c.options.hide){c.uiDialog.hide(c.options.hide,function(){c._trigger("close",f)})}else{c.uiDialog.hide();c._trigger("close",f)}e.ui.dialog.overlay.resize();if(c.options.modal){h=0;e(".ui-dialog").each(function(){if(this!==c.uiDialog[0]){g=e(this).css("z-index");isNaN(g)||(h=Math.max(h,g))}});e.ui.dialog.maxZ=h}return c}},isOpen:function(){return this._isOpen},moveToTop:function(f,c){var h=this,g=h.options;if(g.modal&&!f||!g.stack&&!g.modal){return h._trigger("focus",c)}if(g.zIndex>e.ui.dialog.maxZ){e.ui.dialog.maxZ=g.zIndex}if(h.overlay){e.ui.dialog.maxZ+=1;h.overlay.$el.css("z-index",e.ui.dialog.overlay.maxZ=e.ui.dialog.maxZ)}f={scrollTop:h.element.attr("scrollTop"),scrollLeft:h.element.attr("scrollLeft")};e.ui.dialog.maxZ+=1;h.uiDialog.css("z-index",e.ui.dialog.maxZ);h.element.attr(f);h._trigger("focus",c);return h},open:function(){if(!this._isOpen){var f=this,c=f.options,g=f.uiDialog;f.overlay=c.modal?new e.ui.dialog.overlay(f):null;f._size();f._position(c.position);g.show(c.show);f.moveToTop(true);c.modal&&g.bind("keypress.ui-dialog",function(k){if(k.keyCode===e.ui.keyCode.TAB){var h=e(":tabbable",this),j=h.filter(":first");h=h.filter(":last");if(k.target===h[0]&&!k.shiftKey){j.focus(1);return false}else{if(k.target===j[0]&&k.shiftKey){h.focus(1);return false}}}});e(f.element.find(":tabbable").get().concat(g.find(".ui-dialog-buttonpane :tabbable").get().concat(g.get()))).eq(0).focus();f._isOpen=true;f._trigger("open");return f}},_createButtons:function(f){var c=this,k=false,j=e("<div></div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),h=e("<div></div>").addClass("ui-dialog-buttonset").appendTo(j);c.uiDialog.find(".ui-dialog-buttonpane").remove();typeof f==="object"&&f!==null&&e.each(f,function(){return !(k=true)});if(k){e.each(f,function(l,g){g=e.isFunction(g)?{click:g,text:l}:g;l=e('<button type="button"></button>').attr(g,true).unbind("click").click(function(){g.click.apply(c.element[0],arguments)}).appendTo(h);e.fn.button&&l.button()});j.appendTo(c.uiDialog)}},_makeDraggable:function(){function f(g){return{position:g.position,offset:g.offset}}var c=this,k=c.options,j=e(document),h;c.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(l,g){h=k.height==="auto"?"auto":e(this).height();e(this).height(e(this).height()).addClass("ui-dialog-dragging");c._trigger("dragStart",l,f(g))},drag:function(l,g){c._trigger("drag",l,f(g))},stop:function(l,g){k.position=[g.position.left-j.scrollLeft(),g.position.top-j.scrollTop()];e(this).removeClass("ui-dialog-dragging").height(h);c._trigger("dragStop",l,f(g));e.ui.dialog.overlay.resize()}})},_makeResizable:function(f){function c(g){return{originalPosition:g.originalPosition,originalSize:g.originalSize,position:g.position,size:g.size}}f=f===d?this.options.resizable:f;var k=this,j=k.options,h=k.uiDialog.css("position");f=typeof f==="string"?f:"n,e,s,w,se,sw,ne,nw";k.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:k.element,maxWidth:j.maxWidth,maxHeight:j.maxHeight,minWidth:j.minWidth,minHeight:k._minHeight(),handles:f,start:function(l,g){e(this).addClass("ui-dialog-resizing");k._trigger("resizeStart",l,c(g))},resize:function(l,g){k._trigger("resize",l,c(g))},stop:function(l,g){e(this).removeClass("ui-dialog-resizing");j.height=e(this).height();j.width=e(this).width();k._trigger("resizeStop",l,c(g));e.ui.dialog.overlay.resize()}}).css("position",h).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var c=this.options;return c.height==="auto"?c.minHeight:Math.min(c.minHeight,c.height)},_position:function(f){var c=[],h=[0,0],g;if(f){if(typeof f==="string"||typeof f==="object"&&"0" in f){c=f.split?f.split(" "):[f[0],f[1]];if(c.length===1){c[1]=c[0]}e.each(["left","top"],function(j,k){if(+c[j]===c[j]){h[j]=c[j];c[j]=k}});f={my:c.join(" "),at:c.join(" "),offset:h.join(" ")}}f=e.extend({},e.ui.dialog.prototype.options.position,f)}else{f=e.ui.dialog.prototype.options.position}(g=this.uiDialog.is(":visible"))||this.uiDialog.show();this.uiDialog.css({top:0,left:0}).position(e.extend({of:window},f));g||this.uiDialog.hide()},_setOptions:function(f){var c=this,h={},g=false;e.each(f,function(j,k){c._setOption(j,k);if(j in b){g=true}if(j in a){h[j]=k}});g&&this._size();this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option",h)},_setOption:function(f,c){var k=this,j=k.uiDialog;switch(f){case"beforeclose":f="beforeClose";break;case"buttons":k._createButtons(c);break;case"closeText":k.uiDialogTitlebarCloseText.text(""+c);break;case"dialogClass":j.removeClass(k.options.dialogClass).addClass("ui-dialog ui-widget ui-widget-content ui-corner-all "+c);break;case"disabled":c?j.addClass("ui-dialog-disabled"):j.removeClass("ui-dialog-disabled");break;case"draggable":var h=j.is(":data(draggable)");h&&!c&&j.draggable("destroy");!h&&c&&k._makeDraggable();break;case"position":k._position(c);break;case"resizable":(h=j.is(":data(resizable)"))&&!c&&j.resizable("destroy");h&&typeof c==="string"&&j.resizable("option","handles",c);!h&&c!==false&&k._makeResizable(c);break;case"title":e(".ui-dialog-title",k.uiDialogTitlebar).html(""+(c||"&#160;"));break}e.Widget.prototype._setOption.apply(k,arguments)},_size:function(){var f=this.options,c,h,g=this.uiDialog.is(":visible");this.element.show().css({width:"auto",minHeight:0,height:0});if(f.minWidth>f.width){f.width=f.minWidth}c=this.uiDialog.css({height:"auto",width:f.width}).height();h=Math.max(0,f.minHeight-c);if(f.height==="auto"){if(e.support.minHeight){this.element.css({minHeight:h,height:"auto"})}else{this.uiDialog.show();f=this.element.css("height","auto").height();g||this.uiDialog.hide();this.element.height(Math.max(f,h))}}else{this.element.height(Math.max(f.height-c,0))}this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())}});e.extend(e.ui.dialog,{version:"1.8.9",uuid:0,maxZ:0,getTitleId:function(c){c=c.attr("id");if(!c){this.uuid+=1;c=this.uuid}return"ui-dialog-title-"+c},overlay:function(c){this.$el=e.ui.dialog.overlay.create(c)}});e.extend(e.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:e.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(c){return c+".dialog-overlay"}).join(" "),create:function(f){if(this.instances.length===0){setTimeout(function(){e.ui.dialog.overlay.instances.length&&e(document).bind(e.ui.dialog.overlay.events,function(g){if(e(g.target).zIndex()<e.ui.dialog.overlay.maxZ){return false}})},1);e(document).bind("keydown.dialog-overlay",function(g){if(f.options.closeOnEscape&&g.keyCode&&g.keyCode===e.ui.keyCode.ESCAPE){f.close(g);g.preventDefault()}});e(window).bind("resize.dialog-overlay",e.ui.dialog.overlay.resize)}var c=(this.oldInstances.pop()||e("<div></div>").addClass("ui-widget-overlay")).appendTo(document.body).css({width:this.width(),height:this.height()});e.fn.bgiframe&&c.bgiframe();this.instances.push(c);return c},destroy:function(f){var c=e.inArray(f,this.instances);c!=-1&&this.oldInstances.push(this.instances.splice(c,1)[0]);this.instances.length===0&&e([document,window]).unbind(".dialog-overlay");f.remove();var g=0;e.each(this.instances,function(){g=Math.max(g,this.css("z-index"))});this.maxZ=g},height:function(){var f,c;if(e.browser.msie&&e.browser.version<7){f=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight);c=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight);return f<c?e(window).height()+"px":f+"px"}else{return e(document).height()+"px"}},width:function(){var f,c;if(e.browser.msie&&e.browser.version<7){f=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth);c=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth);return f<c?e(window).width()+"px":f+"px"}else{return e(document).width()+"px"}},resize:function(){var c=e([]);e.each(e.ui.dialog.overlay.instances,function(){c=c.add(this)});c.css({width:0,height:0}).css({width:e.ui.dialog.overlay.width(),height:e.ui.dialog.overlay.height()})}});e.extend(e.ui.dialog.overlay.prototype,{destroy:function(){e.ui.dialog.overlay.destroy(this.$el)}})})(jQuery);(function(a){a.widget("ui.slider",a.ui.mouse,{widgetEventPrefix:"slide",options:{animate:false,distance:0,max:100,min:0,orientation:"horizontal",range:false,step:1,value:0,values:null},_create:function(){var c=this,d=this.options;this._mouseSliding=this._keySliding=false;this._animateOff=true;this._handleIndex=null;this._detectOrientation();this._mouseInit();this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all");d.disabled&&this.element.addClass("ui-slider-disabled ui-disabled");this.range=a([]);if(d.range){if(d.range===true){this.range=a("<div></div>");if(!d.values){d.values=[this._valueMin(),this._valueMin()]}if(d.values.length&&d.values.length!==2){d.values=[d.values[0],d.values[0]]}}else{this.range=a("<div></div>")}this.range.appendTo(this.element).addClass("ui-slider-range");if(d.range==="min"||d.range==="max"){this.range.addClass("ui-slider-range-"+d.range)}this.range.addClass("ui-widget-header")}a(".ui-slider-handle",this.element).length===0&&a("<a href='#'></a>").appendTo(this.element).addClass("ui-slider-handle");if(d.values&&d.values.length){for(;a(".ui-slider-handle",this.element).length<d.values.length;){a("<a href='#'></a>").appendTo(this.element).addClass("ui-slider-handle")}}this.handles=a(".ui-slider-handle",this.element).addClass("ui-state-default ui-corner-all");this.handle=this.handles.eq(0);this.handles.add(this.range).filter("a").click(function(b){b.preventDefault()}).hover(function(){d.disabled||a(this).addClass("ui-state-hover")},function(){a(this).removeClass("ui-state-hover")}).focus(function(){if(d.disabled){a(this).blur()}else{a(".ui-slider .ui-state-focus").removeClass("ui-state-focus");a(this).addClass("ui-state-focus")}}).blur(function(){a(this).removeClass("ui-state-focus")});this.handles.each(function(b){a(this).data("index.ui-slider-handle",b)});this.handles.keydown(function(n){var m=true,l=a(this).data("index.ui-slider-handle"),j,k,b;if(!c.options.disabled){switch(n.keyCode){case a.ui.keyCode.HOME:case a.ui.keyCode.END:case a.ui.keyCode.PAGE_UP:case a.ui.keyCode.PAGE_DOWN:case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:m=false;if(!c._keySliding){c._keySliding=true;a(this).addClass("ui-state-active");j=c._start(n,l);if(j===false){return}}break}b=c.options.step;j=c.options.values&&c.options.values.length?(k=c.values(l)):(k=c.value());switch(n.keyCode){case a.ui.keyCode.HOME:k=c._valueMin();break;case a.ui.keyCode.END:k=c._valueMax();break;case a.ui.keyCode.PAGE_UP:k=c._trimAlignValue(j+(c._valueMax()-c._valueMin())/5);break;case a.ui.keyCode.PAGE_DOWN:k=c._trimAlignValue(j-(c._valueMax()-c._valueMin())/5);break;case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:if(j===c._valueMax()){return}k=c._trimAlignValue(j+b);break;case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(j===c._valueMin()){return}k=c._trimAlignValue(j-b);break}c._slide(n,l,k);return m}}).keyup(function(f){var b=a(this).data("index.ui-slider-handle");if(c._keySliding){c._keySliding=false;c._stop(f,b);c._change(f,b);a(this).removeClass("ui-state-active")}});this._refreshValue();this._animateOff=false},destroy:function(){this.handles.remove();this.range.remove();this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all").removeData("slider").unbind(".slider");this._mouseDestroy();return this},_mouseCapture:function(d){var j=this.options,o,n,m,k,l;if(j.disabled){return false}this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()};this.elementOffset=this.element.offset();o=this._normValueFromMouse({x:d.pageX,y:d.pageY});n=this._valueMax()-this._valueMin()+1;k=this;this.handles.each(function(c){var b=Math.abs(o-k.values(c));if(n>b){n=b;m=a(this);l=c}});if(j.range===true&&this.values(1)===j.min){l+=1;m=a(this.handles[l])}if(this._start(d,l)===false){return false}this._mouseSliding=true;k._handleIndex=l;m.addClass("ui-state-active").focus();j=m.offset();this._clickOffset=!a(d.target).parents().andSelf().is(".ui-slider-handle")?{left:0,top:0}:{left:d.pageX-j.left-m.width()/2,top:d.pageY-j.top-m.height()/2-(parseInt(m.css("borderTopWidth"),10)||0)-(parseInt(m.css("borderBottomWidth"),10)||0)+(parseInt(m.css("marginTop"),10)||0)};this.handles.hasClass("ui-state-hover")||this._slide(d,l,o);return this._animateOff=true},_mouseStart:function(){return true},_mouseDrag:function(c){var d=this._normValueFromMouse({x:c.pageX,y:c.pageY});this._slide(c,this._handleIndex,d);return false},_mouseStop:function(c){this.handles.removeClass("ui-state-active");this._mouseSliding=false;this._stop(c,this._handleIndex);this._change(c,this._handleIndex);this._clickOffset=this._handleIndex=null;return this._animateOff=false},_detectOrientation:function(){this.orientation=this.options.orientation==="vertical"?"vertical":"horizontal"},_normValueFromMouse:function(c){var d;if(this.orientation==="horizontal"){d=this.elementSize.width;c=c.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)}else{d=this.elementSize.height;c=c.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)}d=c/d;if(d>1){d=1}if(d<0){d=0}if(this.orientation==="vertical"){d=1-d}c=this._valueMax()-this._valueMin();return this._trimAlignValue(this._valueMin()+d*c)},_start:function(d,e){var f={handle:this.handles[e],value:this.value()};if(this.options.values&&this.options.values.length){f.value=this.values(e);f.values=this.values()}return this._trigger("start",d,f)},_slide:function(d,f,h){var g;if(this.options.values&&this.options.values.length){g=this.values(f?0:1);if(this.options.values.length===2&&this.options.range===true&&(f===0&&h>g||f===1&&h<g)){h=g}if(h!==this.values(f)){g=this.values();g[f]=h;d=this._trigger("slide",d,{handle:this.handles[f],value:h,values:g});this.values(f?0:1);d!==false&&this.values(f,h,true)}}else{if(h!==this.value()){d=this._trigger("slide",d,{handle:this.handles[f],value:h});d!==false&&this.value(h)}}},_stop:function(d,e){var f={handle:this.handles[e],value:this.value()};if(this.options.values&&this.options.values.length){f.value=this.values(e);f.values=this.values()}this._trigger("stop",d,f)},_change:function(d,e){if(!this._keySliding&&!this._mouseSliding){var f={handle:this.handles[e],value:this.value()};if(this.options.values&&this.options.values.length){f.value=this.values(e);f.values=this.values()}this._trigger("change",d,f)}},value:function(c){if(arguments.length){this.options.value=this._trimAlignValue(c);this._refreshValue();this._change(null,0)}return this._value()},values:function(d,g){var k,j,h;if(arguments.length>1){this.options.values[d]=this._trimAlignValue(g);this._refreshValue();this._change(null,d)}if(arguments.length){if(a.isArray(arguments[0])){k=this.options.values;j=arguments[0];for(h=0;h<k.length;h+=1){k[h]=this._trimAlignValue(j[h]);this._change(null,h)}this._refreshValue()}else{return this.options.values&&this.options.values.length?this._values(d):this.value()}}else{return this._values()}},_setOption:function(d,f){var h,g=0;if(a.isArray(this.options.values)){g=this.options.values.length}a.Widget.prototype._setOption.apply(this,arguments);switch(d){case"disabled":if(f){this.handles.filter(".ui-state-focus").blur();this.handles.removeClass("ui-state-hover");this.handles.attr("disabled","disabled");this.element.addClass("ui-disabled")}else{this.handles.removeAttr("disabled");this.element.removeClass("ui-disabled")}break;case"orientation":this._detectOrientation();this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation);this._refreshValue();break;case"value":this._animateOff=true;this._refreshValue();this._change(null,0);this._animateOff=false;break;case"values":this._animateOff=true;this._refreshValue();for(h=0;h<g;h+=1){this._change(null,h)}this._animateOff=false;break}},_value:function(){var c=this.options.value;return c=this._trimAlignValue(c)},_values:function(d){var e,f;if(arguments.length){e=this.options.values[d];return e=this._trimAlignValue(e)}else{e=this.options.values.slice();for(f=0;f<e.length;f+=1){e[f]=this._trimAlignValue(e[f])}return e}},_trimAlignValue:function(d){if(d<=this._valueMin()){return this._valueMin()}if(d>=this._valueMax()){return this._valueMax()}var e=this.options.step>0?this.options.step:1,f=(d-this._valueMin())%e;alignValue=d-f;if(Math.abs(f)*2>=e){alignValue+=f>0?e:-e}return parseFloat(alignValue.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var s=this.options.range,u=this.options,r=this,q=!this._animateOff?u.animate:false,p,n={},o,m,k,d;if(this.options.values&&this.options.values.length){this.handles.each(function(b){p=(r.values(b)-r._valueMin())/(r._valueMax()-r._valueMin())*100;n[r.orientation==="horizontal"?"left":"bottom"]=p+"%";a(this).stop(1,1)[q?"animate":"css"](n,u.animate);if(r.options.range===true){if(r.orientation==="horizontal"){if(b===0){r.range.stop(1,1)[q?"animate":"css"]({left:p+"%"},u.animate)}if(b===1){r.range[q?"animate":"css"]({width:p-o+"%"},{queue:false,duration:u.animate})}}else{if(b===0){r.range.stop(1,1)[q?"animate":"css"]({bottom:p+"%"},u.animate)}if(b===1){r.range[q?"animate":"css"]({height:p-o+"%"},{queue:false,duration:u.animate})}}}o=p})}else{m=this.value();k=this._valueMin();d=this._valueMax();p=d!==k?(m-k)/(d-k)*100:0;n[r.orientation==="horizontal"?"left":"bottom"]=p+"%";this.handle.stop(1,1)[q?"animate":"css"](n,u.animate);if(s==="min"&&this.orientation==="horizontal"){this.range.stop(1,1)[q?"animate":"css"]({width:p+"%"},u.animate)}if(s==="max"&&this.orientation==="horizontal"){this.range[q?"animate":"css"]({width:100-p+"%"},{queue:false,duration:u.animate})}if(s==="min"&&this.orientation==="vertical"){this.range.stop(1,1)[q?"animate":"css"]({height:p+"%"},u.animate)}if(s==="max"&&this.orientation==="vertical"){this.range[q?"animate":"css"]({height:100-p+"%"},{queue:false,duration:u.animate})}}}});a.extend(a.ui.slider,{version:"1.8.9"})})(jQuery);(function(g,f){function e(){return ++c}function b(){return ++a}var c=0,a=0;g.widget("ui.tabs",{options:{add:null,ajaxOptions:null,cache:false,cookie:null,collapsible:false,disable:null,disabled:[],enable:null,event:"click",fx:null,idPrefix:"ui-tabs-",load:null,panelTemplate:"<div></div>",remove:null,select:null,show:null,spinner:"<em>Loading&#8230;</em>",tabTemplate:"<li><a href='#{href}'><span>#{label}</span></a></li>"},_create:function(){this._tabify(true)},_setOption:function(d,h){if(d=="selected"){this.options.collapsible&&h==this.options.selected||this.select(h)}else{this.options[d]=h;this._tabify()}},_tabId:function(d){return d.title&&d.title.replace(/\s/g,"_").replace(/[^\w\u00c0-\uFFFF-]/g,"")||this.options.idPrefix+e()},_sanitizeSelector:function(d){return d.replace(/:/g,"\\:")},_cookie:function(){var d=this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+b());return g.cookie.apply(null,[d].concat(g.makeArray(arguments)))},_ui:function(d,h){return{tab:d,panel:h,index:this.anchors.index(d)}},_cleanup:function(){this.lis.filter(".ui-state-processing").removeClass("ui-state-processing").find("span:data(label.tabs)").each(function(){var d=g(this);d.html(d.data("label.tabs")).removeData("label.tabs")})},_tabify:function(z){function x(h,j){h.css("display","");!g.support.opacity&&j.opacity&&h[0].style.removeAttribute("filter")}var A=this,y=this.options,w=/^#.+/;this.list=this.element.find("ol,ul").eq(0);this.lis=g(" > li:has(a[href])",this.list);this.anchors=this.lis.map(function(){return g("a",this)[0]});this.panels=g([]);this.anchors.each(function(k,n){var j=g(n).attr("href"),h=j.split("#")[0],m;if(h&&(h===location.toString().split("#")[0]||(m=g("base")[0])&&h===m.href)){j=n.hash;n.href=j}if(w.test(j)){A.panels=A.panels.add(A.element.find(A._sanitizeSelector(j)))}else{if(j&&j!=="#"){g.data(n,"href.tabs",j);g.data(n,"load.tabs",j.replace(/#.*$/,""));j=A._tabId(n);n.href="#"+j;n=A.element.find("#"+j);if(!n.length){n=g(y.panelTemplate).attr("id",j).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").insertAfter(A.panels[k-1]||A.list);n.data("destroy.tabs",true)}A.panels=A.panels.add(n)}else{y.disabled.push(k)}}});if(z){this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all");this.list.addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all");this.lis.addClass("ui-state-default ui-corner-top");this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom");if(y.selected===f){location.hash&&this.anchors.each(function(h,j){if(j.hash==location.hash){y.selected=h;return false}});if(typeof y.selected!=="number"&&y.cookie){y.selected=parseInt(A._cookie(),10)}if(typeof y.selected!=="number"&&this.lis.filter(".ui-tabs-selected").length){y.selected=this.lis.index(this.lis.filter(".ui-tabs-selected"))}y.selected=y.selected||(this.lis.length?0:-1)}else{if(y.selected===null){y.selected=-1}}y.selected=y.selected>=0&&this.anchors[y.selected]||y.selected<0?y.selected:0;y.disabled=g.unique(y.disabled.concat(g.map(this.lis.filter(".ui-state-disabled"),function(h){return A.lis.index(h)}))).sort();g.inArray(y.selected,y.disabled)!=-1&&y.disabled.splice(g.inArray(y.selected,y.disabled),1);this.panels.addClass("ui-tabs-hide");this.lis.removeClass("ui-tabs-selected ui-state-active");if(y.selected>=0&&this.anchors.length){A.element.find(A._sanitizeSelector(A.anchors[y.selected].hash)).removeClass("ui-tabs-hide");this.lis.eq(y.selected).addClass("ui-tabs-selected ui-state-active");A.element.queue("tabs",function(){A._trigger("show",null,A._ui(A.anchors[y.selected],A.element.find(A._sanitizeSelector(A.anchors[y.selected].hash))[0]))});this.load(y.selected)}g(window).bind("unload",function(){A.lis.add(A.anchors).unbind(".tabs");A.lis=A.anchors=A.panels=null})}else{y.selected=this.lis.index(this.lis.filter(".ui-tabs-selected"))}this.element[y.collapsible?"addClass":"removeClass"]("ui-tabs-collapsible");y.cookie&&this._cookie(y.selected,y.cookie);z=0;for(var v;v=this.lis[z];z++){g(v)[g.inArray(z,y.disabled)!=-1&&!g(v).hasClass("ui-tabs-selected")?"addClass":"removeClass"]("ui-state-disabled")}y.cache===false&&this.anchors.removeData("cache.tabs");this.lis.add(this.anchors).unbind(".tabs");if(y.event!=="mouseover"){var u=function(h,j){j.is(":not(.ui-state-disabled)")&&j.addClass("ui-state-"+h)},p=function(h,j){j.removeClass("ui-state-"+h)};this.lis.bind("mouseover.tabs",function(){u("hover",g(this))});this.lis.bind("mouseout.tabs",function(){p("hover",g(this))});this.anchors.bind("focus.tabs",function(){u("focus",g(this).closest("li"))});this.anchors.bind("blur.tabs",function(){p("focus",g(this).closest("li"))})}var q,l;if(y.fx){if(g.isArray(y.fx)){q=y.fx[0];l=y.fx[1]}else{q=l=y.fx}}var d=l?function(h,j){g(h).closest("li").addClass("ui-tabs-selected ui-state-active");j.hide().removeClass("ui-tabs-hide").animate(l,l.duration||"normal",function(){x(j,l);A._trigger("show",null,A._ui(h,j[0]))})}:function(h,j){g(h).closest("li").addClass("ui-tabs-selected ui-state-active");j.removeClass("ui-tabs-hide");A._trigger("show",null,A._ui(h,j[0]))},B=q?function(h,j){j.animate(q,q.duration||"normal",function(){A.lis.removeClass("ui-tabs-selected ui-state-active");j.addClass("ui-tabs-hide");x(j,q);A.element.dequeue("tabs")})}:function(h,j){A.lis.removeClass("ui-tabs-selected ui-state-active");j.addClass("ui-tabs-hide");A.element.dequeue("tabs")};this.anchors.bind(y.event+".tabs",function(){var k=this,m=g(k).closest("li"),j=A.panels.filter(":not(.ui-tabs-hide)"),h=A.element.find(A._sanitizeSelector(k.hash));if(m.hasClass("ui-tabs-selected")&&!y.collapsible||m.hasClass("ui-state-disabled")||m.hasClass("ui-state-processing")||A.panels.filter(":animated").length||A._trigger("select",null,A._ui(this,h[0]))===false){this.blur();return false}y.selected=A.anchors.index(this);A.abort();if(y.collapsible){if(m.hasClass("ui-tabs-selected")){y.selected=-1;y.cookie&&A._cookie(y.selected,y.cookie);A.element.queue("tabs",function(){B(k,j)}).dequeue("tabs");this.blur();return false}else{if(!j.length){y.cookie&&A._cookie(y.selected,y.cookie);A.element.queue("tabs",function(){d(k,h)});A.load(A.anchors.index(this));this.blur();return false}}}y.cookie&&A._cookie(y.selected,y.cookie);if(h.length){j.length&&A.element.queue("tabs",function(){B(k,j)});A.element.queue("tabs",function(){d(k,h)});A.load(A.anchors.index(this))}else{throw"jQuery UI Tabs: Mismatching fragment identifier."}g.browser.msie&&this.blur()});this.anchors.bind("click.tabs",function(){return false})},_getIndex:function(d){if(typeof d=="string"){d=this.anchors.index(this.anchors.filter("[href$="+d+"]"))}return d},destroy:function(){var d=this.options;this.abort();this.element.unbind(".tabs").removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible").removeData("tabs");this.list.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all");this.anchors.each(function(){var j=g.data(this,"href.tabs");if(j){this.href=j}var h=g(this).unbind(".tabs");g.each(["href","load","cache"],function(l,k){h.removeData(k+".tabs")})});this.lis.unbind(".tabs").add(this.panels).each(function(){g.data(this,"destroy.tabs")?g(this).remove():g(this).removeClass("ui-state-default ui-corner-top ui-tabs-selected ui-state-active ui-state-hover ui-state-focus ui-state-disabled ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide")});d.cookie&&this._cookie(null,d.cookie);return this},add:function(d,n,k){if(k===f){k=this.anchors.length}var o=this,m=this.options;n=g(m.tabTemplate.replace(/#\{href\}/g,d).replace(/#\{label\}/g,n));d=!d.indexOf("#")?d.replace("#",""):this._tabId(g("a",n)[0]);n.addClass("ui-state-default ui-corner-top").data("destroy.tabs",true);var l=o.element.find("#"+d);l.length||(l=g(m.panelTemplate).attr("id",d).data("destroy.tabs",true));l.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide");if(k>=this.lis.length){n.appendTo(this.list);l.appendTo(this.list[0].parentNode)}else{n.insertBefore(this.lis[k]);l.insertBefore(this.panels[k])}m.disabled=g.map(m.disabled,function(h){return h>=k?++h:h});this._tabify();if(this.anchors.length==1){m.selected=0;n.addClass("ui-tabs-selected ui-state-active");l.removeClass("ui-tabs-hide");this.element.queue("tabs",function(){o._trigger("show",null,o._ui(o.anchors[0],o.panels[0]))});this.load(0)}this._trigger("add",null,this._ui(this.anchors[k],this.panels[k]));return this},remove:function(d){d=this._getIndex(d);var j=this.options,h=this.lis.eq(d).remove(),k=this.panels.eq(d).remove();if(h.hasClass("ui-tabs-selected")&&this.anchors.length>1){this.select(d+(d+1<this.anchors.length?1:-1))}j.disabled=g.map(g.grep(j.disabled,function(l){return l!=d}),function(l){return l>=d?--l:l});this._tabify();this._trigger("remove",null,this._ui(h.find("a")[0],k[0]));return this},enable:function(d){d=this._getIndex(d);var h=this.options;if(g.inArray(d,h.disabled)!=-1){this.lis.eq(d).removeClass("ui-state-disabled");h.disabled=g.grep(h.disabled,function(j){return j!=d});this._trigger("enable",null,this._ui(this.anchors[d],this.panels[d]));return this}},disable:function(d){d=this._getIndex(d);var h=this.options;if(d!=h.selected){this.lis.eq(d).addClass("ui-state-disabled");h.disabled.push(d);h.disabled.sort();this._trigger("disable",null,this._ui(this.anchors[d],this.panels[d]))}return this},select:function(d){d=this._getIndex(d);if(d==-1){if(this.options.collapsible&&this.options.selected!=-1){d=this.options.selected}else{return this}}this.anchors.eq(d).trigger(this.options.event+".tabs");return this},load:function(d){d=this._getIndex(d);var n=this,k=this.options,o=this.anchors.eq(d)[0],m=g.data(o,"load.tabs");this.abort();if(!m||this.element.queue("tabs").length!==0&&g.data(o,"cache.tabs")){this.element.dequeue("tabs")}else{this.lis.eq(d).addClass("ui-state-processing");if(k.spinner){var l=g("span",o);l.data("label.tabs",l.html()).html(k.spinner)}this.xhr=g.ajax(g.extend({},k.ajaxOptions,{url:m,success:function(j,p){n.element.find(n._sanitizeSelector(o.hash)).html(j);n._cleanup();k.cache&&g.data(o,"cache.tabs",true);n._trigger("load",null,n._ui(n.anchors[d],n.panels[d]));try{k.ajaxOptions.success(j,p)}catch(h){}},error:function(j,p){n._cleanup();n._trigger("load",null,n._ui(n.anchors[d],n.panels[d]));try{k.ajaxOptions.error(j,p,d,o)}catch(h){}}}));n.element.dequeue("tabs");return this}},abort:function(){this.element.queue([]);this.panels.stop(false,true);this.element.queue("tabs",this.element.queue("tabs").splice(-2,2));if(this.xhr){this.xhr.abort();delete this.xhr}this._cleanup();return this},url:function(d,h){this.anchors.eq(d).removeData("cache.tabs").data("load.tabs",h);return this},length:function(){return this.anchors.length}});g.extend(g.ui.tabs,{version:"1.8.9"});g.extend(g.ui.tabs.prototype,{rotation:null,rotate:function(d,l){var j=this,m=this.options,k=j._rotate||(j._rotate=function(h){clearTimeout(j.rotation);j.rotation=setTimeout(function(){var n=m.selected;j.select(++n<j.anchors.length?n:0)},d);h&&h.stopPropagation()});l=j._unrotate||(j._unrotate=!l?function(h){h.clientX&&j.rotate(null)}:function(){t=m.selected;k()});if(d){this.element.bind("tabsshow",k);this.anchors.bind(m.event+".tabs",l);k()}else{clearTimeout(j.rotation);this.element.unbind("tabsshow",k);this.anchors.unbind(m.event+".tabs",l);delete this._rotate;delete this._unrotate}return this}})})(jQuery);(function(d,G){function K(){this.debug=false;this._curInst=null;this._keyEvent=false;this._disabledInputs=[];this._inDialog=this._datepickerShowing=false;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:false,showMonthAfterYear:false,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:false,hideIfNoPrevNext:false,navigationAsDateFormat:false,gotoCurrent:false,changeMonth:false,changeYear:false,yearRange:"c-10:c+10",showOtherMonths:false,selectOtherMonths:false,showWeek:false,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:true,showButtonPanel:false,autoSize:false};d.extend(this._defaults,this.regional[""]);this.dpDiv=d('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')}function E(a,b){d.extend(a,b);for(var c in b){if(b[c]==null||b[c]==G){a[c]=b[c]}}return a}d.extend(d.ui,{datepicker:{version:"1.8.9"}});var y=(new Date).getTime();d.extend(K.prototype,{markerClassName:"hasDatepicker",log:function(){this.debug&&console.log.apply("",arguments)},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){E(this._defaults,a||{});return this},_attachDatepicker:function(a,b){var c=null;for(var e in this._defaults){var f=a.getAttribute("date:"+e);if(f){c=c||{};try{c[e]=eval(f)}catch(h){c[e]=f}}}e=a.nodeName.toLowerCase();f=e=="div"||e=="span";if(!a.id){this.uuid+=1;a.id="dp"+this.uuid}var i=this._newInst(d(a),f);i.settings=d.extend({},b||{},c||{});if(e=="input"){this._connectDatepicker(a,i)}else{f&&this._inlineDatepicker(a,i)}},_newInst:function(a,b){return{id:a[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1"),input:a,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:b,dpDiv:!b?this.dpDiv:d('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')}},_connectDatepicker:function(a,b){var c=d(a);b.append=d([]);b.trigger=d([]);if(!c.hasClass(this.markerClassName)){this._attachments(c,b);c.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",function(e,f,h){b.settings[f]=h}).bind("getData.datepicker",function(e,f){return this._get(b,f)});this._autoSize(b);d.data(a,"datepicker",b)}},_attachments:function(a,b){var c=this._get(b,"appendText"),e=this._get(b,"isRTL");b.append&&b.append.remove();if(c){b.append=d('<span class="'+this._appendClass+'">'+c+"</span>");a[e?"before":"after"](b.append)}a.unbind("focus",this._showDatepicker);b.trigger&&b.trigger.remove();c=this._get(b,"showOn");if(c=="focus"||c=="both"){a.focus(this._showDatepicker)}if(c=="button"||c=="both"){c=this._get(b,"buttonText");var f=this._get(b,"buttonImage");b.trigger=d(this._get(b,"buttonImageOnly")?d("<img/>").addClass(this._triggerClass).attr({src:f,alt:c,title:c}):d('<button type="button"></button>').addClass(this._triggerClass).html(f==""?c:d("<img/>").attr({src:f,alt:c,title:c})));a[e?"before":"after"](b.trigger);b.trigger.click(function(){d.datepicker._datepickerShowing&&d.datepicker._lastInput==a[0]?d.datepicker._hideDatepicker():d.datepicker._showDatepicker(a[0]);return false})}},_autoSize:function(a){if(this._get(a,"autoSize")&&!a.inline){var b=new Date(2009,11,20),c=this._get(a,"dateFormat");if(c.match(/[DM]/)){var e=function(f){for(var h=0,i=0,g=0;g<f.length;g++){if(f[g].length>h){h=f[g].length;i=g}}return i};b.setMonth(e(this._get(a,c.match(/MM/)?"monthNames":"monthNamesShort")));b.setDate(e(this._get(a,c.match(/DD/)?"dayNames":"dayNamesShort"))+20-b.getDay())}a.input.attr("size",this._formatDate(a,b).length)}},_inlineDatepicker:function(a,b){var c=d(a);if(!c.hasClass(this.markerClassName)){c.addClass(this.markerClassName).append(b.dpDiv).bind("setData.datepicker",function(e,f,h){b.settings[f]=h}).bind("getData.datepicker",function(e,f){return this._get(b,f)});d.data(a,"datepicker",b);this._setDate(b,this._getDefaultDate(b),true);this._updateDatepicker(b);this._updateAlternate(b);b.dpDiv.show()}},_dialogDatepicker:function(a,b,c,e,f){a=this._dialogInst;if(!a){this.uuid+=1;this._dialogInput=d('<input type="text" id="'+("dp"+this.uuid)+'" style="position: absolute; top: -100px; width: 0px; z-index: -10;"/>');this._dialogInput.keydown(this._doKeyDown);d("body").append(this._dialogInput);a=this._dialogInst=this._newInst(this._dialogInput,false);a.settings={};d.data(this._dialogInput[0],"datepicker",a)}E(a.settings,e||{});b=b&&b.constructor==Date?this._formatDate(a,b):b;this._dialogInput.val(b);this._pos=f?f.length?f:[f.pageX,f.pageY]:null;if(!this._pos){this._pos=[document.documentElement.clientWidth/2-100+(document.documentElement.scrollLeft||document.body.scrollLeft),document.documentElement.clientHeight/2-150+(document.documentElement.scrollTop||document.body.scrollTop)]}this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px");a.settings.onSelect=c;this._inDialog=true;this.dpDiv.addClass(this._dialogClass);this._showDatepicker(this._dialogInput[0]);d.blockUI&&d.blockUI(this.dpDiv);d.data(this._dialogInput[0],"datepicker",a);return this},_destroyDatepicker:function(a){var b=d(a),c=d.data(a,"datepicker");if(b.hasClass(this.markerClassName)){var e=a.nodeName.toLowerCase();d.removeData(a,"datepicker");if(e=="input"){c.append.remove();c.trigger.remove();b.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)}else{if(e=="div"||e=="span"){b.removeClass(this.markerClassName).empty()}}}},_enableDatepicker:function(a){var b=d(a),c=d.data(a,"datepicker");if(b.hasClass(this.markerClassName)){var e=a.nodeName.toLowerCase();if(e=="input"){a.disabled=false;c.trigger.filter("button").each(function(){this.disabled=false}).end().filter("img").css({opacity:"1.0",cursor:""})}else{if(e=="div"||e=="span"){b.children("."+this._inlineClass).children().removeClass("ui-state-disabled")}}this._disabledInputs=d.map(this._disabledInputs,function(f){return f==a?null:f})}},_disableDatepicker:function(a){var b=d(a),c=d.data(a,"datepicker");if(b.hasClass(this.markerClassName)){var e=a.nodeName.toLowerCase();if(e=="input"){a.disabled=true;c.trigger.filter("button").each(function(){this.disabled=true}).end().filter("img").css({opacity:"0.5",cursor:"default"})}else{if(e=="div"||e=="span"){b.children("."+this._inlineClass).children().addClass("ui-state-disabled")}}this._disabledInputs=d.map(this._disabledInputs,function(f){return f==a?null:f});this._disabledInputs[this._disabledInputs.length]=a}},_isDisabledDatepicker:function(a){if(!a){return false}for(var b=0;b<this._disabledInputs.length;b++){if(this._disabledInputs[b]==a){return true}}return false},_getInst:function(a){try{return d.data(a,"datepicker")}catch(b){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(a,b,c){var e=this._getInst(a);if(arguments.length==2&&typeof b=="string"){return b=="defaults"?d.extend({},d.datepicker._defaults):e?b=="all"?d.extend({},e.settings):this._get(e,b):null}var f=b||{};if(typeof b=="string"){f={};f[b]=c}if(e){this._curInst==e&&this._hideDatepicker();var h=this._getDateDatepicker(a,true);E(e.settings,f);this._attachments(d(a),e);this._autoSize(e);this._setDateDatepicker(a,h);this._updateDatepicker(e)}},_changeDatepicker:function(a,b,c){this._optionDatepicker(a,b,c)},_refreshDatepicker:function(a){(a=this._getInst(a))&&this._updateDatepicker(a)},_setDateDatepicker:function(a,b){if(a=this._getInst(a)){this._setDate(a,b);this._updateDatepicker(a);this._updateAlternate(a)}},_getDateDatepicker:function(a,b){(a=this._getInst(a))&&!a.inline&&this._setDateFromField(a,b);return a?this._getDate(a):null},_doKeyDown:function(a){var b=d.datepicker._getInst(a.target),c=true,e=b.dpDiv.is(".ui-datepicker-rtl");b._keyEvent=true;if(d.datepicker._datepickerShowing){switch(a.keyCode){case 9:d.datepicker._hideDatepicker();c=false;break;case 13:c=d("td."+d.datepicker._dayOverClass+":not(."+d.datepicker._currentClass+")",b.dpDiv);c[0]?d.datepicker._selectDay(a.target,b.selectedMonth,b.selectedYear,c[0]):d.datepicker._hideDatepicker();return false;case 27:d.datepicker._hideDatepicker();break;case 33:d.datepicker._adjustDate(a.target,a.ctrlKey?-d.datepicker._get(b,"stepBigMonths"):-d.datepicker._get(b,"stepMonths"),"M");break;case 34:d.datepicker._adjustDate(a.target,a.ctrlKey?+d.datepicker._get(b,"stepBigMonths"):+d.datepicker._get(b,"stepMonths"),"M");break;case 35:if(a.ctrlKey||a.metaKey){d.datepicker._clearDate(a.target)}c=a.ctrlKey||a.metaKey;break;case 36:if(a.ctrlKey||a.metaKey){d.datepicker._gotoToday(a.target)}c=a.ctrlKey||a.metaKey;break;case 37:if(a.ctrlKey||a.metaKey){d.datepicker._adjustDate(a.target,e?+1:-1,"D")}c=a.ctrlKey||a.metaKey;if(a.originalEvent.altKey){d.datepicker._adjustDate(a.target,a.ctrlKey?-d.datepicker._get(b,"stepBigMonths"):-d.datepicker._get(b,"stepMonths"),"M")}break;case 38:if(a.ctrlKey||a.metaKey){d.datepicker._adjustDate(a.target,-7,"D")}c=a.ctrlKey||a.metaKey;break;case 39:if(a.ctrlKey||a.metaKey){d.datepicker._adjustDate(a.target,e?-1:+1,"D")}c=a.ctrlKey||a.metaKey;if(a.originalEvent.altKey){d.datepicker._adjustDate(a.target,a.ctrlKey?+d.datepicker._get(b,"stepBigMonths"):+d.datepicker._get(b,"stepMonths"),"M")}break;case 40:if(a.ctrlKey||a.metaKey){d.datepicker._adjustDate(a.target,+7,"D")}c=a.ctrlKey||a.metaKey;break;default:c=false}}else{if(a.keyCode==36&&a.ctrlKey){d.datepicker._showDatepicker(this)}else{c=false}}if(c){a.preventDefault();a.stopPropagation()}},_doKeyPress:function(a){var b=d.datepicker._getInst(a.target);if(d.datepicker._get(b,"constrainInput")){b=d.datepicker._possibleChars(d.datepicker._get(b,"dateFormat"));var c=String.fromCharCode(a.charCode==G?a.keyCode:a.charCode);return a.ctrlKey||a.metaKey||c<" "||!b||b.indexOf(c)>-1}},_doKeyUp:function(a){a=d.datepicker._getInst(a.target);if(a.input.val()!=a.lastVal){try{if(d.datepicker.parseDate(d.datepicker._get(a,"dateFormat"),a.input?a.input.val():null,d.datepicker._getFormatConfig(a))){d.datepicker._setDateFromField(a);d.datepicker._updateAlternate(a);d.datepicker._updateDatepicker(a)}}catch(b){d.datepicker.log(b)}}return true},_showDatepicker:function(a){a=a.target||a;if(a.nodeName.toLowerCase()!="input"){a=d("input",a.parentNode)[0]}if(!(d.datepicker._isDisabledDatepicker(a)||d.datepicker._lastInput==a)){var b=d.datepicker._getInst(a);d.datepicker._curInst&&d.datepicker._curInst!=b&&d.datepicker._curInst.dpDiv.stop(true,true);var c=d.datepicker._get(b,"beforeShow");E(b.settings,c?c.apply(a,[a,b]):{});b.lastVal=null;d.datepicker._lastInput=a;d.datepicker._setDateFromField(b);if(d.datepicker._inDialog){a.value=""}if(!d.datepicker._pos){d.datepicker._pos=d.datepicker._findPos(a);d.datepicker._pos[1]+=a.offsetHeight}var e=false;d(a).parents().each(function(){e|=d(this).css("position")=="fixed";return !e});if(e&&d.browser.opera){d.datepicker._pos[0]-=document.documentElement.scrollLeft;d.datepicker._pos[1]-=document.documentElement.scrollTop}c={left:d.datepicker._pos[0],top:d.datepicker._pos[1]};d.datepicker._pos=null;b.dpDiv.empty();b.dpDiv.css({position:"absolute",display:"block",top:"-1000px"});d.datepicker._updateDatepicker(b);c=d.datepicker._checkOffset(b,c,e);b.dpDiv.css({position:d.datepicker._inDialog&&d.blockUI?"static":e?"fixed":"absolute",display:"none",left:c.left+"px",top:c.top+"px"});if(!b.inline){c=d.datepicker._get(b,"showAnim");var f=d.datepicker._get(b,"duration"),h=function(){d.datepicker._datepickerShowing=true;var i=b.dpDiv.find("iframe.ui-datepicker-cover");if(i.length){var g=d.datepicker._getBorders(b.dpDiv);i.css({left:-g[0],top:-g[1],width:b.dpDiv.outerWidth(),height:b.dpDiv.outerHeight()})}};b.dpDiv.zIndex(d(a).zIndex()+1);d.effects&&d.effects[c]?b.dpDiv.show(c,d.datepicker._get(b,"showOptions"),f,h):b.dpDiv[c||"show"](c?f:null,h);if(!c||!f){h()}b.input.is(":visible")&&!b.input.is(":disabled")&&b.input.focus();d.datepicker._curInst=b}}},_updateDatepicker:function(a){var b=this,c=d.datepicker._getBorders(a.dpDiv);a.dpDiv.empty().append(this._generateHTML(a));var e=a.dpDiv.find("iframe.ui-datepicker-cover");e.length&&e.css({left:-c[0],top:-c[1],width:a.dpDiv.outerWidth(),height:a.dpDiv.outerHeight()});a.dpDiv.find("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a").bind("mouseout",function(){d(this).removeClass("ui-state-hover");this.className.indexOf("ui-datepicker-prev")!=-1&&d(this).removeClass("ui-datepicker-prev-hover");this.className.indexOf("ui-datepicker-next")!=-1&&d(this).removeClass("ui-datepicker-next-hover")}).bind("mouseover",function(){if(!b._isDisabledDatepicker(a.inline?a.dpDiv.parent()[0]:a.input[0])){d(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover");d(this).addClass("ui-state-hover");this.className.indexOf("ui-datepicker-prev")!=-1&&d(this).addClass("ui-datepicker-prev-hover");this.className.indexOf("ui-datepicker-next")!=-1&&d(this).addClass("ui-datepicker-next-hover")}}).end().find("."+this._dayOverClass+" a").trigger("mouseover").end();c=this._getNumberOfMonths(a);e=c[1];e>1?a.dpDiv.addClass("ui-datepicker-multi-"+e).css("width",17*e+"em"):a.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");a.dpDiv[(c[0]!=1||c[1]!=1?"add":"remove")+"Class"]("ui-datepicker-multi");a.dpDiv[(this._get(a,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");a==d.datepicker._curInst&&d.datepicker._datepickerShowing&&a.input&&a.input.is(":visible")&&!a.input.is(":disabled")&&a.input.focus();if(a.yearshtml){var f=a.yearshtml;setTimeout(function(){f===a.yearshtml&&a.dpDiv.find("select.ui-datepicker-year:first").replaceWith(a.yearshtml);f=a.yearshtml=null},0)}},_getBorders:function(a){var b=function(c){return{thin:1,medium:2,thick:3}[c]||c};return[parseFloat(b(a.css("border-left-width"))),parseFloat(b(a.css("border-top-width")))]},_checkOffset:function(a,b,c){var e=a.dpDiv.outerWidth(),f=a.dpDiv.outerHeight(),h=a.input?a.input.outerWidth():0,i=a.input?a.input.outerHeight():0,g=document.documentElement.clientWidth+d(document).scrollLeft(),j=document.documentElement.clientHeight+d(document).scrollTop();b.left-=this._get(a,"isRTL")?e-h:0;b.left-=c&&b.left==a.input.offset().left?d(document).scrollLeft():0;b.top-=c&&b.top==a.input.offset().top+i?d(document).scrollTop():0;b.left-=Math.min(b.left,b.left+e>g&&g>e?Math.abs(b.left+e-g):0);b.top-=Math.min(b.top,b.top+f>j&&j>f?Math.abs(f+i):0);return b},_findPos:function(a){for(var b=this._get(this._getInst(a),"isRTL");a&&(a.type=="hidden"||a.nodeType!=1);){a=a[b?"previousSibling":"nextSibling"]}a=d(a).offset();return[a.left,a.top]},_hideDatepicker:function(a){var b=this._curInst;if(!(!b||a&&b!=d.data(a,"datepicker"))){if(this._datepickerShowing){a=this._get(b,"showAnim");var c=this._get(b,"duration"),e=function(){d.datepicker._tidyDialog(b);this._curInst=null};d.effects&&d.effects[a]?b.dpDiv.hide(a,d.datepicker._get(b,"showOptions"),c,e):b.dpDiv[a=="slideDown"?"slideUp":a=="fadeIn"?"fadeOut":"hide"](a?c:null,e);a||e();if(a=this._get(b,"onClose")){a.apply(b.input?b.input[0]:null,[b.input?b.input.val():"",b])}this._datepickerShowing=false;this._lastInput=null;if(this._inDialog){this._dialogInput.css({position:"absolute",left:"0",top:"-100px"});if(d.blockUI){d.unblockUI();d("body").append(this.dpDiv)}}this._inDialog=false}}},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(a){if(d.datepicker._curInst){a=d(a.target);a[0].id!=d.datepicker._mainDivId&&a.parents("#"+d.datepicker._mainDivId).length==0&&!a.hasClass(d.datepicker.markerClassName)&&!a.hasClass(d.datepicker._triggerClass)&&d.datepicker._datepickerShowing&&!(d.datepicker._inDialog&&d.blockUI)&&d.datepicker._hideDatepicker()}},_adjustDate:function(a,b,c){a=d(a);var e=this._getInst(a[0]);if(!this._isDisabledDatepicker(a[0])){this._adjustInstDate(e,b+(c=="M"?this._get(e,"showCurrentAtPos"):0),c);this._updateDatepicker(e)}},_gotoToday:function(a){a=d(a);var b=this._getInst(a[0]);if(this._get(b,"gotoCurrent")&&b.currentDay){b.selectedDay=b.currentDay;b.drawMonth=b.selectedMonth=b.currentMonth;b.drawYear=b.selectedYear=b.currentYear}else{var c=new Date;b.selectedDay=c.getDate();b.drawMonth=b.selectedMonth=c.getMonth();b.drawYear=b.selectedYear=c.getFullYear()}this._notifyChange(b);this._adjustDate(a)},_selectMonthYear:function(a,b,c){a=d(a);var e=this._getInst(a[0]);e._selectingMonthYear=false;e["selected"+(c=="M"?"Month":"Year")]=e["draw"+(c=="M"?"Month":"Year")]=parseInt(b.options[b.selectedIndex].value,10);this._notifyChange(e);this._adjustDate(a)},_clickMonthYear:function(a){var b=this._getInst(d(a)[0]);b.input&&b._selectingMonthYear&&setTimeout(function(){b.input.focus()},0);b._selectingMonthYear=!b._selectingMonthYear},_selectDay:function(a,b,c,e){var f=d(a);if(!(d(e).hasClass(this._unselectableClass)||this._isDisabledDatepicker(f[0]))){f=this._getInst(f[0]);f.selectedDay=f.currentDay=d("a",e).html();f.selectedMonth=f.currentMonth=b;f.selectedYear=f.currentYear=c;this._selectDate(a,this._formatDate(f,f.currentDay,f.currentMonth,f.currentYear))}},_clearDate:function(a){a=d(a);this._getInst(a[0]);this._selectDate(a,"")},_selectDate:function(a,b){a=this._getInst(d(a)[0]);b=b!=null?b:this._formatDate(a);a.input&&a.input.val(b);this._updateAlternate(a);var c=this._get(a,"onSelect");if(c){c.apply(a.input?a.input[0]:null,[b,a])}else{a.input&&a.input.trigger("change")}if(a.inline){this._updateDatepicker(a)}else{this._hideDatepicker();this._lastInput=a.input[0];typeof a.input[0]!="object"&&a.input.focus();this._lastInput=null}},_updateAlternate:function(a){var b=this._get(a,"altField");if(b){var c=this._get(a,"altFormat")||this._get(a,"dateFormat"),e=this._getDate(a),f=this.formatDate(c,e,this._getFormatConfig(a));d(b).each(function(){d(this).val(f)})}},noWeekends:function(a){a=a.getDay();return[a>0&&a<6,""]},iso8601Week:function(a){a=new Date(a.getTime());a.setDate(a.getDate()+4-(a.getDay()||7));var b=a.getTime();a.setMonth(0);a.setDate(1);return Math.floor(Math.round((b-a)/86400000)/7)+1},parseDate:function(a,b,c){if(a==null||b==null){throw"Invalid arguments"}b=typeof b=="object"?b.toString():b+"";if(b==""){return null}var e=(c?c.shortYearCutoff:null)||this._defaults.shortYearCutoff;e=typeof e!="string"?e:(new Date).getFullYear()%100+parseInt(e,10);for(var f=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,h=(c?c.dayNames:null)||this._defaults.dayNames,i=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort,g=(c?c.monthNames:null)||this._defaults.monthNames,j=c=-1,l=-1,u=-1,k=false,o=function(p){(p=z+1<a.length&&a.charAt(z+1)==p)&&z++;return p},m=function(p){var v=o(p);p=new RegExp("^\\d{1,"+(p=="@"?14:p=="!"?20:p=="y"&&v?4:p=="o"?3:2)+"}");p=b.substring(s).match(p);if(!p){throw"Missing number at position "+s}s+=p[0].length;return parseInt(p[0],10)},n=function(p,v,H){p=o(p)?H:v;for(v=0;v<p.length;v++){if(b.substr(s,p[v].length).toLowerCase()==p[v].toLowerCase()){s+=p[v].length;return v+1}}throw"Unknown name at position "+s},r=function(){if(b.charAt(s)!=a.charAt(z)){throw"Unexpected literal at position "+s}s++},s=0,z=0;z<a.length;z++){if(k){if(a.charAt(z)=="'"&&!o("'")){k=false}else{r()}}else{switch(a.charAt(z)){case"d":l=m("d");break;case"D":n("D",f,h);break;case"o":u=m("o");break;case"m":j=m("m");break;case"M":j=n("M",i,g);break;case"y":c=m("y");break;case"@":var w=new Date(m("@"));c=w.getFullYear();j=w.getMonth()+1;l=w.getDate();break;case"!":w=new Date((m("!")-this._ticksTo1970)/10000);c=w.getFullYear();j=w.getMonth()+1;l=w.getDate();break;case"'":if(o("'")){r()}else{k=true}break;default:r()}}}if(c==-1){c=(new Date).getFullYear()}else{if(c<100){c+=(new Date).getFullYear()-(new Date).getFullYear()%100+(c<=e?0:-100)}}if(u>-1){j=1;l=u;do{e=this._getDaysInMonth(c,j-1);if(l<=e){break}j++;l-=e}while(1)}w=this._daylightSavingAdjust(new Date(c,j-1,l));if(w.getFullYear()!=c||w.getMonth()+1!=j||w.getDate()!=l){throw"Invalid date"}return w},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*24*60*60*10000000,formatDate:function(a,b,c){if(!b){return""}var e=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,f=(c?c.dayNames:null)||this._defaults.dayNames,h=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort;c=(c?c.monthNames:null)||this._defaults.monthNames;var i=function(o){(o=k+1<a.length&&a.charAt(k+1)==o)&&k++;return o},g=function(o,m,n){m=""+m;if(i(o)){for(;m.length<n;){m="0"+m}}return m},j=function(o,m,n,r){return i(o)?r[m]:n[m]},l="",u=false;if(b){for(var k=0;k<a.length;k++){if(u){if(a.charAt(k)=="'"&&!i("'")){u=false}else{l+=a.charAt(k)}}else{switch(a.charAt(k)){case"d":l+=g("d",b.getDate(),2);break;case"D":l+=j("D",b.getDay(),e,f);break;case"o":l+=g("o",(b.getTime()-(new Date(b.getFullYear(),0,0)).getTime())/86400000,3);break;case"m":l+=g("m",b.getMonth()+1,2);break;case"M":l+=j("M",b.getMonth(),h,c);break;case"y":l+=i("y")?b.getFullYear():(b.getYear()%100<10?"0":"")+b.getYear()%100;break;case"@":l+=b.getTime();break;case"!":l+=b.getTime()*10000+this._ticksTo1970;break;case"'":if(i("'")){l+="'"}else{u=true}break;default:l+=a.charAt(k)}}}}return l},_possibleChars:function(a){for(var b="",c=false,e=function(h){(h=f+1<a.length&&a.charAt(f+1)==h)&&f++;return h},f=0;f<a.length;f++){if(c){if(a.charAt(f)=="'"&&!e("'")){c=false}else{b+=a.charAt(f)}}else{switch(a.charAt(f)){case"d":case"m":case"y":case"@":b+="0123456789";break;case"D":case"M":return null;case"'":if(e("'")){b+="'"}else{c=true}break;default:b+=a.charAt(f)}}}return b},_get:function(a,b){return a.settings[b]!==G?a.settings[b]:this._defaults[b]},_setDateFromField:function(a,b){if(a.input.val()!=a.lastVal){var c=this._get(a,"dateFormat"),e=a.lastVal=a.input?a.input.val():null,f,h;f=h=this._getDefaultDate(a);var i=this._getFormatConfig(a);try{f=this.parseDate(c,e,i)||h}catch(g){this.log(g);e=b?"":e}a.selectedDay=f.getDate();a.drawMonth=a.selectedMonth=f.getMonth();a.drawYear=a.selectedYear=f.getFullYear();a.currentDay=e?f.getDate():0;a.currentMonth=e?f.getMonth():0;a.currentYear=e?f.getFullYear():0;this._adjustInstDate(a)}},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},_determineDate:function(a,b,c){var e=function(h){var i=new Date;i.setDate(i.getDate()+h);return i},f=function(h){try{return d.datepicker.parseDate(d.datepicker._get(a,"dateFormat"),h,d.datepicker._getFormatConfig(a))}catch(i){}var g=(h.toLowerCase().match(/^c/)?d.datepicker._getDate(a):null)||new Date,j=g.getFullYear(),l=g.getMonth();g=g.getDate();for(var u=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,k=u.exec(h);k;){switch(k[2]||"d"){case"d":case"D":g+=parseInt(k[1],10);break;case"w":case"W":g+=parseInt(k[1],10)*7;break;case"m":case"M":l+=parseInt(k[1],10);g=Math.min(g,d.datepicker._getDaysInMonth(j,l));break;case"y":case"Y":j+=parseInt(k[1],10);g=Math.min(g,d.datepicker._getDaysInMonth(j,l));break}k=u.exec(h)}return new Date(j,l,g)};if(b=(b=b==null||b===""?c:typeof b=="string"?f(b):typeof b=="number"?isNaN(b)?c:e(b):new Date(b.getTime()))&&b.toString()=="Invalid Date"?c:b){b.setHours(0);b.setMinutes(0);b.setSeconds(0);b.setMilliseconds(0)}return this._daylightSavingAdjust(b)},_daylightSavingAdjust:function(a){if(!a){return null}a.setHours(a.getHours()>12?a.getHours()+2:0);return a},_setDate:function(a,b,c){var e=!b,f=a.selectedMonth,h=a.selectedYear;b=this._restrictMinMax(a,this._determineDate(a,b,new Date));a.selectedDay=a.currentDay=b.getDate();a.drawMonth=a.selectedMonth=a.currentMonth=b.getMonth();a.drawYear=a.selectedYear=a.currentYear=b.getFullYear();if((f!=a.selectedMonth||h!=a.selectedYear)&&!c){this._notifyChange(a)}this._adjustInstDate(a);if(a.input){a.input.val(e?"":this._formatDate(a))}},_getDate:function(a){return !a.currentYear||a.input&&a.input.val()==""?null:this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay))},_generateHTML:function(a){var b=new Date;b=this._daylightSavingAdjust(new Date(b.getFullYear(),b.getMonth(),b.getDate()));var c=this._get(a,"isRTL"),e=this._get(a,"showButtonPanel"),f=this._get(a,"hideIfNoPrevNext"),h=this._get(a,"navigationAsDateFormat"),i=this._getNumberOfMonths(a),g=this._get(a,"showCurrentAtPos"),j=this._get(a,"stepMonths"),l=i[0]!=1||i[1]!=1,u=this._daylightSavingAdjust(!a.currentDay?new Date(9999,9,9):new Date(a.currentYear,a.currentMonth,a.currentDay)),k=this._getMinMaxDate(a,"min"),o=this._getMinMaxDate(a,"max");g=a.drawMonth-g;var m=a.drawYear;if(g<0){g+=12;m--}if(o){var n=this._daylightSavingAdjust(new Date(o.getFullYear(),o.getMonth()-i[0]*i[1]+1,o.getDate()));for(n=k&&n<k?k:n;this._daylightSavingAdjust(new Date(m,g,1))>n;){g--;if(g<0){g=11;m--}}}a.drawMonth=g;a.drawYear=m;n=this._get(a,"prevText");n=!h?n:this.formatDate(n,this._daylightSavingAdjust(new Date(m,g-j,1)),this._getFormatConfig(a));n=this._canAdjustMonth(a,-1,m,g)?'<a class="ui-datepicker-prev ui-corner-all" onclick="DP_jQuery_'+y+".datepicker._adjustDate('#"+a.id+"', -"+j+", 'M');\" title=\""+n+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"e":"w")+'">'+n+"</span></a>":f?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+n+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"e":"w")+'">'+n+"</span></a>";var r=this._get(a,"nextText");r=!h?r:this.formatDate(r,this._daylightSavingAdjust(new Date(m,g+j,1)),this._getFormatConfig(a));f=this._canAdjustMonth(a,+1,m,g)?'<a class="ui-datepicker-next ui-corner-all" onclick="DP_jQuery_'+y+".datepicker._adjustDate('#"+a.id+"', +"+j+", 'M');\" title=\""+r+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"w":"e")+'">'+r+"</span></a>":f?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+r+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"w":"e")+'">'+r+"</span></a>";j=this._get(a,"currentText");r=this._get(a,"gotoCurrent")&&a.currentDay?u:b;j=!h?j:this.formatDate(j,r,this._getFormatConfig(a));h=!a.inline?'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" onclick="DP_jQuery_'+y+'.datepicker._hideDatepicker();">'+this._get(a,"closeText")+"</button>":"";e=e?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(c?h:"")+(this._isInRange(a,r)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" onclick="DP_jQuery_'+y+".datepicker._gotoToday('#"+a.id+"');\">"+j+"</button>":"")+(c?"":h)+"</div>":"";h=parseInt(this._get(a,"firstDay"),10);h=isNaN(h)?0:h;j=this._get(a,"showWeek");r=this._get(a,"dayNames");this._get(a,"dayNamesShort");var s=this._get(a,"dayNamesMin"),z=this._get(a,"monthNames"),w=this._get(a,"monthNamesShort"),p=this._get(a,"beforeShowDay"),v=this._get(a,"showOtherMonths"),H=this._get(a,"selectOtherMonths");this._get(a,"calculateWeek");for(var L=this._getDefaultDate(a),I="",C=0;C<i[0];C++){for(var M="",D=0;D<i[1];D++){var N=this._daylightSavingAdjust(new Date(m,g,a.selectedDay)),t=" ui-corner-all",x="";if(l){x+='<div class="ui-datepicker-group';if(i[1]>1){switch(D){case 0:x+=" ui-datepicker-group-first";t=" ui-corner-"+(c?"right":"left");break;case i[1]-1:x+=" ui-datepicker-group-last";t=" ui-corner-"+(c?"left":"right");break;default:x+=" ui-datepicker-group-middle";t="";break}}x+='">'}x+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+t+'">'+(/all|left/.test(t)&&C==0?c?f:n:"")+(/all|right/.test(t)&&C==0?c?n:f:"")+this._generateMonthYearHeader(a,g,m,k,o,C>0||D>0,z,w)+'</div><table class="ui-datepicker-calendar"><thead><tr>';var A=j?'<th class="ui-datepicker-week-col">'+this._get(a,"weekHeader")+"</th>":"";for(t=0;t<7;t++){var q=(t+h)%7;A+="<th"+((t+h+6)%7>=5?' class="ui-datepicker-week-end"':"")+'><span title="'+r[q]+'">'+s[q]+"</span></th>"}x+=A+"</tr></thead><tbody>";A=this._getDaysInMonth(m,g);if(m==a.selectedYear&&g==a.selectedMonth){a.selectedDay=Math.min(a.selectedDay,A)}t=(this._getFirstDayOfMonth(m,g)-h+7)%7;A=l?6:Math.ceil((t+A)/7);q=this._daylightSavingAdjust(new Date(m,g,1-t));for(var O=0;O<A;O++){x+="<tr>";var P=!j?"":'<td class="ui-datepicker-week-col">'+this._get(a,"calculateWeek")(q)+"</td>";for(t=0;t<7;t++){var F=p?p.apply(a.input?a.input[0]:null,[q]):[true,""],B=q.getMonth()!=g,J=B&&!H||!F[0]||k&&q<k||o&&q>o;P+='<td class="'+((t+h+6)%7>=5?" ui-datepicker-week-end":"")+(B?" ui-datepicker-other-month":"")+(q.getTime()==N.getTime()&&g==a.selectedMonth&&a._keyEvent||L.getTime()==q.getTime()&&L.getTime()==N.getTime()?" "+this._dayOverClass:"")+(J?" "+this._unselectableClass+" ui-state-disabled":"")+(B&&!v?"":" "+F[1]+(q.getTime()==u.getTime()?" "+this._currentClass:"")+(q.getTime()==b.getTime()?" ui-datepicker-today":""))+'"'+((!B||v)&&F[2]?' title="'+F[2]+'"':"")+(J?"":' onclick="DP_jQuery_'+y+".datepicker._selectDay('#"+a.id+"',"+q.getMonth()+","+q.getFullYear()+', this);return false;"')+">"+(B&&!v?"&#xa0;":J?'<span class="ui-state-default">'+q.getDate()+"</span>":'<a class="ui-state-default'+(q.getTime()==b.getTime()?" ui-state-highlight":"")+(q.getTime()==u.getTime()?" ui-state-active":"")+(B?" ui-priority-secondary":"")+'" href="#">'+q.getDate()+"</a>")+"</td>";q.setDate(q.getDate()+1);q=this._daylightSavingAdjust(q)}x+=P+"</tr>"}g++;if(g>11){g=0;m++}x+="</tbody></table>"+(l?"</div>"+(i[0]>0&&D==i[1]-1?'<div class="ui-datepicker-row-break"></div>':""):"");M+=x}I+=M}I+=e+(d.browser.msie&&parseInt(d.browser.version,10)<7&&!a.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':"");a._keyEvent=false;return I},_generateMonthYearHeader:function(a,b,c,e,f,h,i,g){var j=this._get(a,"changeMonth"),l=this._get(a,"changeYear"),u=this._get(a,"showMonthAfterYear"),k='<div class="ui-datepicker-title">',o="";if(h||!j){o+='<span class="ui-datepicker-month">'+i[b]+"</span>"}else{i=e&&e.getFullYear()==c;var m=f&&f.getFullYear()==c;o+='<select class="ui-datepicker-month" onchange="DP_jQuery_'+y+".datepicker._selectMonthYear('#"+a.id+"', this, 'M');\" onclick=\"DP_jQuery_"+y+".datepicker._clickMonthYear('#"+a.id+"');\">";for(var n=0;n<12;n++){if((!i||n>=e.getMonth())&&(!m||n<=f.getMonth())){o+='<option value="'+n+'"'+(n==b?' selected="selected"':"")+">"+g[n]+"</option>"}}o+="</select>"}u||(k+=o+(h||!(j&&l)?"&#xa0;":""));a.yearshtml="";if(h||!l){k+='<span class="ui-datepicker-year">'+c+"</span>"}else{g=this._get(a,"yearRange").split(":");var r=(new Date).getFullYear();i=function(s){s=s.match(/c[+-].*/)?c+parseInt(s.substring(1),10):s.match(/[+-].*/)?r+parseInt(s,10):parseInt(s,10);return isNaN(s)?r:s};b=i(g[0]);g=Math.max(b,i(g[1]||""));b=e?Math.max(b,e.getFullYear()):b;g=f?Math.min(g,f.getFullYear()):g;for(a.yearshtml+='<select class="ui-datepicker-year" onchange="DP_jQuery_'+y+".datepicker._selectMonthYear('#"+a.id+"', this, 'Y');\" onclick=\"DP_jQuery_"+y+".datepicker._clickMonthYear('#"+a.id+"');\">";b<=g;b++){a.yearshtml+='<option value="'+b+'"'+(b==c?' selected="selected"':"")+">"+b+"</option>"}a.yearshtml+="</select>";if(d.browser.mozilla){k+='<select class="ui-datepicker-year"><option value="'+c+'" selected="selected">'+c+"</option></select>"}else{k+=a.yearshtml;a.yearshtml=null}}k+=this._get(a,"yearSuffix");if(u){k+=(h||!(j&&l)?"&#xa0;":"")+o}k+="</div>";return k},_adjustInstDate:function(a,b,c){var e=a.drawYear+(c=="Y"?b:0),f=a.drawMonth+(c=="M"?b:0);b=Math.min(a.selectedDay,this._getDaysInMonth(e,f))+(c=="D"?b:0);e=this._restrictMinMax(a,this._daylightSavingAdjust(new Date(e,f,b)));a.selectedDay=e.getDate();a.drawMonth=a.selectedMonth=e.getMonth();a.drawYear=a.selectedYear=e.getFullYear();if(c=="M"||c=="Y"){this._notifyChange(a)}},_restrictMinMax:function(a,b){var c=this._getMinMaxDate(a,"min");a=this._getMinMaxDate(a,"max");b=c&&b<c?c:b;return b=a&&b>a?a:b},_notifyChange:function(a){var b=this._get(a,"onChangeMonthYear");if(b){b.apply(a.input?a.input[0]:null,[a.selectedYear,a.selectedMonth+1,a])}},_getNumberOfMonths:function(a){a=this._get(a,"numberOfMonths");return a==null?[1,1]:typeof a=="number"?[1,a]:a},_getMinMaxDate:function(a,b){return this._determineDate(a,this._get(a,b+"Date"),null)},_getDaysInMonth:function(a,b){return 32-(new Date(a,b,32)).getDate()},_getFirstDayOfMonth:function(a,b){return(new Date(a,b,1)).getDay()},_canAdjustMonth:function(a,b,c,e){var f=this._getNumberOfMonths(a);c=this._daylightSavingAdjust(new Date(c,e+(b<0?b:f[0]*f[1]),1));b<0&&c.setDate(this._getDaysInMonth(c.getFullYear(),c.getMonth()));return this._isInRange(a,c)},_isInRange:function(a,b){var c=this._getMinMaxDate(a,"min");a=this._getMinMaxDate(a,"max");return(!c||b.getTime()>=c.getTime())&&(!a||b.getTime()<=a.getTime())},_getFormatConfig:function(a){var b=this._get(a,"shortYearCutoff");b=typeof b!="string"?b:(new Date).getFullYear()%100+parseInt(b,10);return{shortYearCutoff:b,dayNamesShort:this._get(a,"dayNamesShort"),dayNames:this._get(a,"dayNames"),monthNamesShort:this._get(a,"monthNamesShort"),monthNames:this._get(a,"monthNames")}},_formatDate:function(a,b,c,e){if(!b){a.currentDay=a.selectedDay;a.currentMonth=a.selectedMonth;a.currentYear=a.selectedYear}b=b?typeof b=="object"?b:this._daylightSavingAdjust(new Date(e,c,b)):this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return this.formatDate(this._get(a,"dateFormat"),b,this._getFormatConfig(a))}});d.fn.datepicker=function(a){if(!d.datepicker.initialized){d(document).mousedown(d.datepicker._checkExternalClick).find("body").append(d.datepicker.dpDiv);d.datepicker.initialized=true}var b=Array.prototype.slice.call(arguments,1);if(typeof a=="string"&&(a=="isDisabled"||a=="getDate"||a=="widget")){return d.datepicker["_"+a+"Datepicker"].apply(d.datepicker,[this[0]].concat(b))}if(a=="option"&&arguments.length==2&&typeof arguments[1]=="string"){return d.datepicker["_"+a+"Datepicker"].apply(d.datepicker,[this[0]].concat(b))}return this.each(function(){typeof a=="string"?d.datepicker["_"+a+"Datepicker"].apply(d.datepicker,[this].concat(b)):d.datepicker._attachDatepicker(this,a)})};d.datepicker=new K;d.datepicker.initialized=false;d.datepicker.uuid=(new Date).getTime();d.datepicker.version="1.8.9";window["DP_jQuery_"+y]=d})(jQuery);(function(a,c){a.widget("ui.progressbar",{options:{value:0,max:100},min:0,_create:function(){this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min,"aria-valuemax":this.options.max,"aria-valuenow":this._value()});this.valueDiv=a("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element);this.oldValue=this._value();this._refreshValue()},destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");this.valueDiv.remove();a.Widget.prototype.destroy.apply(this,arguments)},value:function(b){if(b===c){return this._value()}this._setOption("value",b);return this},_setOption:function(b,d){if(b==="value"){this.options.value=d;this._refreshValue();this._value()===this.options.max&&this._trigger("complete")}a.Widget.prototype._setOption.apply(this,arguments)},_value:function(){var b=this.options.value;if(typeof b!=="number"){b=0}return Math.min(this.options.max,Math.max(this.min,b))},_percentage:function(){return 100*this._value()/this.options.max},_refreshValue:function(){var b=this.value(),d=this._percentage();if(this.oldValue!==b){this.oldValue=b;this._trigger("change")}this.valueDiv.toggleClass("ui-corner-right",b===this.options.max).width(d.toFixed(0)+"%");this.element.attr("aria-valuenow",b)}});a.extend(a.ui.progressbar,{version:"1.8.9"})})(jQuery);jQuery.effects||function(v,l){function e(j){var f;if(j&&j.constructor==Array&&j.length==3){return j}if(f=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(j)){return[parseInt(f[1],10),parseInt(f[2],10),parseInt(f[3],10)]}if(f=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(j)){return[parseFloat(f[1])*2.55,parseFloat(f[2])*2.55,parseFloat(f[3])*2.55]}if(f=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(j)){return[parseInt(f[1],16),parseInt(f[2],16),parseInt(f[3],16)]}if(f=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(j)){return[parseInt(f[1]+f[1],16),parseInt(f[2]+f[2],16),parseInt(f[3]+f[3],16)]}if(/rgba\(0, 0, 0, 0\)/.exec(j)){return d.transparent}return d[v.trim(j).toLowerCase()]}function y(k,j){var f;do{f=v.curCSS(k,j);if(f!=""&&f!="transparent"||v.nodeName(k,"body")){break}j="backgroundColor"}while(k=k.parentNode);return e(f)}function c(){var n=document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle,j={},f,m;if(n&&n.length&&n[0]&&n[n[0]]){for(var k=n.length;k--;){f=n[k];if(typeof n[f]=="string"){m=f.replace(/\-(\w)/g,function(p,o){return o.toUpperCase()});j[m]=n[f]}}}else{for(f in n){if(typeof n[f]==="string"){j[f]=n[f]}}}return j}function b(k){var j,f;for(j in k){f=k[j];if(f==null||v.isFunction(f)||j in x||/scrollbar/.test(j)||!/color/i.test(j)&&isNaN(parseFloat(f))){delete k[j]}}return k}function w(m,j){var f={_:0},k;for(k in j){if(m[k]!=j[k]){f[k]=j[k]}}return f}function h(m,j,f,k){if(typeof m=="object"){k=j;f=null;j=m;m=j.effect}if(v.isFunction(j)){k=j;f=null;j={}}if(typeof j=="number"||v.fx.speeds[j]){k=f;f=j;j={}}if(v.isFunction(f)){k=f;f=null}j=j||{};f=f||j.duration;f=v.fx.off?0:typeof f=="number"?f:f in v.fx.speeds?v.fx.speeds[f]:v.fx.speeds._default;k=k||j.complete;return[m,j,f,k]}function g(f){if(!f||typeof f==="number"||v.fx.speeds[f]){return true}if(typeof f==="string"&&!v.effects[f]){return true}return false}v.effects={};v.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","borderColor","color","outlineColor"],function(j,f){v.fx.step[f]=function(k){if(!k.colorInit){k.start=y(k.elem,f);k.end=e(k.end);k.colorInit=true}k.elem.style[f]="rgb("+Math.max(Math.min(parseInt(k.pos*(k.end[0]-k.start[0])+k.start[0],10),255),0)+","+Math.max(Math.min(parseInt(k.pos*(k.end[1]-k.start[1])+k.start[1],10),255),0)+","+Math.max(Math.min(parseInt(k.pos*(k.end[2]-k.start[2])+k.start[2],10),255),0)+")"}});var d={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]},a=["add","remove","toggle"],x={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};v.effects.animateClass=function(m,j,f,k){if(v.isFunction(f)){k=f;f=null}return this.queue("fx",function(){var r=v(this),q=r.attr("style")||" ",p=b(c.call(this)),n,o=r.attr("className");v.each(a,function(s,u){m[u]&&r[u+"Class"](m[u])});n=b(c.call(this));r.attr("className",o);r.animate(w(p,n),j,f,function(){v.each(a,function(s,u){m[u]&&r[u+"Class"](m[u])});if(typeof r.attr("style")=="object"){r.attr("style").cssText="";r.attr("style").cssText=q}else{r.attr("style",q)}k&&k.apply(this,arguments)});p=v.queue(this);n=p.splice(p.length-1,1)[0];p.splice(1,0,n);v.dequeue(this)})};v.fn.extend({_addClass:v.fn.addClass,addClass:function(m,j,f,k){return j?v.effects.animateClass.apply(this,[{add:m},j,f,k]):this._addClass(m)},_removeClass:v.fn.removeClass,removeClass:function(m,j,f,k){return j?v.effects.animateClass.apply(this,[{remove:m},j,f,k]):this._removeClass(m)},_toggleClass:v.fn.toggleClass,toggleClass:function(n,j,f,m,k){return typeof j=="boolean"||j===l?f?v.effects.animateClass.apply(this,[j?{add:n}:{remove:n},f,m,k]):this._toggleClass(n,j):v.effects.animateClass.apply(this,[{toggle:n},j,f,m])},switchClass:function(n,j,f,m,k){return v.effects.animateClass.apply(this,[{add:j,remove:n},f,m,k])}});v.extend(v.effects,{version:"1.8.9",save:function(k,j){for(var f=0;f<j.length;f++){j[f]!==null&&k.data("ec.storage."+j[f],k[0].style[j[f]])}},restore:function(k,j){for(var f=0;f<j.length;f++){j[f]!==null&&k.css(j[f],k.data("ec.storage."+j[f]))}},setMode:function(j,f){if(f=="toggle"){f=j.is(":hidden")?"show":"hide"}return f},getBaseline:function(k,j){var f;switch(k[0]){case"top":f=0;break;case"middle":f=0.5;break;case"bottom":f=1;break;default:f=k[0]/j.height}switch(k[1]){case"left":k=0;break;case"center":k=0.5;break;case"right":k=1;break;default:k=k[1]/j.width}return{x:k,y:f}},createWrapper:function(k){if(k.parent().is(".ui-effects-wrapper")){return k.parent()}var j={width:k.outerWidth(true),height:k.outerHeight(true),"float":k.css("float")},f=v("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0});k.wrap(f);f=k.parent();if(k.css("position")=="static"){f.css({position:"relative"});k.css({position:"relative"})}else{v.extend(j,{position:k.css("position"),zIndex:k.css("z-index")});v.each(["top","left","bottom","right"],function(n,m){j[m]=k.css(m);if(isNaN(parseInt(j[m],10))){j[m]="auto"}});k.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})}return f.css(j).show()},removeWrapper:function(f){if(f.parent().is(".ui-effects-wrapper")){return f.parent().replaceWith(f)}return f},setTransition:function(m,j,f,k){k=k||{};v.each(j,function(o,n){unit=m.cssUnit(n);if(unit[0]>0){k[n]=unit[0]*f+unit[1]}});return k}});v.fn.extend({effect:function(m){var j=h.apply(this,arguments),f={options:j[1],duration:j[2],callback:j[3]};j=f.options.mode;var k=v.effects[m];if(v.fx.off||!k){return j?this[j](f.duration,f.callback):this.each(function(){f.callback&&f.callback.call(this)})}return k.call(this,f)},_show:v.fn.show,show:function(j){if(g(j)){return this._show.apply(this,arguments)}else{var f=h.apply(this,arguments);f[1].mode="show";return this.effect.apply(this,f)}},_hide:v.fn.hide,hide:function(j){if(g(j)){return this._hide.apply(this,arguments)}else{var f=h.apply(this,arguments);f[1].mode="hide";return this.effect.apply(this,f)}},__toggle:v.fn.toggle,toggle:function(j){if(g(j)||typeof j==="boolean"||v.isFunction(j)){return this.__toggle.apply(this,arguments)}else{var f=h.apply(this,arguments);f[1].mode="toggle";return this.effect.apply(this,f)}},cssUnit:function(k){var j=this.css(k),f=[];v.each(["em","px","%","pt"],function(n,m){if(j.indexOf(m)>0){f=[parseFloat(j),m]}});return f}});v.easing.jswing=v.easing.swing;v.extend(v.easing,{def:"easeOutQuad",swing:function(n,j,f,m,k){return v.easing[v.easing.def](n,j,f,m,k)},easeInQuad:function(n,j,f,m,k){return m*(j/=k)*j+f},easeOutQuad:function(n,j,f,m,k){return -m*(j/=k)*(j-2)+f},easeInOutQuad:function(n,j,f,m,k){if((j/=k/2)<1){return m/2*j*j+f}return -m/2*(--j*(j-2)-1)+f},easeInCubic:function(n,j,f,m,k){return m*(j/=k)*j*j+f},easeOutCubic:function(n,j,f,m,k){return m*((j=j/k-1)*j*j+1)+f},easeInOutCubic:function(n,j,f,m,k){if((j/=k/2)<1){return m/2*j*j*j+f}return m/2*((j-=2)*j*j+2)+f},easeInQuart:function(n,j,f,m,k){return m*(j/=k)*j*j*j+f},easeOutQuart:function(n,j,f,m,k){return -m*((j=j/k-1)*j*j*j-1)+f},easeInOutQuart:function(n,j,f,m,k){if((j/=k/2)<1){return m/2*j*j*j*j+f}return -m/2*((j-=2)*j*j*j-2)+f},easeInQuint:function(n,j,f,m,k){return m*(j/=k)*j*j*j*j+f},easeOutQuint:function(n,j,f,m,k){return m*((j=j/k-1)*j*j*j*j+1)+f},easeInOutQuint:function(n,j,f,m,k){if((j/=k/2)<1){return m/2*j*j*j*j*j+f}return m/2*((j-=2)*j*j*j*j+2)+f},easeInSine:function(n,j,f,m,k){return -m*Math.cos(j/k*(Math.PI/2))+m+f},easeOutSine:function(n,j,f,m,k){return m*Math.sin(j/k*(Math.PI/2))+f},easeInOutSine:function(n,j,f,m,k){return -m/2*(Math.cos(Math.PI*j/k)-1)+f},easeInExpo:function(n,j,f,m,k){return j==0?f:m*Math.pow(2,10*(j/k-1))+f},easeOutExpo:function(n,j,f,m,k){return j==k?f+m:m*(-Math.pow(2,-10*j/k)+1)+f},easeInOutExpo:function(n,j,f,m,k){if(j==0){return f}if(j==k){return f+m}if((j/=k/2)<1){return m/2*Math.pow(2,10*(j-1))+f}return m/2*(-Math.pow(2,-10*--j)+2)+f},easeInCirc:function(n,j,f,m,k){return -m*(Math.sqrt(1-(j/=k)*j)-1)+f},easeOutCirc:function(n,j,f,m,k){return m*Math.sqrt(1-(j=j/k-1)*j)+f},easeInOutCirc:function(n,j,f,m,k){if((j/=k/2)<1){return -m/2*(Math.sqrt(1-j*j)-1)+f}return m/2*(Math.sqrt(1-(j-=2)*j)+1)+f},easeInElastic:function(p,j,f,o,n){p=1.70158;var m=0,k=o;if(j==0){return f}if((j/=n)==1){return f+o}m||(m=n*0.3);if(k<Math.abs(o)){k=o;p=m/4}else{p=m/(2*Math.PI)*Math.asin(o/k)}return -(k*Math.pow(2,10*(j-=1))*Math.sin((j*n-p)*2*Math.PI/m))+f},easeOutElastic:function(p,j,f,o,n){p=1.70158;var m=0,k=o;if(j==0){return f}if((j/=n)==1){return f+o}m||(m=n*0.3);if(k<Math.abs(o)){k=o;p=m/4}else{p=m/(2*Math.PI)*Math.asin(o/k)}return k*Math.pow(2,-10*j)*Math.sin((j*n-p)*2*Math.PI/m)+o+f},easeInOutElastic:function(p,j,f,o,n){p=1.70158;var m=0,k=o;if(j==0){return f}if((j/=n/2)==2){return f+o}m||(m=n*0.3*1.5);if(k<Math.abs(o)){k=o;p=m/4}else{p=m/(2*Math.PI)*Math.asin(o/k)}if(j<1){return -0.5*k*Math.pow(2,10*(j-=1))*Math.sin((j*n-p)*2*Math.PI/m)+f}return k*Math.pow(2,-10*(j-=1))*Math.sin((j*n-p)*2*Math.PI/m)*0.5+o+f},easeInBack:function(o,j,f,n,m,k){if(k==l){k=1.70158}return n*(j/=m)*j*((k+1)*j-k)+f},easeOutBack:function(o,j,f,n,m,k){if(k==l){k=1.70158}return n*((j=j/m-1)*j*((k+1)*j+k)+1)+f},easeInOutBack:function(o,j,f,n,m,k){if(k==l){k=1.70158}if((j/=m/2)<1){return n/2*j*j*(((k*=1.525)+1)*j-k)+f}return n/2*((j-=2)*j*(((k*=1.525)+1)*j+k)+2)+f},easeInBounce:function(n,j,f,m,k){return m-v.easing.easeOutBounce(n,k-j,0,m,k)+f},easeOutBounce:function(n,j,f,m,k){return(j/=k)<1/2.75?m*7.5625*j*j+f:j<2/2.75?m*(7.5625*(j-=1.5/2.75)*j+0.75)+f:j<2.5/2.75?m*(7.5625*(j-=2.25/2.75)*j+0.9375)+f:m*(7.5625*(j-=2.625/2.75)*j+0.984375)+f},easeInOutBounce:function(n,j,f,m,k){if(j<k/2){return v.easing.easeInBounce(n,j*2,0,m,k)*0.5+f}return v.easing.easeOutBounce(n,j*2-k,0,m,k)*0.5+m*0.5+f}})}(jQuery);(function(a){a.effects.blind=function(b){return this.queue(function(){var c=a(this),l=["position","top","bottom","left","right"],m=a.effects.setMode(c,b.options.mode||"hide"),o=b.options.direction||"vertical";a.effects.save(c,l);c.show();var n=a.effects.createWrapper(c).css({overflow:"hidden"}),k=o=="vertical"?"height":"width";o=o=="vertical"?n.height():n.width();m=="show"&&n.css(k,0);var j={};j[k]=m=="show"?o:0;n.animate(j,b.duration,b.options.easing,function(){m=="hide"&&c.hide();a.effects.restore(c,l);a.effects.removeWrapper(c);b.callback&&b.callback.apply(c[0],arguments);c.dequeue()})})}})(jQuery);(function(a){a.effects.bounce=function(c){return this.queue(function(){var w=a(this),e=["position","top","bottom","left","right"],q=a.effects.setMode(w,c.options.mode||"effect"),u=c.options.direction||"up",v=c.options.distance||20,b=c.options.times||5,p=c.duration||250;/show|hide/.test(q)&&e.push("opacity");a.effects.save(w,e);w.show();a.effects.createWrapper(w);var s=u=="up"||u=="down"?"top":"left";u=u=="up"||u=="left"?"pos":"neg";v=c.options.distance||(s=="top"?w.outerHeight({margin:true})/3:w.outerWidth({margin:true})/3);if(q=="show"){w.css("opacity",0).css(s,u=="pos"?-v:v)}if(q=="hide"){v/=b*2}q!="hide"&&b--;if(q=="show"){var r={opacity:1};r[s]=(u=="pos"?"+=":"-=")+v;w.animate(r,p/2,c.options.easing);v/=2;b--}for(r=0;r<b;r++){var o={},n={};o[s]=(u=="pos"?"-=":"+=")+v;n[s]=(u=="pos"?"+=":"-=")+v;w.animate(o,p/2,c.options.easing).animate(n,p/2,c.options.easing);v=q=="hide"?v*2:v/2}if(q=="hide"){r={opacity:0};r[s]=(u=="pos"?"-=":"+=")+v;w.animate(r,p/2,c.options.easing,function(){w.hide();a.effects.restore(w,e);a.effects.removeWrapper(w);c.callback&&c.callback.apply(this,arguments)})}else{o={};n={};o[s]=(u=="pos"?"-=":"+=")+v;n[s]=(u=="pos"?"+=":"-=")+v;w.animate(o,p/2,c.options.easing).animate(n,p/2,c.options.easing,function(){a.effects.restore(w,e);a.effects.removeWrapper(w);c.callback&&c.callback.apply(this,arguments)})}w.queue("fx",function(){w.dequeue()});w.dequeue()})}})(jQuery);(function(a){a.effects.clip=function(b){return this.queue(function(){var e=a(this),j=["position","top","bottom","left","right","height","width"],m=a.effects.setMode(e,b.options.mode||"hide"),o=b.options.direction||"vertical";a.effects.save(e,j);e.show();var n=a.effects.createWrapper(e).css({overflow:"hidden"});n=e[0].tagName=="IMG"?n:e;var l={size:o=="vertical"?"height":"width",position:o=="vertical"?"top":"left"};o=o=="vertical"?n.height():n.width();if(m=="show"){n.css(l.size,0);n.css(l.position,o/2)}var k={};k[l.size]=m=="show"?o:0;k[l.position]=m=="show"?0:o/2;n.animate(k,{queue:false,duration:b.duration,easing:b.options.easing,complete:function(){m=="hide"&&e.hide();a.effects.restore(e,j);a.effects.removeWrapper(e);b.callback&&b.callback.apply(e[0],arguments);e.dequeue()}})})}})(jQuery);(function(a){a.effects.drop=function(b){return this.queue(function(){var d=a(this),k=["position","top","bottom","left","right","opacity"],n=a.effects.setMode(d,b.options.mode||"hide"),c=b.options.direction||"left";a.effects.save(d,k);d.show();a.effects.createWrapper(d);var m=c=="up"||c=="down"?"top":"left";c=c=="up"||c=="left"?"pos":"neg";var l=b.options.distance||(m=="top"?d.outerHeight({margin:true})/2:d.outerWidth({margin:true})/2);if(n=="show"){d.css("opacity",0).css(m,c=="pos"?-l:l)}var j={opacity:n=="show"?1:0};j[m]=(n=="show"?c=="pos"?"+=":"-=":c=="pos"?"-=":"+=")+l;d.animate(j,{queue:false,duration:b.duration,easing:b.options.easing,complete:function(){n=="hide"&&d.hide();a.effects.restore(d,k);a.effects.removeWrapper(d);b.callback&&b.callback.apply(this,arguments);d.dequeue()}})})}})(jQuery);(function(a){a.effects.explode=function(b){return this.queue(function(){var q=b.options.pieces?Math.round(Math.sqrt(b.options.pieces)):3,p=b.options.pieces?Math.round(Math.sqrt(b.options.pieces)):3;b.options.mode=b.options.mode=="toggle"?a(this).is(":visible")?"hide":"show":b.options.mode;var j=a(this).show().css("visibility","hidden"),m=j.offset();m.top-=parseInt(j.css("marginTop"),10)||0;m.left-=parseInt(j.css("marginLeft"),10)||0;for(var l=j.outerWidth(true),k=j.outerHeight(true),o=0;o<q;o++){for(var n=0;n<p;n++){j.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-n*(l/p),top:-o*(k/q)}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:l/p,height:k/q,left:m.left+n*(l/p)+(b.options.mode=="show"?(n-Math.floor(p/2))*(l/p):0),top:m.top+o*(k/q)+(b.options.mode=="show"?(o-Math.floor(q/2))*(k/q):0),opacity:b.options.mode=="show"?0:1}).animate({left:m.left+n*(l/p)+(b.options.mode=="show"?0:(n-Math.floor(p/2))*(l/p)),top:m.top+o*(k/q)+(b.options.mode=="show"?0:(o-Math.floor(q/2))*(k/q)),opacity:b.options.mode=="show"?1:0},b.duration||500)}}setTimeout(function(){b.options.mode=="show"?j.css({visibility:"visible"}):j.css({visibility:"visible"}).hide();b.callback&&b.callback.apply(j[0]);j.dequeue();a("div.ui-effects-explode").remove()},b.duration||500)})}})(jQuery);(function(a){a.effects.fade=function(b){return this.queue(function(){var f=a(this),e=a.effects.setMode(f,b.options.mode||"hide");f.animate({opacity:e},{queue:false,duration:b.duration,easing:b.options.easing,complete:function(){b.callback&&b.callback.apply(this,arguments);f.dequeue()}})})}})(jQuery);(function(a){a.effects.fold=function(b){return this.queue(function(){var v=a(this),n=["position","top","bottom","left","right"],u=a.effects.setMode(v,b.options.mode||"hide"),q=b.options.size||15,p=!!b.options.horizFirst,m=b.duration?b.duration/2:a.fx.speeds._default/2;a.effects.save(v,n);v.show();var s=a.effects.createWrapper(v).css({overflow:"hidden"}),r=u=="show"!=p,c=r?["width","height"]:["height","width"];r=r?[s.width(),s.height()]:[s.height(),s.width()];var o=/([0-9]+)%/.exec(q);if(o){q=parseInt(o[1],10)/100*r[u=="hide"?0:1]}if(u=="show"){s.css(p?{height:0,width:q}:{height:q,width:0})}p={};o={};p[c[0]]=u=="show"?r[0]:q;o[c[1]]=u=="show"?r[1]:0;s.animate(p,m,b.options.easing).animate(o,m,b.options.easing,function(){u=="hide"&&v.hide();a.effects.restore(v,n);a.effects.removeWrapper(v);b.callback&&b.callback.apply(v[0],arguments);v.dequeue()})})}})(jQuery);(function(a){a.effects.highlight=function(b){return this.queue(function(){var c=a(this),h=["backgroundImage","backgroundColor","opacity"],j=a.effects.setMode(c,b.options.mode||"show"),g={backgroundColor:c.css("backgroundColor")};if(j=="hide"){g.opacity=0}a.effects.save(c,h);c.show().css({backgroundImage:"none",backgroundColor:b.options.color||"#ffff99"}).animate(g,{queue:false,duration:b.duration,easing:b.options.easing,complete:function(){j=="hide"&&c.hide();a.effects.restore(c,h);j=="show"&&!a.support.opacity&&this.style.removeAttribute("filter");b.callback&&b.callback.apply(this,arguments);c.dequeue()}})})}})(jQuery);(function(a){a.effects.pulsate=function(b){return this.queue(function(){var d=a(this),e=a.effects.setMode(d,b.options.mode||"show");times=(b.options.times||5)*2-1;duration=b.duration?b.duration/2:a.fx.speeds._default/2;isVisible=d.is(":visible");animateTo=0;if(!isVisible){d.css("opacity",0).show();animateTo=1}if(e=="hide"&&isVisible||e=="show"&&!isVisible){times--}for(e=0;e<times;e++){d.animate({opacity:animateTo},duration,b.options.easing);animateTo=(animateTo+1)%2}d.animate({opacity:animateTo},duration,b.options.easing,function(){animateTo==0&&d.hide();b.callback&&b.callback.apply(this,arguments)});d.queue("fx",function(){d.dequeue()}).dequeue()})}})(jQuery);(function(a){a.effects.puff=function(c){return this.queue(function(){var b=a(this),k=a.effects.setMode(b,c.options.mode||"hide"),j=parseInt(c.options.percent,10)||150,f=j/100,d={height:b.height(),width:b.width()};a.extend(c.options,{fade:true,mode:k,percent:k=="hide"?j:100,from:k=="hide"?d:{height:d.height*f,width:d.width*f}});b.effect("scale",c.options,c.duration,c.callback);b.dequeue()})};a.effects.scale=function(c){return this.queue(function(){var b=a(this),m=a.extend(true,{},c.options),k=a.effects.setMode(b,c.options.mode||"effect"),j=parseInt(c.options.percent,10)||(parseInt(c.options.percent,10)==0?0:k=="hide"?0:100),d=c.options.direction||"both",l=c.options.origin;if(k!="effect"){m.origin=l||["middle","center"];m.restore=true}l={height:b.height(),width:b.width()};b.from=c.options.from||(k=="show"?{height:0,width:0}:l);j={y:d!="horizontal"?j/100:1,x:d!="vertical"?j/100:1};b.to={height:l.height*j.y,width:l.width*j.x};if(c.options.fade){if(k=="show"){b.from.opacity=0;b.to.opacity=1}if(k=="hide"){b.from.opacity=1;b.to.opacity=0}}m.from=b.from;m.to=b.to;m.mode=k;b.effect("size",m,c.duration,c.callback);b.dequeue()})};a.effects.size=function(c){return this.queue(function(){var B=a(this),z=["position","top","bottom","left","right","width","height","overflow","opacity"],x=["position","top","bottom","left","right","overflow","opacity"],w=["width","height","overflow"],v=["fontSize"],y=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],s=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],b=a.effects.setMode(B,c.options.mode||"effect"),o=c.options.restore||false,q=c.options.scale||"both",r=c.options.origin,u={height:B.height(),width:B.width()};B.from=c.options.from||u;B.to=c.options.to||u;if(r){r=a.effects.getBaseline(r,u);B.from.top=(u.height-B.from.height)*r.y;B.from.left=(u.width-B.from.width)*r.x;B.to.top=(u.height-B.to.height)*r.y;B.to.left=(u.width-B.to.width)*r.x}var A={from:{y:B.from.height/u.height,x:B.from.width/u.width},to:{y:B.to.height/u.height,x:B.to.width/u.width}};if(q=="box"||q=="both"){if(A.from.y!=A.to.y){z=z.concat(y);B.from=a.effects.setTransition(B,y,A.from.y,B.from);B.to=a.effects.setTransition(B,y,A.to.y,B.to)}if(A.from.x!=A.to.x){z=z.concat(s);B.from=a.effects.setTransition(B,s,A.from.x,B.from);B.to=a.effects.setTransition(B,s,A.to.x,B.to)}}if(q=="content"||q=="both"){if(A.from.y!=A.to.y){z=z.concat(v);B.from=a.effects.setTransition(B,v,A.from.y,B.from);B.to=a.effects.setTransition(B,v,A.to.y,B.to)}}a.effects.save(B,o?z:x);B.show();a.effects.createWrapper(B);B.css("overflow","hidden").css(B.from);if(q=="content"||q=="both"){y=y.concat(["marginTop","marginBottom"]).concat(v);s=s.concat(["marginLeft","marginRight"]);w=z.concat(y).concat(s);B.find("*[width]").each(function(){child=a(this);o&&a.effects.save(child,w);var d={height:child.height(),width:child.width()};child.from={height:d.height*A.from.y,width:d.width*A.from.x};child.to={height:d.height*A.to.y,width:d.width*A.to.x};if(A.from.y!=A.to.y){child.from=a.effects.setTransition(child,y,A.from.y,child.from);child.to=a.effects.setTransition(child,y,A.to.y,child.to)}if(A.from.x!=A.to.x){child.from=a.effects.setTransition(child,s,A.from.x,child.from);child.to=a.effects.setTransition(child,s,A.to.x,child.to)}child.css(child.from);child.animate(child.to,c.duration,c.options.easing,function(){o&&a.effects.restore(child,w)})})}B.animate(B.to,{queue:false,duration:c.duration,easing:c.options.easing,complete:function(){B.to.opacity===0&&B.css("opacity",B.from.opacity);b=="hide"&&B.hide();a.effects.restore(B,o?z:x);a.effects.removeWrapper(B);c.callback&&c.callback.apply(this,arguments);B.dequeue()}})})}})(jQuery);(function(a){a.effects.shake=function(b){return this.queue(function(){var v=a(this),n=["position","top","bottom","left","right"];a.effects.setMode(v,b.options.mode||"effect");var u=b.options.direction||"left",s=b.options.distance||20,d=b.options.times||3,r=b.duration||b.options.duration||140;a.effects.save(v,n);v.show();a.effects.createWrapper(v);var q=u=="up"||u=="down"?"top":"left",p=u=="up"||u=="left"?"pos":"neg";u={};var o={},m={};u[q]=(p=="pos"?"-=":"+=")+s;o[q]=(p=="pos"?"+=":"-=")+s*2;m[q]=(p=="pos"?"-=":"+=")+s*2;v.animate(u,r,b.options.easing);for(s=1;s<d;s++){v.animate(o,r,b.options.easing).animate(m,r,b.options.easing)}v.animate(o,r,b.options.easing).animate(u,r/2,b.options.easing,function(){a.effects.restore(v,n);a.effects.removeWrapper(v);b.callback&&b.callback.apply(this,arguments)});v.queue("fx",function(){v.dequeue()});v.dequeue()})}})(jQuery);(function(a){a.effects.slide=function(b){return this.queue(function(){var d=a(this),k=["position","top","bottom","left","right"],m=a.effects.setMode(d,b.options.mode||"show"),c=b.options.direction||"left";a.effects.save(d,k);d.show();a.effects.createWrapper(d).css({overflow:"hidden"});var l=c=="up"||c=="down"?"top":"left";c=c=="up"||c=="left"?"pos":"neg";var n=b.options.distance||(l=="top"?d.outerHeight({margin:true}):d.outerWidth({margin:true}));if(m=="show"){d.css(l,c=="pos"?isNaN(n)?"-"+n:-n:n)}var j={};j[l]=(m=="show"?c=="pos"?"+=":"-=":c=="pos"?"-=":"+=")+n;d.animate(j,{queue:false,duration:b.duration,easing:b.options.easing,complete:function(){m=="hide"&&d.hide();a.effects.restore(d,k);a.effects.removeWrapper(d);b.callback&&b.callback.apply(this,arguments);d.dequeue()}})})}})(jQuery);(function(a){a.effects.transfer=function(b){return this.queue(function(){var e=a(this),j=a(b.options.to),h=j.offset();j={top:h.top,left:h.left,height:j.innerHeight(),width:j.innerWidth()};h=e.offset();var g=a('<div class="ui-effects-transfer"></div>').appendTo(document.body).addClass(b.options.className).css({top:h.top,left:h.left,height:e.innerHeight(),width:e.innerWidth(),position:"absolute"}).animate(j,b.duration,b.options.easing,function(){g.remove();b.callback&&b.callback.apply(e[0],arguments);e.dequeue()})})}})(jQuery);
/*!
 * jQuery blockUI plugin
 * Version 2.38 (29-MAR-2011)
 * @requires jQuery v1.2.3 or later
 *
 * Examples at: http://malsup.com/jquery/block/
 * Copyright (c) 2007-2010 M. Alsup
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 *
 * Thanks to Amir-Hossein Sobhi for some excellent contributions!
 */
(function(j){if(/1\.(0|1|2)\.(0|1|2)/.test(j.fn.jquery)||/^1.1/.test(j.fn.jquery)){alert("blockUI requires jQuery v1.2.3 or later!  You are using v"+j.fn.jquery);return}j.fn._fadeIn=j.fn.fadeIn;var c=function(){};var k=document.documentMode||0;var e=j.browser.msie&&((j.browser.version<8&&!k)||k<8);var f=j.browser.msie&&/MSIE 6.0/.test(navigator.userAgent)&&!k;j.blockUI=function(q){d(window,q)};j.unblockUI=function(q){h(window,q)};j.growlUI=function(v,s,u,q){var r=j('<div class="growlUI"></div>');if(v){r.append("<h1>"+v+"</h1>")}if(s){r.append("<h2>"+s+"</h2>")}if(u==undefined){u=3000}j.blockUI({message:r,fadeIn:700,fadeOut:1000,centerY:false,timeout:u,showOverlay:false,onUnblock:q,css:j.blockUI.defaults.growlCSS})};j.fn.block=function(q){return this.unblock({fadeOut:0}).each(function(){if(j.css(this,"position")=="static"){this.style.position="relative"}if(j.browser.msie){this.style.zoom=1}d(this,q)})};j.fn.unblock=function(q){return this.each(function(){h(this,q)})};j.blockUI.version=2.38;j.blockUI.defaults={message:"<h1>Please wait...</h1>",title:null,draggable:true,theme:false,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:0.6,cursor:"wait"},growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:0.6,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:false,baseZ:1000,centerX:true,centerY:true,allowBodyStretch:true,bindEvents:true,constrainTabKey:true,fadeIn:200,fadeOut:400,timeout:0,showOverlay:true,focusInput:true,applyPlatformOpacityRules:true,onBlock:null,onUnblock:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg"};var b=null;var g=[];function d(u,G){var B=(u==window);var x=G&&G.message!==undefined?G.message:undefined;G=j.extend({},j.blockUI.defaults,G||{});G.overlayCSS=j.extend({},j.blockUI.defaults.overlayCSS,G.overlayCSS||{});var D=j.extend({},j.blockUI.defaults.css,G.css||{});var O=j.extend({},j.blockUI.defaults.themedCSS,G.themedCSS||{});x=x===undefined?G.message:x;if(B&&b){h(window,{fadeOut:0})}if(x&&typeof x!="string"&&(x.parentNode||x.jquery)){var J=x.jquery?x[0]:x;var Q={};j(u).data("blockUI.history",Q);Q.el=J;Q.parent=J.parentNode;Q.display=J.style.display;Q.position=J.style.position;if(Q.parent){Q.parent.removeChild(J)}}var C=G.baseZ;var N=(j.browser.msie||G.forceIframe)?j('<iframe class="blockUI" style="z-index:'+(C++)+';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+G.iframeSrc+'"></iframe>'):j('<div class="blockUI" style="display:none"></div>');var M=G.theme?j('<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+(C++)+';display:none"></div>'):j('<div class="blockUI blockOverlay" style="z-index:'+(C++)+';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"></div>');var L,H;if(G.theme&&B){H='<div class="blockUI '+G.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+C+';display:none;position:fixed"><div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(G.title||"&nbsp;")+'</div><div class="ui-widget-content ui-dialog-content"></div></div>'}else{if(G.theme){H='<div class="blockUI '+G.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+C+';display:none;position:absolute"><div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(G.title||"&nbsp;")+'</div><div class="ui-widget-content ui-dialog-content"></div></div>'}else{if(B){H='<div class="blockUI '+G.blockMsgClass+' blockPage" style="z-index:'+C+';display:none;position:fixed"></div>'}else{H='<div class="blockUI '+G.blockMsgClass+' blockElement" style="z-index:'+C+';display:none;position:absolute"></div>'}}}L=j(H);if(x){if(G.theme){L.css(O);L.addClass("ui-widget-content")}else{L.css(D)}}if(!G.theme&&(!G.applyPlatformOpacityRules||!(j.browser.mozilla&&/Linux/.test(navigator.platform)))){M.css(G.overlayCSS)}M.css("position",B?"fixed":"absolute");if(j.browser.msie||G.forceIframe){N.css("opacity",0)}var A=[N,M,L],P=B?j("body"):j(u);j.each(A,function(){this.appendTo(P)});if(G.theme&&G.draggable&&j.fn.draggable){L.draggable({handle:".ui-dialog-titlebar",cancel:"li"})}var w=e&&(!j.boxModel||j("object,embed",B?null:u).length>0);if(f||w){if(B&&G.allowBodyStretch&&j.boxModel){j("html,body").css("height","100%")}if((f||!j.boxModel)&&!B){var F=n(u,"borderTopWidth"),K=n(u,"borderLeftWidth");var y=F?"(0 - "+F+")":0;var E=K?"(0 - "+K+")":0}j.each([N,M,L],function(z,U){var R=U[0].style;R.position="absolute";if(z<2){B?R.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.boxModel?0:"+G.quirksmodeOffsetHack+') + "px"'):R.setExpression("height",'this.parentNode.offsetHeight + "px"');B?R.setExpression("width",'jQuery.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"'):R.setExpression("width",'this.parentNode.offsetWidth + "px"');if(E){R.setExpression("left",E)}if(y){R.setExpression("top",y)}}else{if(G.centerY){if(B){R.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"')}R.marginTop=0}else{if(!G.centerY&&B){var S=(G.css&&G.css.top)?parseInt(G.css.top):0;var T="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+S+') + "px"';R.setExpression("top",T)}}}})}if(x){if(G.theme){L.find(".ui-widget-content").append(x)}else{L.append(x)}if(x.jquery||x.nodeType){j(x).show()}}if((j.browser.msie||G.forceIframe)&&G.showOverlay){N.show()}if(G.fadeIn){var I=G.onBlock?G.onBlock:c;var r=(G.showOverlay&&!x)?I:c;var q=x?I:c;if(G.showOverlay){M._fadeIn(G.fadeIn,r)}if(x){L._fadeIn(G.fadeIn,q)}}else{if(G.showOverlay){M.show()}if(x){L.show()}if(G.onBlock){G.onBlock()}}m(1,u,G);if(B){b=L[0];g=j(":input:enabled:visible",b);if(G.focusInput){setTimeout(p,20)}}else{a(L[0],G.centerX,G.centerY)}if(G.timeout){var v=setTimeout(function(){B?j.unblockUI(G):j(u).unblock(G)},G.timeout);j(u).data("blockUI.timeout",v)}}function h(u,v){var s=(u==window);var r=j(u);var w=r.data("blockUI.history");var x=r.data("blockUI.timeout");if(x){clearTimeout(x);r.removeData("blockUI.timeout")}v=j.extend({},j.blockUI.defaults,v||{});m(0,u,v);var q;if(s){q=j("body").children().filter(".blockUI").add("body > .blockUI")}else{q=j(".blockUI",u)}if(s){b=g=null}if(v.fadeOut){q.fadeOut(v.fadeOut);setTimeout(function(){l(q,w,v,u)},v.fadeOut)}else{l(q,w,v,u)}}function l(q,u,s,r){q.each(function(v,w){if(this.parentNode){this.parentNode.removeChild(this)}});if(u&&u.el){u.el.style.display=u.display;u.el.style.position=u.position;if(u.parent){u.parent.appendChild(u.el)}j(r).removeData("blockUI.history")}if(typeof s.onUnblock=="function"){s.onUnblock(r,s)}}function m(q,v,w){var u=v==window,s=j(v);if(!q&&(u&&!b||!u&&!s.data("blockUI.isBlocked"))){return}if(!u){s.data("blockUI.isBlocked",q)}if(!w.bindEvents||(q&&!w.showOverlay)){return}var r="mousedown mouseup keydown keypress";q?j(document).bind(r,w,o):j(document).unbind(r,o)}function o(v){if(v.keyCode&&v.keyCode==9){if(b&&v.data.constrainTabKey){var s=g;var r=!v.shiftKey&&v.target===s[s.length-1];var q=v.shiftKey&&v.target===s[0];if(r||q){setTimeout(function(){p(q)},10);return false}}}var u=v.data;if(j(v.target).parents("div."+u.blockMsgClass).length>0){return true}return j(v.target).parents().children().filter("div.blockUI").length==0}function p(q){if(!g){return}var r=g[q===true?g.length-1:0];if(r){r.focus()}}function a(w,q,A){var z=w.parentNode,v=w.style;var r=((z.offsetWidth-w.offsetWidth)/2)-n(z,"borderLeftWidth");var u=((z.offsetHeight-w.offsetHeight)/2)-n(z,"borderTopWidth");if(q){v.left=r>0?(r+"px"):"0"}if(A){v.top=u>0?(u+"px"):"0"}}function n(q,r){return parseInt(j.css(q,r))||0}})(jQuery);jQuery.cookie=function(d,e,b){if(arguments.length>1&&String(e)!=="[object Object]"){b=jQuery.extend({},b);if(e===null||e===undefined){b.expires=-1}if(typeof b.expires==="number"){var g=b.expires,c=b.expires=new Date();c.setDate(c.getDate()+g)}e=String(e);return(document.cookie=[encodeURIComponent(d),"=",b.raw?e:encodeURIComponent(e),b.expires?"; expires="+b.expires.toUTCString():"",b.path?"; path="+b.path:"",b.domain?"; domain="+b.domain:"",b.secure?"; secure":""].join(""))}b=e||{};var a,f=b.raw?function(h){return h}:decodeURIComponent;return(a=new RegExp("(?:^|; )"+encodeURIComponent(d)+"=([^;]*)").exec(document.cookie))?f(a[1]):null};(function($,window,document){$.fn.dataTableSettings=[];var _aoSettings=$.fn.dataTableSettings;$.fn.dataTableExt={};var _oExt=$.fn.dataTableExt;_oExt.sVersion="1.7.5";_oExt.sErrMode="alert";_oExt.iApiIndex=0;_oExt.oApi={};_oExt.afnFiltering=[];_oExt.aoFeatures=[];_oExt.ofnSearch={};_oExt.afnSortData=[];_oExt.oStdClasses={sPagePrevEnabled:"paginate_enabled_previous",sPagePrevDisabled:"paginate_disabled_previous",sPageNextEnabled:"paginate_enabled_next",sPageNextDisabled:"paginate_disabled_next",sPageJUINext:"",sPageJUIPrev:"",sPageButton:"paginate_button",sPageButtonActive:"paginate_active",sPageButtonStaticDisabled:"paginate_button",sPageFirst:"first",sPagePrevious:"previous",sPageNext:"next",sPageLast:"last",sStripOdd:"odd",sStripEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sFooterTH:""};_oExt.oJUIClasses={sPagePrevEnabled:"fg-button ui-button ui-state-default ui-corner-left",sPagePrevDisabled:"fg-button ui-button ui-state-default ui-corner-left ui-state-disabled",sPageNextEnabled:"fg-button ui-button ui-state-default ui-corner-right",sPageNextDisabled:"fg-button ui-button ui-state-default ui-corner-right ui-state-disabled",sPageJUINext:"ui-icon ui-icon-circle-arrow-e",sPageJUIPrev:"ui-icon ui-icon-circle-arrow-w",sPageButton:"fg-button ui-button ui-state-default",sPageButtonActive:"fg-button ui-button ui-state-default ui-state-disabled",sPageButtonStaticDisabled:"fg-button ui-button ui-state-default ui-state-disabled",sPageFirst:"first ui-corner-tl ui-corner-bl",sPagePrevious:"previous",sPageNext:"next",sPageLast:"last ui-corner-tr ui-corner-br",sStripOdd:"odd",sStripEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"ui-state-default",sSortDesc:"ui-state-default",sSortable:"ui-state-default",sSortableAsc:"ui-state-default",sSortableDesc:"ui-state-default",sSortableNone:"ui-state-default",sSortColumn:"sorting_",sSortJUIAsc:"css_right ui-icon ui-icon-triangle-1-n",sSortJUIDesc:"css_right ui-icon ui-icon-triangle-1-s",sSortJUI:"css_right ui-icon ui-icon-carat-2-n-s",sSortJUIAscAllowed:"css_right ui-icon ui-icon-carat-1-n",sSortJUIDescAllowed:"css_right ui-icon ui-icon-carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead ui-state-default",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot ui-state-default",sScrollFootInner:"dataTables_scrollFootInner",sFooterTH:"ui-state-default"};_oExt.oPagination={two_button:{fnInit:function(oSettings,nPaging,fnCallbackDraw){var nPrevious,nNext,nPreviousInner,nNextInner;if(!oSettings.bJUI){nPrevious=document.createElement("div");nNext=document.createElement("div")}else{nPrevious=document.createElement("a");nNext=document.createElement("a");nNextInner=document.createElement("span");nNextInner.className=oSettings.oClasses.sPageJUINext;nNext.appendChild(nNextInner);nPreviousInner=document.createElement("span");nPreviousInner.className=oSettings.oClasses.sPageJUIPrev;nPrevious.appendChild(nPreviousInner)}nPrevious.className=oSettings.oClasses.sPagePrevDisabled;nNext.className=oSettings.oClasses.sPageNextDisabled;nPrevious.title=oSettings.oLanguage.oPaginate.sPrevious;nNext.title=oSettings.oLanguage.oPaginate.sNext;nPaging.appendChild(nPrevious);nPaging.appendChild(nNext);$(nPrevious).click(function(){if(oSettings.oApi._fnPageChange(oSettings,"previous")){fnCallbackDraw(oSettings)}});$(nNext).click(function(){if(oSettings.oApi._fnPageChange(oSettings,"next")){fnCallbackDraw(oSettings)}});$(nPrevious).bind("selectstart",function(){return false});$(nNext).bind("selectstart",function(){return false});if(oSettings.sTableId!==""&&typeof oSettings.aanFeatures.p=="undefined"){nPaging.setAttribute("id",oSettings.sTableId+"_paginate");nPrevious.setAttribute("id",oSettings.sTableId+"_previous");nNext.setAttribute("id",oSettings.sTableId+"_next")}},fnUpdate:function(oSettings,fnCallbackDraw){if(!oSettings.aanFeatures.p){return}var an=oSettings.aanFeatures.p;for(var i=0,iLen=an.length;i<iLen;i++){if(an[i].childNodes.length!==0){an[i].childNodes[0].className=(oSettings._iDisplayStart===0)?oSettings.oClasses.sPagePrevDisabled:oSettings.oClasses.sPagePrevEnabled;an[i].childNodes[1].className=(oSettings.fnDisplayEnd()==oSettings.fnRecordsDisplay())?oSettings.oClasses.sPageNextDisabled:oSettings.oClasses.sPageNextEnabled}}}},iFullNumbersShowPages:5,full_numbers:{fnInit:function(oSettings,nPaging,fnCallbackDraw){var nFirst=document.createElement("span");var nPrevious=document.createElement("span");var nList=document.createElement("span");var nNext=document.createElement("span");var nLast=document.createElement("span");nFirst.innerHTML=oSettings.oLanguage.oPaginate.sFirst;nPrevious.innerHTML=oSettings.oLanguage.oPaginate.sPrevious;nNext.innerHTML=oSettings.oLanguage.oPaginate.sNext;nLast.innerHTML=oSettings.oLanguage.oPaginate.sLast;var oClasses=oSettings.oClasses;nFirst.className=oClasses.sPageButton+" "+oClasses.sPageFirst;nPrevious.className=oClasses.sPageButton+" "+oClasses.sPagePrevious;nNext.className=oClasses.sPageButton+" "+oClasses.sPageNext;nLast.className=oClasses.sPageButton+" "+oClasses.sPageLast;nPaging.appendChild(nFirst);nPaging.appendChild(nPrevious);nPaging.appendChild(nList);nPaging.appendChild(nNext);nPaging.appendChild(nLast);$(nFirst).click(function(){if(oSettings.oApi._fnPageChange(oSettings,"first")){fnCallbackDraw(oSettings)}});$(nPrevious).click(function(){if(oSettings.oApi._fnPageChange(oSettings,"previous")){fnCallbackDraw(oSettings)}});$(nNext).click(function(){if(oSettings.oApi._fnPageChange(oSettings,"next")){fnCallbackDraw(oSettings)}});$(nLast).click(function(){if(oSettings.oApi._fnPageChange(oSettings,"last")){fnCallbackDraw(oSettings)}});$("span",nPaging).bind("mousedown",function(){return false}).bind("selectstart",function(){return false});if(oSettings.sTableId!==""&&typeof oSettings.aanFeatures.p=="undefined"){nPaging.setAttribute("id",oSettings.sTableId+"_paginate");nFirst.setAttribute("id",oSettings.sTableId+"_first");nPrevious.setAttribute("id",oSettings.sTableId+"_previous");nNext.setAttribute("id",oSettings.sTableId+"_next");nLast.setAttribute("id",oSettings.sTableId+"_last")}},fnUpdate:function(oSettings,fnCallbackDraw){if(!oSettings.aanFeatures.p){return}var iPageCount=_oExt.oPagination.iFullNumbersShowPages;var iPageCountHalf=Math.floor(iPageCount/2);var iPages=Math.ceil((oSettings.fnRecordsDisplay())/oSettings._iDisplayLength);var iCurrentPage=Math.ceil(oSettings._iDisplayStart/oSettings._iDisplayLength)+1;var sList="";var iStartButton,iEndButton,i,iLen;var oClasses=oSettings.oClasses;if(iPages<iPageCount){iStartButton=1;iEndButton=iPages}else{if(iCurrentPage<=iPageCountHalf){iStartButton=1;iEndButton=iPageCount}else{if(iCurrentPage>=(iPages-iPageCountHalf)){iStartButton=iPages-iPageCount+1;iEndButton=iPages}else{iStartButton=iCurrentPage-Math.ceil(iPageCount/2)+1;iEndButton=iStartButton+iPageCount-1}}}for(i=iStartButton;i<=iEndButton;i++){if(iCurrentPage!=i){sList+='<span class="'+oClasses.sPageButton+'">'+i+"</span>"}else{sList+='<span class="'+oClasses.sPageButtonActive+'">'+i+"</span>"}}var an=oSettings.aanFeatures.p;var anButtons,anStatic,nPaginateList;var fnClick=function(){var iTarget=(this.innerHTML*1)-1;oSettings._iDisplayStart=iTarget*oSettings._iDisplayLength;fnCallbackDraw(oSettings);return false};var fnFalse=function(){return false};for(i=0,iLen=an.length;i<iLen;i++){if(an[i].childNodes.length===0){continue}var qjPaginateList=$("span:eq(2)",an[i]);qjPaginateList.html(sList);$("span",qjPaginateList).click(fnClick).bind("mousedown",fnFalse).bind("selectstart",fnFalse);anButtons=an[i].getElementsByTagName("span");anStatic=[anButtons[0],anButtons[1],anButtons[anButtons.length-2],anButtons[anButtons.length-1]];$(anStatic).removeClass(oClasses.sPageButton+" "+oClasses.sPageButtonActive+" "+oClasses.sPageButtonStaticDisabled);if(iCurrentPage==1){anStatic[0].className+=" "+oClasses.sPageButtonStaticDisabled;anStatic[1].className+=" "+oClasses.sPageButtonStaticDisabled}else{anStatic[0].className+=" "+oClasses.sPageButton;anStatic[1].className+=" "+oClasses.sPageButton}if(iPages===0||iCurrentPage==iPages||oSettings._iDisplayLength==-1){anStatic[2].className+=" "+oClasses.sPageButtonStaticDisabled;anStatic[3].className+=" "+oClasses.sPageButtonStaticDisabled}else{anStatic[2].className+=" "+oClasses.sPageButton;anStatic[3].className+=" "+oClasses.sPageButton}}}}};_oExt.oSort={"string-asc":function(a,b){var x=a.toLowerCase();var y=b.toLowerCase();return((x<y)?-1:((x>y)?1:0))},"string-desc":function(a,b){var x=a.toLowerCase();var y=b.toLowerCase();return((x<y)?1:((x>y)?-1:0))},"html-asc":function(a,b){var x=a.replace(/<.*?>/g,"").toLowerCase();var y=b.replace(/<.*?>/g,"").toLowerCase();return((x<y)?-1:((x>y)?1:0))},"html-desc":function(a,b){var x=a.replace(/<.*?>/g,"").toLowerCase();var y=b.replace(/<.*?>/g,"").toLowerCase();return((x<y)?1:((x>y)?-1:0))},"date-asc":function(a,b){var x=Date.parse(a);var y=Date.parse(b);if(isNaN(x)||x===""){x=Date.parse("01/01/1970 00:00:00")}if(isNaN(y)||y===""){y=Date.parse("01/01/1970 00:00:00")}return x-y},"date-desc":function(a,b){var x=Date.parse(a);var y=Date.parse(b);if(isNaN(x)||x===""){x=Date.parse("01/01/1970 00:00:00")}if(isNaN(y)||y===""){y=Date.parse("01/01/1970 00:00:00")}return y-x},"numeric-asc":function(a,b){var x=(a=="-"||a==="")?0:a*1;var y=(b=="-"||b==="")?0:b*1;return x-y},"numeric-desc":function(a,b){var x=(a=="-"||a==="")?0:a*1;var y=(b=="-"||b==="")?0:b*1;return y-x}};_oExt.aTypes=[function(sData){if(sData.length===0){return"numeric"}var sValidFirstChars="0123456789-";var sValidChars="0123456789.";var Char;var bDecimal=false;Char=sData.charAt(0);if(sValidFirstChars.indexOf(Char)==-1){return null}for(var i=1;i<sData.length;i++){Char=sData.charAt(i);if(sValidChars.indexOf(Char)==-1){return null}if(Char=="."){if(bDecimal){return null}bDecimal=true}}return"numeric"},function(sData){var iParse=Date.parse(sData);if((iParse!==null&&!isNaN(iParse))||sData.length===0){return"date"}return null},function(sData){if(sData.indexOf("<")!=-1&&sData.indexOf(">")!=-1){return"html"}return null}];_oExt.fnVersionCheck=function(sVersion){var fnZPad=function(Zpad,count){while(Zpad.length<count){Zpad+="0"}return Zpad};var aThis=_oExt.sVersion.split(".");var aThat=sVersion.split(".");var sThis="",sThat="";for(var i=0,iLen=aThat.length;i<iLen;i++){sThis+=fnZPad(aThis[i],3);sThat+=fnZPad(aThat[i],3)}return parseInt(sThis,10)>=parseInt(sThat,10)};_oExt._oExternConfig={iNextUnique:0};$.fn.dataTable=function(oInit){function classSettings(){this.fnRecordsTotal=function(){if(this.oFeatures.bServerSide){return parseInt(this._iRecordsTotal,10)}else{return this.aiDisplayMaster.length}};this.fnRecordsDisplay=function(){if(this.oFeatures.bServerSide){return parseInt(this._iRecordsDisplay,10)}else{return this.aiDisplay.length}};this.fnDisplayEnd=function(){if(this.oFeatures.bServerSide){if(this.oFeatures.bPaginate===false||this._iDisplayLength==-1){return this._iDisplayStart+this.aiDisplay.length}else{return Math.min(this._iDisplayStart+this._iDisplayLength,this._iRecordsDisplay)}}else{return this._iDisplayEnd}};this.oInstance=null;this.sInstance=null;this.oFeatures={bPaginate:true,bLengthChange:true,bFilter:true,bSort:true,bInfo:true,bAutoWidth:true,bProcessing:false,bSortClasses:true,bStateSave:false,bServerSide:false};this.oScroll={sX:"",sXInner:"",sY:"",bCollapse:false,bInfinite:false,iLoadGap:100,iBarWidth:0,bAutoCss:true};this.aanFeatures=[];this.oLanguage={sProcessing:"Processing...",sLengthMenu:"Show _MENU_ entries",sZeroRecords:"No matching records found",sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sSearch:"Search:",sUrl:"",oPaginate:{sFirst:"First",sPrevious:"Previous",sNext:"Next",sLast:"Last"},fnInfoCallback:null};this.aoData=[];this.aiDisplay=[];this.aiDisplayMaster=[];this.aoColumns=[];this.aiSortingSkipRows=[];this.iNextId=0;this.asDataSearch=[];this.oPreviousSearch={sSearch:"",bRegex:false,bSmart:true};this.aoPreSearchCols=[];this.aaSorting=[[0,"asc",0]];this.aaSortingFixed=null;this.asStripClasses=[];this.asDestoryStrips=[];this.sDestroyWidth=0;this.fnRowCallback=null;this.fnHeaderCallback=null;this.fnFooterCallback=null;this.aoDrawCallback=[];this.fnInitComplete=null;this.sTableId="";this.nTable=null;this.nTHead=null;this.nTFoot=null;this.nTBody=null;this.nTableWrapper=null;this.bInitialised=false;this.aoOpenRows=[];this.sDom="lfrtip";this.sPaginationType="two_button";this.iCookieDuration=60*60*2;this.sCookiePrefix="SpryMedia_DataTables_";this.fnCookieCallback=null;this.aoStateSave=[];this.aoStateLoad=[];this.oLoadedState=null;this.sAjaxSource=null;this.bAjaxDataGet=true;this.fnServerData=function(url,data,callback){$.ajax({url:url,data:data,success:callback,dataType:"json",cache:false,error:function(xhr,error,thrown){if(error=="parsererror"){alert("DataTables warning: JSON data from server could not be parsed. This is caused by a JSON formatting error.")}}})};this.fnFormatNumber=function(iIn){if(iIn<1000){return iIn}else{var s=(iIn+""),a=s.split(""),out="",iLen=s.length;for(var i=0;i<iLen;i++){if(i%3===0&&i!==0){out=","+out}out=a[iLen-i-1]+out}}return out};this.aLengthMenu=[10,25,50,100];this.iDraw=0;this.bDrawing=0;this.iDrawError=-1;this._iDisplayLength=10;this._iDisplayStart=0;this._iDisplayEnd=10;this._iRecordsTotal=0;this._iRecordsDisplay=0;this.bJUI=false;this.oClasses=_oExt.oStdClasses;this.bFiltered=false;this.bSorted=false;this.oInit=null}this.oApi={};this.fnDraw=function(bComplete){var oSettings=_fnSettingsFromNode(this[_oExt.iApiIndex]);if(typeof bComplete!="undefined"&&bComplete===false){_fnCalculateEnd(oSettings);_fnDraw(oSettings)}else{_fnReDraw(oSettings)}};this.fnFilter=function(sInput,iColumn,bRegex,bSmart,bShowGlobal){var oSettings=_fnSettingsFromNode(this[_oExt.iApiIndex]);if(!oSettings.oFeatures.bFilter){return}if(typeof bRegex=="undefined"){bRegex=false}if(typeof bSmart=="undefined"){bSmart=true}if(typeof bShowGlobal=="undefined"){bShowGlobal=true}if(typeof iColumn=="undefined"||iColumn===null){_fnFilterComplete(oSettings,{sSearch:sInput,bRegex:bRegex,bSmart:bSmart},1);if(bShowGlobal&&typeof oSettings.aanFeatures.f!="undefined"){var n=oSettings.aanFeatures.f;for(var i=0,iLen=n.length;i<iLen;i++){$("input",n[i]).val(sInput)}}}else{oSettings.aoPreSearchCols[iColumn].sSearch=sInput;oSettings.aoPreSearchCols[iColumn].bRegex=bRegex;oSettings.aoPreSearchCols[iColumn].bSmart=bSmart;_fnFilterComplete(oSettings,oSettings.oPreviousSearch,1)}};this.fnSettings=function(nNode){return _fnSettingsFromNode(this[_oExt.iApiIndex])};this.fnVersionCheck=_oExt.fnVersionCheck;this.fnSort=function(aaSort){var oSettings=_fnSettingsFromNode(this[_oExt.iApiIndex]);oSettings.aaSorting=aaSort;_fnSort(oSettings)};this.fnSortListener=function(nNode,iColumn,fnCallback){_fnSortAttachListener(_fnSettingsFromNode(this[_oExt.iApiIndex]),nNode,iColumn,fnCallback)};this.fnAddData=function(mData,bRedraw){if(mData.length===0){return[]}var aiReturn=[];var iTest;var oSettings=_fnSettingsFromNode(this[_oExt.iApiIndex]);if(typeof mData[0]=="object"){for(var i=0;i<mData.length;i++){iTest=_fnAddData(oSettings,mData[i]);if(iTest==-1){return aiReturn}aiReturn.push(iTest)}}else{iTest=_fnAddData(oSettings,mData);if(iTest==-1){return aiReturn}aiReturn.push(iTest)}oSettings.aiDisplay=oSettings.aiDisplayMaster.slice();if(typeof bRedraw=="undefined"||bRedraw){_fnReDraw(oSettings)}return aiReturn};this.fnDeleteRow=function(mTarget,fnCallBack,bRedraw){var oSettings=_fnSettingsFromNode(this[_oExt.iApiIndex]);var i,iAODataIndex;iAODataIndex=(typeof mTarget=="object")?_fnNodeToDataIndex(oSettings,mTarget):mTarget;var oData=oSettings.aoData.splice(iAODataIndex,1);var iDisplayIndex=$.inArray(iAODataIndex,oSettings.aiDisplay);oSettings.asDataSearch.splice(iDisplayIndex,1);_fnDeleteIndex(oSettings.aiDisplayMaster,iAODataIndex);_fnDeleteIndex(oSettings.aiDisplay,iAODataIndex);if(typeof fnCallBack=="function"){fnCallBack.call(this,oSettings,oData)}if(oSettings._iDisplayStart>=oSettings.aiDisplay.length){oSettings._iDisplayStart-=oSettings._iDisplayLength;if(oSettings._iDisplayStart<0){oSettings._iDisplayStart=0}}if(typeof bRedraw=="undefined"||bRedraw){_fnCalculateEnd(oSettings);_fnDraw(oSettings)}return oData};this.fnClearTable=function(bRedraw){var oSettings=_fnSettingsFromNode(this[_oExt.iApiIndex]);_fnClearTable(oSettings);if(typeof bRedraw=="undefined"||bRedraw){_fnDraw(oSettings)}};this.fnOpen=function(nTr,sHtml,sClass){var oSettings=_fnSettingsFromNode(this[_oExt.iApiIndex]);this.fnClose(nTr);var nNewRow=document.createElement("tr");var nNewCell=document.createElement("td");nNewRow.appendChild(nNewCell);nNewCell.className=sClass;nNewCell.colSpan=_fnVisbleColumns(oSettings);nNewCell.innerHTML=sHtml;var nTrs=$("tr",oSettings.nTBody);if($.inArray(nTr,nTrs)!=-1){$(nNewRow).insertAfter(nTr)}oSettings.aoOpenRows.push({nTr:nNewRow,nParent:nTr});return nNewRow};this.fnClose=function(nTr){var oSettings=_fnSettingsFromNode(this[_oExt.iApiIndex]);for(var i=0;i<oSettings.aoOpenRows.length;i++){if(oSettings.aoOpenRows[i].nParent==nTr){var nTrParent=oSettings.aoOpenRows[i].nTr.parentNode;if(nTrParent){nTrParent.removeChild(oSettings.aoOpenRows[i].nTr)}oSettings.aoOpenRows.splice(i,1);return 0}}return 1};this.fnGetData=function(mRow){var oSettings=_fnSettingsFromNode(this[_oExt.iApiIndex]);if(typeof mRow!="undefined"){var iRow=(typeof mRow=="object")?_fnNodeToDataIndex(oSettings,mRow):mRow;return oSettings.aoData[iRow]._aData}return _fnGetDataMaster(oSettings)};this.fnGetNodes=function(iRow){var oSettings=_fnSettingsFromNode(this[_oExt.iApiIndex]);if(typeof iRow!="undefined"){return oSettings.aoData[iRow].nTr}return _fnGetTrNodes(oSettings)};this.fnGetPosition=function(nNode){var oSettings=_fnSettingsFromNode(this[_oExt.iApiIndex]);var i;if(nNode.nodeName.toUpperCase()=="TR"){return _fnNodeToDataIndex(oSettings,nNode)}else{if(nNode.nodeName.toUpperCase()=="TD"){var iDataIndex=_fnNodeToDataIndex(oSettings,nNode.parentNode);var iCorrector=0;for(var j=0;j<oSettings.aoColumns.length;j++){if(oSettings.aoColumns[j].bVisible){if(oSettings.aoData[iDataIndex].nTr.getElementsByTagName("td")[j-iCorrector]==nNode){return[iDataIndex,j-iCorrector,j]}}else{iCorrector++}}}}return null};this.fnUpdate=function(mData,mRow,iColumn,bRedraw,bAction){var oSettings=_fnSettingsFromNode(this[_oExt.iApiIndex]);var iVisibleColumn;var sDisplay;var iRow=(typeof mRow=="object")?_fnNodeToDataIndex(oSettings,mRow):mRow;if(typeof mData!="object"){sDisplay=mData;oSettings.aoData[iRow]._aData[iColumn]=sDisplay;if(oSettings.aoColumns[iColumn].fnRender!==null){sDisplay=oSettings.aoColumns[iColumn].fnRender({iDataRow:iRow,iDataColumn:iColumn,aData:oSettings.aoData[iRow]._aData,oSettings:oSettings});if(oSettings.aoColumns[iColumn].bUseRendered){oSettings.aoData[iRow]._aData[iColumn]=sDisplay}}iVisibleColumn=_fnColumnIndexToVisible(oSettings,iColumn);if(iVisibleColumn!==null){oSettings.aoData[iRow].nTr.getElementsByTagName("td")[iVisibleColumn].innerHTML=sDisplay}}else{if(mData.length!=oSettings.aoColumns.length){_fnLog(oSettings,0,"An array passed to fnUpdate must have the same number of columns as the table in question - in this case "+oSettings.aoColumns.length);return 1}for(var i=0;i<mData.length;i++){sDisplay=mData[i];oSettings.aoData[iRow]._aData[i]=sDisplay;if(oSettings.aoColumns[i].fnRender!==null){sDisplay=oSettings.aoColumns[i].fnRender({iDataRow:iRow,iDataColumn:i,aData:oSettings.aoData[iRow]._aData,oSettings:oSettings});if(oSettings.aoColumns[i].bUseRendered){oSettings.aoData[iRow]._aData[i]=sDisplay}}iVisibleColumn=_fnColumnIndexToVisible(oSettings,i);if(iVisibleColumn!==null){oSettings.aoData[iRow].nTr.getElementsByTagName("td")[iVisibleColumn].innerHTML=sDisplay}}}var iDisplayIndex=$.inArray(iRow,oSettings.aiDisplay);oSettings.asDataSearch[iDisplayIndex]=_fnBuildSearchRow(oSettings,oSettings.aoData[iRow]._aData);if(typeof bAction=="undefined"||bAction){_fnAjustColumnSizing(oSettings)}if(typeof bRedraw=="undefined"||bRedraw){_fnReDraw(oSettings)}return 0};this.fnSetColumnVis=function(iCol,bShow,bRedraw){var oSettings=_fnSettingsFromNode(this[_oExt.iApiIndex]);var i,iLen;var iColumns=oSettings.aoColumns.length;var nTd,anTds,nCell,anTrs,jqChildren;if(oSettings.aoColumns[iCol].bVisible==bShow){return}var nTrHead=$(">tr",oSettings.nTHead)[0];var nTrFoot=$(">tr",oSettings.nTFoot)[0];var anTheadTh=[];var anTfootTh=[];for(i=0;i<iColumns;i++){anTheadTh.push(oSettings.aoColumns[i].nTh);anTfootTh.push(oSettings.aoColumns[i].nTf)}if(bShow){var iInsert=0;for(i=0;i<iCol;i++){if(oSettings.aoColumns[i].bVisible){iInsert++}}if(iInsert>=_fnVisbleColumns(oSettings)){nTrHead.appendChild(anTheadTh[iCol]);anTrs=$(">tr",oSettings.nTHead);for(i=1,iLen=anTrs.length;i<iLen;i++){anTrs[i].appendChild(oSettings.aoColumns[iCol].anThExtra[i-1])}if(nTrFoot){nTrFoot.appendChild(anTfootTh[iCol]);anTrs=$(">tr",oSettings.nTFoot);for(i=1,iLen=anTrs.length;i<iLen;i++){anTrs[i].appendChild(oSettings.aoColumns[iCol].anTfExtra[i-1])}}for(i=0,iLen=oSettings.aoData.length;i<iLen;i++){nTd=oSettings.aoData[i]._anHidden[iCol];oSettings.aoData[i].nTr.appendChild(nTd)}}else{var iBefore;for(i=iCol;i<iColumns;i++){iBefore=_fnColumnIndexToVisible(oSettings,i);if(iBefore!==null){break}}nTrHead.insertBefore(anTheadTh[iCol],nTrHead.getElementsByTagName("th")[iBefore]);anTrs=$(">tr",oSettings.nTHead);for(i=1,iLen=anTrs.length;i<iLen;i++){jqChildren=$(anTrs[i]).children();anTrs[i].insertBefore(oSettings.aoColumns[iCol].anThExtra[i-1],jqChildren[iBefore])}if(nTrFoot){nTrFoot.insertBefore(anTfootTh[iCol],nTrFoot.getElementsByTagName("th")[iBefore]);anTrs=$(">tr",oSettings.nTFoot);for(i=1,iLen=anTrs.length;i<iLen;i++){jqChildren=$(anTrs[i]).children();anTrs[i].insertBefore(oSettings.aoColumns[iCol].anTfExtra[i-1],jqChildren[iBefore])}}anTds=_fnGetTdNodes(oSettings);for(i=0,iLen=oSettings.aoData.length;i<iLen;i++){nTd=oSettings.aoData[i]._anHidden[iCol];oSettings.aoData[i].nTr.insertBefore(nTd,$(">td:eq("+iBefore+")",oSettings.aoData[i].nTr)[0])}}oSettings.aoColumns[iCol].bVisible=true}else{nTrHead.removeChild(anTheadTh[iCol]);for(i=0,iLen=oSettings.aoColumns[iCol].anThExtra.length;i<iLen;i++){nCell=oSettings.aoColumns[iCol].anThExtra[i];nCell.parentNode.removeChild(nCell)}if(nTrFoot){nTrFoot.removeChild(anTfootTh[iCol]);for(i=0,iLen=oSettings.aoColumns[iCol].anTfExtra.length;i<iLen;i++){nCell=oSettings.aoColumns[iCol].anTfExtra[i];nCell.parentNode.removeChild(nCell)}}anTds=_fnGetTdNodes(oSettings);for(i=0,iLen=oSettings.aoData.length;i<iLen;i++){nTd=anTds[(i*oSettings.aoColumns.length)+(iCol*1)];oSettings.aoData[i]._anHidden[iCol]=nTd;nTd.parentNode.removeChild(nTd)}oSettings.aoColumns[iCol].bVisible=false}for(i=0,iLen=oSettings.aoOpenRows.length;i<iLen;i++){oSettings.aoOpenRows[i].nTr.colSpan=_fnVisbleColumns(oSettings)}if(typeof bRedraw=="undefined"||bRedraw){_fnAjustColumnSizing(oSettings);_fnDraw(oSettings)}_fnSaveState(oSettings)};this.fnPageChange=function(sAction,bRedraw){var oSettings=_fnSettingsFromNode(this[_oExt.iApiIndex]);_fnPageChange(oSettings,sAction);_fnCalculateEnd(oSettings);if(typeof bRedraw=="undefined"||bRedraw){_fnDraw(oSettings)}};this.fnDestroy=function(){var oSettings=_fnSettingsFromNode(this[_oExt.iApiIndex]);var nOrig=oSettings.nTableWrapper.parentNode;var nBody=oSettings.nTBody;var i,iLen;oSettings.bDestroying=true;for(i=0,iLen=oSettings.aoColumns.length;i<iLen;i++){if(oSettings.aoColumns[i].bVisible===false){this.fnSetColumnVis(i,true)}}$("tbody>tr>td."+oSettings.oClasses.sRowEmpty,oSettings.nTable).parent().remove();if(oSettings.nTable!=oSettings.nTHead.parentNode){$(">thead",oSettings.nTable).remove();oSettings.nTable.appendChild(oSettings.nTHead)}if(oSettings.nTFoot&&oSettings.nTable!=oSettings.nTFoot.parentNode){$(">tfoot",oSettings.nTable).remove();oSettings.nTable.appendChild(oSettings.nTFoot)}oSettings.nTable.parentNode.removeChild(oSettings.nTable);$(oSettings.nTableWrapper).remove();oSettings.aaSorting=[];oSettings.aaSortingFixed=[];_fnSortingClasses(oSettings);$(_fnGetTrNodes(oSettings)).removeClass(oSettings.asStripClasses.join(" "));if(!oSettings.bJUI){$("th",oSettings.nTHead).removeClass([_oExt.oStdClasses.sSortable,_oExt.oStdClasses.sSortableAsc,_oExt.oStdClasses.sSortableDesc,_oExt.oStdClasses.sSortableNone].join(" "))}else{$("th",oSettings.nTHead).removeClass([_oExt.oStdClasses.sSortable,_oExt.oJUIClasses.sSortableAsc,_oExt.oJUIClasses.sSortableDesc,_oExt.oJUIClasses.sSortableNone].join(" "));$("th span",oSettings.nTHead).remove()}nOrig.appendChild(oSettings.nTable);for(i=0,iLen=oSettings.aoData.length;i<iLen;i++){nBody.appendChild(oSettings.aoData[i].nTr)}oSettings.nTable.style.width=_fnStringToCss(oSettings.sDestroyWidth);$(">tr:even",nBody).addClass(oSettings.asDestoryStrips[0]);$(">tr:odd",nBody).addClass(oSettings.asDestoryStrips[1]);for(i=0,iLen=_aoSettings.length;i<iLen;i++){if(_aoSettings[i]==oSettings){_aoSettings.splice(i,1)}}oSettings=null};this.fnAdjustColumnSizing=function(bRedraw){var oSettings=_fnSettingsFromNode(this[_oExt.iApiIndex]);if(oSettings!=null){_fnAjustColumnSizing(oSettings);if(typeof bRedraw=="undefined"||bRedraw){this.fnDraw(false)}else{if(oSettings.oScroll.sX!==""||oSettings.oScroll.sY!==""){this.oApi._fnScrollDraw(oSettings)}}}};function _fnExternApiFunc(sFunc){return function(){var aArgs=[_fnSettingsFromNode(this[_oExt.iApiIndex])].concat(Array.prototype.slice.call(arguments));return _oExt.oApi[sFunc].apply(this,aArgs)}}for(var sFunc in _oExt.oApi){if(sFunc){this[sFunc]=_fnExternApiFunc(sFunc)}}function _fnInitalise(oSettings){var i,iLen;if(oSettings.bInitialised===false){setTimeout(function(){_fnInitalise(oSettings)},200);return}_fnAddOptionsHtml(oSettings);_fnDrawHead(oSettings);_fnProcessingDisplay(oSettings,true);if(oSettings.oFeatures.bAutoWidth){_fnCalculateColumnWidths(oSettings)}for(i=0,iLen=oSettings.aoColumns.length;i<iLen;i++){if(oSettings.aoColumns[i].sWidth!==null){oSettings.aoColumns[i].nTh.style.width=_fnStringToCss(oSettings.aoColumns[i].sWidth)}}if(oSettings.oFeatures.bSort){_fnSort(oSettings)}else{oSettings.aiDisplay=oSettings.aiDisplayMaster.slice();_fnCalculateEnd(oSettings);_fnDraw(oSettings)}if(oSettings.sAjaxSource!==null&&!oSettings.oFeatures.bServerSide){oSettings.fnServerData.call(oSettings.oInstance,oSettings.sAjaxSource,[],function(json){for(i=0;i<json.aaData.length;i++){_fnAddData(oSettings,json.aaData[i])}oSettings.iInitDisplayStart=oSettings._iDisplayStart;if(oSettings.oFeatures.bSort){_fnSort(oSettings)}else{oSettings.aiDisplay=oSettings.aiDisplayMaster.slice();_fnCalculateEnd(oSettings);_fnDraw(oSettings)}_fnProcessingDisplay(oSettings,false);_fnInitComplete(oSettings,json)});return}if(!oSettings.oFeatures.bServerSide){_fnProcessingDisplay(oSettings,false);_fnInitComplete(oSettings)}}function _fnInitComplete(oSettings,json){oSettings._bInitComplete=true;if(typeof oSettings.fnInitComplete=="function"){if(typeof json!="undefined"){oSettings.fnInitComplete.call(oSettings.oInstance,oSettings,json)}else{oSettings.fnInitComplete.call(oSettings.oInstance,oSettings)}}}function _fnLanguageProcess(oSettings,oLanguage,bInit){_fnMap(oSettings.oLanguage,oLanguage,"sProcessing");_fnMap(oSettings.oLanguage,oLanguage,"sLengthMenu");_fnMap(oSettings.oLanguage,oLanguage,"sEmptyTable");_fnMap(oSettings.oLanguage,oLanguage,"sZeroRecords");_fnMap(oSettings.oLanguage,oLanguage,"sInfo");_fnMap(oSettings.oLanguage,oLanguage,"sInfoEmpty");_fnMap(oSettings.oLanguage,oLanguage,"sInfoFiltered");_fnMap(oSettings.oLanguage,oLanguage,"sInfoPostFix");_fnMap(oSettings.oLanguage,oLanguage,"sSearch");if(typeof oLanguage.oPaginate!="undefined"){_fnMap(oSettings.oLanguage.oPaginate,oLanguage.oPaginate,"sFirst");_fnMap(oSettings.oLanguage.oPaginate,oLanguage.oPaginate,"sPrevious");_fnMap(oSettings.oLanguage.oPaginate,oLanguage.oPaginate,"sNext");_fnMap(oSettings.oLanguage.oPaginate,oLanguage.oPaginate,"sLast")}if(typeof oLanguage.sEmptyTable=="undefined"&&typeof oLanguage.sZeroRecords!="undefined"){_fnMap(oSettings.oLanguage,oLanguage,"sZeroRecords","sEmptyTable")}if(bInit){_fnInitalise(oSettings)}}function _fnAddColumn(oSettings,nTh){oSettings.aoColumns[oSettings.aoColumns.length++]={sType:null,_bAutoType:true,bVisible:true,bSearchable:true,bSortable:true,asSorting:["asc","desc"],sSortingClass:oSettings.oClasses.sSortable,sSortingClassJUI:oSettings.oClasses.sSortJUI,sTitle:nTh?nTh.innerHTML:"",sName:"",sWidth:null,sWidthOrig:null,sClass:null,fnRender:null,bUseRendered:true,iDataSort:oSettings.aoColumns.length-1,sSortDataType:"std",nTh:nTh?nTh:document.createElement("th"),nTf:null,anThExtra:[],anTfExtra:[]};var iCol=oSettings.aoColumns.length-1;var oCol=oSettings.aoColumns[iCol];if(typeof oSettings.aoPreSearchCols[iCol]=="undefined"||oSettings.aoPreSearchCols[iCol]===null){oSettings.aoPreSearchCols[iCol]={sSearch:"",bRegex:false,bSmart:true}}else{if(typeof oSettings.aoPreSearchCols[iCol].bRegex=="undefined"){oSettings.aoPreSearchCols[iCol].bRegex=true}if(typeof oSettings.aoPreSearchCols[iCol].bSmart=="undefined"){oSettings.aoPreSearchCols[iCol].bSmart=true}}_fnColumnOptions(oSettings,iCol,null)}function _fnColumnOptions(oSettings,iCol,oOptions){var oCol=oSettings.aoColumns[iCol];if(typeof oOptions!="undefined"&&oOptions!==null){if(typeof oOptions.sType!="undefined"){oCol.sType=oOptions.sType;oCol._bAutoType=false}_fnMap(oCol,oOptions,"bVisible");_fnMap(oCol,oOptions,"bSearchable");_fnMap(oCol,oOptions,"bSortable");_fnMap(oCol,oOptions,"sTitle");_fnMap(oCol,oOptions,"sName");_fnMap(oCol,oOptions,"sWidth");_fnMap(oCol,oOptions,"sWidth","sWidthOrig");_fnMap(oCol,oOptions,"sClass");_fnMap(oCol,oOptions,"fnRender");_fnMap(oCol,oOptions,"bUseRendered");_fnMap(oCol,oOptions,"iDataSort");_fnMap(oCol,oOptions,"asSorting");_fnMap(oCol,oOptions,"sSortDataType")}if(!oSettings.oFeatures.bSort){oCol.bSortable=false}if(!oCol.bSortable||($.inArray("asc",oCol.asSorting)==-1&&$.inArray("desc",oCol.asSorting)==-1)){oCol.sSortingClass=oSettings.oClasses.sSortableNone;oCol.sSortingClassJUI=""}else{if($.inArray("asc",oCol.asSorting)!=-1&&$.inArray("desc",oCol.asSorting)==-1){oCol.sSortingClass=oSettings.oClasses.sSortableAsc;oCol.sSortingClassJUI=oSettings.oClasses.sSortJUIAscAllowed}else{if($.inArray("asc",oCol.asSorting)==-1&&$.inArray("desc",oCol.asSorting)!=-1){oCol.sSortingClass=oSettings.oClasses.sSortableDesc;oCol.sSortingClassJUI=oSettings.oClasses.sSortJUIDescAllowed}}}}function _fnAddData(oSettings,aDataSupplied){if(aDataSupplied.length!=oSettings.aoColumns.length&&oSettings.iDrawError!=oSettings.iDraw){_fnLog(oSettings,0,"Added data (size "+aDataSupplied.length+") does not match known number of columns ("+oSettings.aoColumns.length+")");oSettings.iDrawError=oSettings.iDraw;return -1}var aData=aDataSupplied.slice();var iThisIndex=oSettings.aoData.length;oSettings.aoData.push({nTr:document.createElement("tr"),_iId:oSettings.iNextId++,_aData:aData,_anHidden:[],_sRowStripe:""});var nTd,sThisType;for(var i=0;i<aData.length;i++){nTd=document.createElement("td");if(aData[i]===null){aData[i]=""}if(typeof oSettings.aoColumns[i].fnRender=="function"){var sRendered=oSettings.aoColumns[i].fnRender({iDataRow:iThisIndex,iDataColumn:i,aData:aData,oSettings:oSettings});nTd.innerHTML=sRendered;if(oSettings.aoColumns[i].bUseRendered){oSettings.aoData[iThisIndex]._aData[i]=sRendered}}else{nTd.innerHTML=aData[i]}if(typeof aData[i]!="string"){aData[i]+=""}aData[i]=$.trim(aData[i]);if(oSettings.aoColumns[i].sClass!==null){nTd.className=oSettings.aoColumns[i].sClass}if(oSettings.aoColumns[i]._bAutoType&&oSettings.aoColumns[i].sType!="string"){sThisType=_fnDetectType(oSettings.aoData[iThisIndex]._aData[i]);if(oSettings.aoColumns[i].sType===null){oSettings.aoColumns[i].sType=sThisType}else{if(oSettings.aoColumns[i].sType!=sThisType){oSettings.aoColumns[i].sType="string"}}}if(oSettings.aoColumns[i].bVisible){oSettings.aoData[iThisIndex].nTr.appendChild(nTd);oSettings.aoData[iThisIndex]._anHidden[i]=null}else{oSettings.aoData[iThisIndex]._anHidden[i]=nTd}}oSettings.aiDisplayMaster.push(iThisIndex);return iThisIndex}function _fnGatherData(oSettings){var iLoop,i,iLen,j,jLen,jInner,nTds,nTrs,nTd,aLocalData,iThisIndex,iRow,iRows,iColumn,iColumns;if(oSettings.sAjaxSource===null){nTrs=oSettings.nTBody.childNodes;for(i=0,iLen=nTrs.length;i<iLen;i++){if(nTrs[i].nodeName.toUpperCase()=="TR"){iThisIndex=oSettings.aoData.length;oSettings.aoData.push({nTr:nTrs[i],_iId:oSettings.iNextId++,_aData:[],_anHidden:[],_sRowStripe:""});oSettings.aiDisplayMaster.push(iThisIndex);aLocalData=oSettings.aoData[iThisIndex]._aData;nTds=nTrs[i].childNodes;jInner=0;for(j=0,jLen=nTds.length;j<jLen;j++){if(nTds[j].nodeName.toUpperCase()=="TD"){aLocalData[jInner]=$.trim(nTds[j].innerHTML);jInner++}}}}}nTrs=_fnGetTrNodes(oSettings);nTds=[];for(i=0,iLen=nTrs.length;i<iLen;i++){for(j=0,jLen=nTrs[i].childNodes.length;j<jLen;j++){nTd=nTrs[i].childNodes[j];if(nTd.nodeName.toUpperCase()=="TD"){nTds.push(nTd)}}}if(nTds.length!=nTrs.length*oSettings.aoColumns.length){_fnLog(oSettings,1,"Unexpected number of TD elements. Expected "+(nTrs.length*oSettings.aoColumns.length)+" and got "+nTds.length+". DataTables does not support rowspan / colspan in the table body, and there must be one cell for each row/column combination.")}for(iColumn=0,iColumns=oSettings.aoColumns.length;iColumn<iColumns;iColumn++){if(oSettings.aoColumns[iColumn].sTitle===null){oSettings.aoColumns[iColumn].sTitle=oSettings.aoColumns[iColumn].nTh.innerHTML}var bAutoType=oSettings.aoColumns[iColumn]._bAutoType,bRender=typeof oSettings.aoColumns[iColumn].fnRender=="function",bClass=oSettings.aoColumns[iColumn].sClass!==null,bVisible=oSettings.aoColumns[iColumn].bVisible,nCell,sThisType,sRendered;if(bAutoType||bRender||bClass||!bVisible){for(iRow=0,iRows=oSettings.aoData.length;iRow<iRows;iRow++){nCell=nTds[(iRow*iColumns)+iColumn];if(bAutoType){if(oSettings.aoColumns[iColumn].sType!="string"){sThisType=_fnDetectType(oSettings.aoData[iRow]._aData[iColumn]);if(oSettings.aoColumns[iColumn].sType===null){oSettings.aoColumns[iColumn].sType=sThisType}else{if(oSettings.aoColumns[iColumn].sType!=sThisType){oSettings.aoColumns[iColumn].sType="string"}}}}if(bRender){sRendered=oSettings.aoColumns[iColumn].fnRender({iDataRow:iRow,iDataColumn:iColumn,aData:oSettings.aoData[iRow]._aData,oSettings:oSettings});nCell.innerHTML=sRendered;if(oSettings.aoColumns[iColumn].bUseRendered){oSettings.aoData[iRow]._aData[iColumn]=sRendered}}if(bClass){nCell.className+=" "+oSettings.aoColumns[iColumn].sClass}if(!bVisible){oSettings.aoData[iRow]._anHidden[iColumn]=nCell;nCell.parentNode.removeChild(nCell)}else{oSettings.aoData[iRow]._anHidden[iColumn]=null}}}}}function _fnDrawHead(oSettings){var i,nTh,iLen,j,jLen;var anTr=oSettings.nTHead.getElementsByTagName("tr");var iThs=oSettings.nTHead.getElementsByTagName("th").length;var iCorrector=0;var jqChildren;if(iThs!==0){for(i=0,iLen=oSettings.aoColumns.length;i<iLen;i++){nTh=oSettings.aoColumns[i].nTh;if(oSettings.aoColumns[i].sClass!==null){$(nTh).addClass(oSettings.aoColumns[i].sClass)}for(j=1,jLen=anTr.length;j<jLen;j++){jqChildren=$(anTr[j]).children();oSettings.aoColumns[i].anThExtra.push(jqChildren[i-iCorrector]);if(!oSettings.aoColumns[i].bVisible){anTr[j].removeChild(jqChildren[i-iCorrector])}}if(oSettings.aoColumns[i].bVisible){if(oSettings.aoColumns[i].sTitle!=nTh.innerHTML){nTh.innerHTML=oSettings.aoColumns[i].sTitle}}else{nTh.parentNode.removeChild(nTh);iCorrector++}}}else{var nTr=document.createElement("tr");for(i=0,iLen=oSettings.aoColumns.length;i<iLen;i++){nTh=oSettings.aoColumns[i].nTh;nTh.innerHTML=oSettings.aoColumns[i].sTitle;if(oSettings.aoColumns[i].sClass!==null){$(nTh).addClass(oSettings.aoColumns[i].sClass)}if(oSettings.aoColumns[i].bVisible){nTr.appendChild(nTh)}}$(oSettings.nTHead).html("")[0].appendChild(nTr)}if(oSettings.bJUI){for(i=0,iLen=oSettings.aoColumns.length;i<iLen;i++){nTh=oSettings.aoColumns[i].nTh;var nDiv=document.createElement("div");nDiv.className=oSettings.oClasses.sSortJUIWrapper;$(nTh).contents().appendTo(nDiv);nDiv.appendChild(document.createElement("span"));nTh.appendChild(nDiv)}}var fnNoSelect=function(e){this.onselectstart=function(){return false};return false};if(oSettings.oFeatures.bSort){for(i=0;i<oSettings.aoColumns.length;i++){if(oSettings.aoColumns[i].bSortable!==false){_fnSortAttachListener(oSettings,oSettings.aoColumns[i].nTh,i);$(oSettings.aoColumns[i].nTh).mousedown(fnNoSelect)}else{$(oSettings.aoColumns[i].nTh).addClass(oSettings.oClasses.sSortableNone)}}}if(oSettings.nTFoot!==null){iCorrector=0;anTr=oSettings.nTFoot.getElementsByTagName("tr");var nTfs=anTr[0].getElementsByTagName("th");for(i=0,iLen=nTfs.length;i<iLen;i++){if(typeof oSettings.aoColumns[i]!="undefined"){oSettings.aoColumns[i].nTf=nTfs[i-iCorrector];if(oSettings.oClasses.sFooterTH!==""){oSettings.aoColumns[i].nTf.className+=" "+oSettings.oClasses.sFooterTH}for(j=1,jLen=anTr.length;j<jLen;j++){jqChildren=$(anTr[j]).children();oSettings.aoColumns[i].anTfExtra.push(jqChildren[i-iCorrector]);if(!oSettings.aoColumns[i].bVisible){anTr[j].removeChild(jqChildren[i-iCorrector])}}if(!oSettings.aoColumns[i].bVisible){nTfs[i-iCorrector].parentNode.removeChild(nTfs[i-iCorrector]);iCorrector++}}}}}function _fnDraw(oSettings){var i,iLen;var anRows=[];var iRowCount=0;var bRowError=false;var iStrips=oSettings.asStripClasses.length;var iOpenRows=oSettings.aoOpenRows.length;oSettings.bDrawing=true;if(typeof oSettings.iInitDisplayStart!="undefined"&&oSettings.iInitDisplayStart!=-1){if(oSettings.oFeatures.bServerSide){oSettings._iDisplayStart=oSettings.iInitDisplayStart}else{oSettings._iDisplayStart=(oSettings.iInitDisplayStart>=oSettings.fnRecordsDisplay())?0:oSettings.iInitDisplayStart}oSettings.iInitDisplayStart=-1;_fnCalculateEnd(oSettings)}if(!oSettings.bDestroying&&oSettings.oFeatures.bServerSide&&!_fnAjaxUpdate(oSettings)){return}else{if(!oSettings.oFeatures.bServerSide){oSettings.iDraw++}}if(oSettings.aiDisplay.length!==0){var iStart=oSettings._iDisplayStart;var iEnd=oSettings._iDisplayEnd;if(oSettings.oFeatures.bServerSide){iStart=0;iEnd=oSettings.aoData.length}for(var j=iStart;j<iEnd;j++){var aoData=oSettings.aoData[oSettings.aiDisplay[j]];var nRow=aoData.nTr;if(iStrips!==0){var sStrip=oSettings.asStripClasses[iRowCount%iStrips];if(aoData._sRowStripe!=sStrip){$(nRow).removeClass(aoData._sRowStripe).addClass(sStrip);aoData._sRowStripe=sStrip}}if(typeof oSettings.fnRowCallback=="function"){nRow=oSettings.fnRowCallback.call(oSettings.oInstance,nRow,oSettings.aoData[oSettings.aiDisplay[j]]._aData,iRowCount,j);if(!nRow&&!bRowError){_fnLog(oSettings,0,"A node was not returned by fnRowCallback");bRowError=true}}anRows.push(nRow);iRowCount++;if(iOpenRows!==0){for(var k=0;k<iOpenRows;k++){if(nRow==oSettings.aoOpenRows[k].nParent){anRows.push(oSettings.aoOpenRows[k].nTr)}}}}}else{anRows[0]=document.createElement("tr");if(typeof oSettings.asStripClasses[0]!="undefined"){anRows[0].className=oSettings.asStripClasses[0]}var nTd=document.createElement("td");nTd.setAttribute("valign","top");nTd.colSpan=_fnVisbleColumns(oSettings);nTd.className=oSettings.oClasses.sRowEmpty;if(typeof oSettings.oLanguage.sEmptyTable!="undefined"&&oSettings.fnRecordsTotal()===0){nTd.innerHTML=oSettings.oLanguage.sEmptyTable}else{nTd.innerHTML=oSettings.oLanguage.sZeroRecords.replace("_MAX_",oSettings.fnFormatNumber(oSettings.fnRecordsTotal()))}anRows[iRowCount].appendChild(nTd)}if(typeof oSettings.fnHeaderCallback=="function"){oSettings.fnHeaderCallback.call(oSettings.oInstance,$(">tr",oSettings.nTHead)[0],_fnGetDataMaster(oSettings),oSettings._iDisplayStart,oSettings.fnDisplayEnd(),oSettings.aiDisplay)}if(typeof oSettings.fnFooterCallback=="function"){oSettings.fnFooterCallback.call(oSettings.oInstance,$(">tr",oSettings.nTFoot)[0],_fnGetDataMaster(oSettings),oSettings._iDisplayStart,oSettings.fnDisplayEnd(),oSettings.aiDisplay)}var nAddFrag=document.createDocumentFragment(),nRemoveFrag=document.createDocumentFragment(),nBodyPar,nTrs;if(oSettings.nTBody){nBodyPar=oSettings.nTBody.parentNode;nRemoveFrag.appendChild(oSettings.nTBody);if(!oSettings.oScroll.bInfinite||!oSettings._bInitComplete||oSettings.bSorted||oSettings.bFiltered){nTrs=oSettings.nTBody.childNodes;for(i=nTrs.length-1;i>=0;i--){nTrs[i].parentNode.removeChild(nTrs[i])}}for(i=0,iLen=anRows.length;i<iLen;i++){nAddFrag.appendChild(anRows[i])}oSettings.nTBody.appendChild(nAddFrag);if(nBodyPar!==null){nBodyPar.appendChild(oSettings.nTBody)}}for(i=oSettings.aoDrawCallback.length-1;i>=0;i--){oSettings.aoDrawCallback[i].fn.call(oSettings.oInstance,oSettings)}oSettings.bSorted=false;oSettings.bFiltered=false;oSettings.bDrawing=false;if(oSettings.oFeatures.bServerSide){_fnProcessingDisplay(oSettings,false);if(typeof oSettings._bInitComplete=="undefined"){_fnInitComplete(oSettings)}}}function _fnReDraw(oSettings){if(oSettings.oFeatures.bSort){_fnSort(oSettings,oSettings.oPreviousSearch)}else{if(oSettings.oFeatures.bFilter){_fnFilterComplete(oSettings,oSettings.oPreviousSearch)}else{_fnCalculateEnd(oSettings);_fnDraw(oSettings)}}}function _fnAjaxUpdate(oSettings){if(oSettings.bAjaxDataGet){_fnProcessingDisplay(oSettings,true);var iColumns=oSettings.aoColumns.length;var aoData=[];var i;oSettings.iDraw++;aoData.push({name:"sEcho",value:oSettings.iDraw});aoData.push({name:"iColumns",value:iColumns});aoData.push({name:"sColumns",value:_fnColumnOrdering(oSettings)});aoData.push({name:"iDisplayStart",value:oSettings._iDisplayStart});aoData.push({name:"iDisplayLength",value:oSettings.oFeatures.bPaginate!==false?oSettings._iDisplayLength:-1});if(oSettings.oFeatures.bFilter!==false){aoData.push({name:"sSearch",value:oSettings.oPreviousSearch.sSearch});aoData.push({name:"bRegex",value:oSettings.oPreviousSearch.bRegex});for(i=0;i<iColumns;i++){aoData.push({name:"sSearch_"+i,value:oSettings.aoPreSearchCols[i].sSearch});aoData.push({name:"bRegex_"+i,value:oSettings.aoPreSearchCols[i].bRegex});aoData.push({name:"bSearchable_"+i,value:oSettings.aoColumns[i].bSearchable})}}if(oSettings.oFeatures.bSort!==false){var iFixed=oSettings.aaSortingFixed!==null?oSettings.aaSortingFixed.length:0;var iUser=oSettings.aaSorting.length;aoData.push({name:"iSortingCols",value:iFixed+iUser});for(i=0;i<iFixed;i++){aoData.push({name:"iSortCol_"+i,value:oSettings.aaSortingFixed[i][0]});aoData.push({name:"sSortDir_"+i,value:oSettings.aaSortingFixed[i][1]})}for(i=0;i<iUser;i++){aoData.push({name:"iSortCol_"+(i+iFixed),value:oSettings.aaSorting[i][0]});aoData.push({name:"sSortDir_"+(i+iFixed),value:oSettings.aaSorting[i][1]})}for(i=0;i<iColumns;i++){aoData.push({name:"bSortable_"+i,value:oSettings.aoColumns[i].bSortable})}}oSettings.fnServerData.call(oSettings.oInstance,oSettings.sAjaxSource,aoData,function(json){_fnAjaxUpdateDraw(oSettings,json)});return false}else{return true}}function _fnAjaxUpdateDraw(oSettings,json){if(typeof json.sEcho!="undefined"){if(json.sEcho*1<oSettings.iDraw){return}else{oSettings.iDraw=json.sEcho*1}}if(!oSettings.oScroll.bInfinite||(oSettings.oScroll.bInfinite&&(oSettings.bSorted||oSettings.bFiltered))){_fnClearTable(oSettings)}oSettings._iRecordsTotal=json.iTotalRecords;oSettings._iRecordsDisplay=json.iTotalDisplayRecords;var sOrdering=_fnColumnOrdering(oSettings);var bReOrder=(typeof json.sColumns!="undefined"&&sOrdering!==""&&json.sColumns!=sOrdering);if(bReOrder){var aiIndex=_fnReOrderIndex(oSettings,json.sColumns)}for(var i=0,iLen=json.aaData.length;i<iLen;i++){if(bReOrder){var aData=[];for(var j=0,jLen=oSettings.aoColumns.length;j<jLen;j++){aData.push(json.aaData[i][aiIndex[j]])}_fnAddData(oSettings,aData)}else{_fnAddData(oSettings,json.aaData[i])}}oSettings.aiDisplay=oSettings.aiDisplayMaster.slice();oSettings.bAjaxDataGet=false;_fnDraw(oSettings);oSettings.bAjaxDataGet=true;_fnProcessingDisplay(oSettings,false)}function _fnAddOptionsHtml(oSettings){var nHolding=document.createElement("div");oSettings.nTable.parentNode.insertBefore(nHolding,oSettings.nTable);oSettings.nTableWrapper=document.createElement("div");oSettings.nTableWrapper.className=oSettings.oClasses.sWrapper;if(oSettings.sTableId!==""){oSettings.nTableWrapper.setAttribute("id",oSettings.sTableId+"_wrapper")}var nInsertNode=oSettings.nTableWrapper;var aDom=oSettings.sDom.split("");var nTmp,iPushFeature,cOption,nNewNode,cNext,sAttr,j;for(var i=0;i<aDom.length;i++){iPushFeature=0;cOption=aDom[i];if(cOption=="<"){nNewNode=document.createElement("div");cNext=aDom[i+1];if(cNext=="'"||cNext=='"'){sAttr="";j=2;while(aDom[i+j]!=cNext){sAttr+=aDom[i+j];j++}if(sAttr=="H"){sAttr="fg-toolbar ui-toolbar ui-widget-header ui-corner-tl ui-corner-tr ui-helper-clearfix"}else{if(sAttr=="F"){sAttr="fg-toolbar ui-toolbar ui-widget-header ui-corner-bl ui-corner-br ui-helper-clearfix"}}if(sAttr.indexOf(".")!=-1){var aSplit=sAttr.split(".");nNewNode.setAttribute("id",aSplit[0].substr(1,aSplit[0].length-1));nNewNode.className=aSplit[1]}else{if(sAttr.charAt(0)=="#"){nNewNode.setAttribute("id",sAttr.substr(1,sAttr.length-1))}else{nNewNode.className=sAttr}}i+=j}nInsertNode.appendChild(nNewNode);nInsertNode=nNewNode}else{if(cOption==">"){nInsertNode=nInsertNode.parentNode}else{if(cOption=="l"&&oSettings.oFeatures.bPaginate&&oSettings.oFeatures.bLengthChange){nTmp=_fnFeatureHtmlLength(oSettings);iPushFeature=1}else{if(cOption=="f"&&oSettings.oFeatures.bFilter){nTmp=_fnFeatureHtmlFilter(oSettings);iPushFeature=1}else{if(cOption=="r"&&oSettings.oFeatures.bProcessing){nTmp=_fnFeatureHtmlProcessing(oSettings);iPushFeature=1}else{if(cOption=="t"){nTmp=_fnFeatureHtmlTable(oSettings);iPushFeature=1}else{if(cOption=="i"&&oSettings.oFeatures.bInfo){nTmp=_fnFeatureHtmlInfo(oSettings);iPushFeature=1}else{if(cOption=="p"&&oSettings.oFeatures.bPaginate){nTmp=_fnFeatureHtmlPaginate(oSettings);iPushFeature=1}else{if(_oExt.aoFeatures.length!==0){var aoFeatures=_oExt.aoFeatures;for(var k=0,kLen=aoFeatures.length;k<kLen;k++){if(cOption==aoFeatures[k].cFeature){nTmp=aoFeatures[k].fnInit(oSettings);if(nTmp){iPushFeature=1}break}}}}}}}}}}}if(iPushFeature==1&&nTmp!==null){if(typeof oSettings.aanFeatures[cOption]!="object"){oSettings.aanFeatures[cOption]=[]}oSettings.aanFeatures[cOption].push(nTmp);nInsertNode.appendChild(nTmp)}}nHolding.parentNode.replaceChild(oSettings.nTableWrapper,nHolding)}function _fnFeatureHtmlTable(oSettings){if(oSettings.oScroll.sX===""&&oSettings.oScroll.sY===""){return oSettings.nTable}var nScroller=document.createElement("div"),nScrollHead=document.createElement("div"),nScrollHeadInner=document.createElement("div"),nScrollBody=document.createElement("div"),nScrollFoot=document.createElement("div"),nScrollFootInner=document.createElement("div"),nScrollHeadTable=oSettings.nTable.cloneNode(false),nScrollFootTable=oSettings.nTable.cloneNode(false),nThead=oSettings.nTable.getElementsByTagName("thead")[0],nTfoot=oSettings.nTable.getElementsByTagName("tfoot").length===0?null:oSettings.nTable.getElementsByTagName("tfoot")[0],oClasses=(typeof oInit.bJQueryUI!="undefined"&&oInit.bJQueryUI)?_oExt.oJUIClasses:_oExt.oStdClasses;nScrollHead.appendChild(nScrollHeadInner);nScrollFoot.appendChild(nScrollFootInner);nScrollBody.appendChild(oSettings.nTable);nScroller.appendChild(nScrollHead);nScroller.appendChild(nScrollBody);nScrollHeadInner.appendChild(nScrollHeadTable);nScrollHeadTable.appendChild(nThead);if(nTfoot!==null){nScroller.appendChild(nScrollFoot);nScrollFootInner.appendChild(nScrollFootTable);nScrollFootTable.appendChild(nTfoot)}nScroller.className=oClasses.sScrollWrapper;nScrollHead.className=oClasses.sScrollHead;nScrollHeadInner.className=oClasses.sScrollHeadInner;nScrollBody.className=oClasses.sScrollBody;nScrollFoot.className=oClasses.sScrollFoot;nScrollFootInner.className=oClasses.sScrollFootInner;if(oSettings.oScroll.bAutoCss){nScrollHead.style.overflow="hidden";nScrollHead.style.position="relative";nScrollFoot.style.overflow="hidden";nScrollBody.style.overflow="auto"}nScrollHead.style.border="0";nScrollFoot.style.border="0";nScrollHeadInner.style.width="150%";nScrollHeadTable.removeAttribute("id");nScrollHeadTable.style.marginLeft="0";oSettings.nTable.style.marginLeft="0";if(nTfoot!==null){nScrollFootTable.removeAttribute("id");nScrollFootTable.style.marginLeft="0"}var nCaptions=$(">caption",oSettings.nTable);for(var i=0,iLen=nCaptions.length;i<iLen;i++){nScrollHeadTable.appendChild(nCaptions[i])}if(oSettings.oScroll.sX!==""){nScrollHead.style.width=_fnStringToCss(oSettings.oScroll.sX);nScrollBody.style.width=_fnStringToCss(oSettings.oScroll.sX);if(nTfoot!==null){nScrollFoot.style.width=_fnStringToCss(oSettings.oScroll.sX)}$(nScrollBody).scroll(function(e){nScrollHead.scrollLeft=this.scrollLeft;if(nTfoot!==null){nScrollFoot.scrollLeft=this.scrollLeft}})}if(oSettings.oScroll.sY!==""){nScrollBody.style.height=_fnStringToCss(oSettings.oScroll.sY)}oSettings.aoDrawCallback.push({fn:_fnScrollDraw,sName:"scrolling"});if(oSettings.oScroll.bInfinite){$(nScrollBody).scroll(function(){if(!oSettings.bDrawing){if($(this).scrollTop()+$(this).height()>$(oSettings.nTable).height()-oSettings.oScroll.iLoadGap){if(oSettings.fnDisplayEnd()<oSettings.fnRecordsDisplay()){_fnPageChange(oSettings,"next");_fnCalculateEnd(oSettings);_fnDraw(oSettings)}}}})}oSettings.nScrollHead=nScrollHead;oSettings.nScrollFoot=nScrollFoot;return nScroller}function _fnScrollDraw(o){var nScrollHeadInner=o.nScrollHead.getElementsByTagName("div")[0],nScrollHeadTable=nScrollHeadInner.getElementsByTagName("table")[0],nScrollBody=o.nTable.parentNode,i,iLen,j,jLen,anHeadToSize,anHeadSizers,anFootSizers,anFootToSize,oStyle,iVis,iWidth,aApplied=[],iSanityWidth;var nTheadSize=o.nTable.getElementsByTagName("thead");if(nTheadSize.length>0){o.nTable.removeChild(nTheadSize[0])}if(o.nTFoot!==null){var nTfootSize=o.nTable.getElementsByTagName("tfoot");if(nTfootSize.length>0){o.nTable.removeChild(nTfootSize[0])}}nTheadSize=o.nTHead.cloneNode(true);o.nTable.insertBefore(nTheadSize,o.nTable.childNodes[0]);if(o.nTFoot!==null){nTfootSize=o.nTFoot.cloneNode(true);o.nTable.insertBefore(nTfootSize,o.nTable.childNodes[1])}var nThs=_fnGetUniqueThs(nTheadSize);for(i=0,iLen=nThs.length;i<iLen;i++){iVis=_fnVisibleToColumnIndex(o,i);nThs[i].style.width=o.aoColumns[iVis].sWidth}if(o.nTFoot!==null){_fnApplyToChildren(function(n){n.style.width=""},nTfootSize.getElementsByTagName("tr"))}iSanityWidth=$(o.nTable).outerWidth();if(o.oScroll.sX===""){o.nTable.style.width="100%";if($.browser.msie&&$.browser.version<=7){o.nTable.style.width=_fnStringToCss($(o.nTable).outerWidth()-o.oScroll.iBarWidth)}}else{if(o.oScroll.sXInner!==""){o.nTable.style.width=_fnStringToCss(o.oScroll.sXInner)}else{if(iSanityWidth==$(nScrollBody).width()&&$(nScrollBody).height()<$(o.nTable).height()){o.nTable.style.width=_fnStringToCss(iSanityWidth-o.oScroll.iBarWidth);if($(o.nTable).outerWidth()>iSanityWidth-o.oScroll.iBarWidth){o.nTable.style.width=_fnStringToCss(iSanityWidth)}}else{o.nTable.style.width=_fnStringToCss(iSanityWidth)}}}iSanityWidth=$(o.nTable).outerWidth();anHeadToSize=o.nTHead.getElementsByTagName("tr");anHeadSizers=nTheadSize.getElementsByTagName("tr");_fnApplyToChildren(function(nSizer,nToSize){oStyle=nSizer.style;oStyle.paddingTop="0";oStyle.paddingBottom="0";oStyle.borderTopWidth="0";oStyle.borderBottomWidth="0";oStyle.height=0;iWidth=$(nSizer).width();nToSize.style.width=_fnStringToCss(iWidth);aApplied.push(iWidth)},anHeadSizers,anHeadToSize);$(anHeadSizers).height(0);if(o.nTFoot!==null){anFootSizers=nTfootSize.getElementsByTagName("tr");anFootToSize=o.nTFoot.getElementsByTagName("tr");_fnApplyToChildren(function(nSizer,nToSize){oStyle=nSizer.style;oStyle.paddingTop="0";oStyle.paddingBottom="0";oStyle.borderTopWidth="0";oStyle.borderBottomWidth="0";iWidth=$(nSizer).width();nToSize.style.width=_fnStringToCss(iWidth);aApplied.push(iWidth)},anFootSizers,anFootToSize);$(anFootSizers).height(0)}_fnApplyToChildren(function(nSizer){nSizer.innerHTML="";nSizer.style.width=_fnStringToCss(aApplied.shift())},anHeadSizers);if(o.nTFoot!==null){_fnApplyToChildren(function(nSizer){nSizer.innerHTML="";nSizer.style.width=_fnStringToCss(aApplied.shift())},anFootSizers)}if($(o.nTable).outerWidth()<iSanityWidth){if(o.oScroll.sX===""){_fnLog(o,1,"The table cannot fit into the current element which will cause column misalignment. It is suggested that you enable x-scrolling or increase the width the table has in which to be drawn")}else{if(o.oScroll.sXInner!==""){_fnLog(o,1,"The table cannot fit into the current element which will cause column misalignment. It is suggested that you increase the sScrollXInner property to allow it to draw in a larger area, or simply remove that parameter to allow automatic calculation")}}}if(o.oScroll.sY===""){if($.browser.msie&&$.browser.version<=7){nScrollBody.style.height=_fnStringToCss(o.nTable.offsetHeight+o.oScroll.iBarWidth)}}if(o.oScroll.sY!==""&&o.oScroll.bCollapse){nScrollBody.style.height=_fnStringToCss(o.oScroll.sY);var iExtra=(o.oScroll.sX!==""&&o.nTable.offsetWidth>nScrollBody.offsetWidth)?o.oScroll.iBarWidth:0;if(o.nTable.offsetHeight<nScrollBody.offsetHeight){nScrollBody.style.height=_fnStringToCss($(o.nTable).height()+iExtra)}}var iOuterWidth=$(o.nTable).outerWidth();nScrollHeadTable.style.width=_fnStringToCss(iOuterWidth);nScrollHeadInner.style.width=_fnStringToCss(iOuterWidth+o.oScroll.iBarWidth);nScrollHeadInner.parentNode.style.width=_fnStringToCss($(nScrollBody).width());if(o.nTFoot!==null){var nScrollFootInner=o.nScrollFoot.getElementsByTagName("div")[0],nScrollFootTable=nScrollFootInner.getElementsByTagName("table")[0];nScrollFootInner.style.width=_fnStringToCss(o.nTable.offsetWidth+o.oScroll.iBarWidth);nScrollFootTable.style.width=_fnStringToCss(o.nTable.offsetWidth)}if(o.bSorted||o.bFiltered){nScrollBody.scrollTop=0}}function _fnAjustColumnSizing(oSettings){if(oSettings.oFeatures.bAutoWidth===false){return false}_fnCalculateColumnWidths(oSettings);for(var i=0,iLen=oSettings.aoColumns.length;i<iLen;i++){oSettings.aoColumns[i].nTh.style.width=oSettings.aoColumns[i].sWidth}}function _fnFeatureHtmlFilter(oSettings){var nFilter=document.createElement("div");if(oSettings.sTableId!==""&&typeof oSettings.aanFeatures.f=="undefined"){nFilter.setAttribute("id",oSettings.sTableId+"_filter")}nFilter.className=oSettings.oClasses.sFilter;var sSpace=oSettings.oLanguage.sSearch===""?"":" ";nFilter.innerHTML=oSettings.oLanguage.sSearch+sSpace+'<input type="text" />';var jqFilter=$("input",nFilter);jqFilter.val(oSettings.oPreviousSearch.sSearch.replace('"',"&quot;"));jqFilter.keyup(function(e){var n=oSettings.aanFeatures.f;for(var i=0,iLen=n.length;i<iLen;i++){if(n[i]!=this.parentNode){$("input",n[i]).val(this.value)}}if(this.value!=oSettings.oPreviousSearch.sSearch){_fnFilterComplete(oSettings,{sSearch:this.value,bRegex:oSettings.oPreviousSearch.bRegex,bSmart:oSettings.oPreviousSearch.bSmart})}});jqFilter.keypress(function(e){if(e.keyCode==13){return false}});return nFilter}function _fnFilterComplete(oSettings,oInput,iForce){_fnFilter(oSettings,oInput.sSearch,iForce,oInput.bRegex,oInput.bSmart);for(var i=0;i<oSettings.aoPreSearchCols.length;i++){_fnFilterColumn(oSettings,oSettings.aoPreSearchCols[i].sSearch,i,oSettings.aoPreSearchCols[i].bRegex,oSettings.aoPreSearchCols[i].bSmart)}if(_oExt.afnFiltering.length!==0){_fnFilterCustom(oSettings)}oSettings.bFiltered=true;oSettings._iDisplayStart=0;_fnCalculateEnd(oSettings);_fnDraw(oSettings);_fnBuildSearchArray(oSettings,0)}function _fnFilterCustom(oSettings){var afnFilters=_oExt.afnFiltering;for(var i=0,iLen=afnFilters.length;i<iLen;i++){var iCorrector=0;for(var j=0,jLen=oSettings.aiDisplay.length;j<jLen;j++){var iDisIndex=oSettings.aiDisplay[j-iCorrector];if(!afnFilters[i](oSettings,oSettings.aoData[iDisIndex]._aData,iDisIndex)){oSettings.aiDisplay.splice(j-iCorrector,1);iCorrector++}}}}function _fnFilterColumn(oSettings,sInput,iColumn,bRegex,bSmart){if(sInput===""){return}var iIndexCorrector=0;var rpSearch=_fnFilterCreateSearch(sInput,bRegex,bSmart);for(var i=oSettings.aiDisplay.length-1;i>=0;i--){var sData=_fnDataToSearch(oSettings.aoData[oSettings.aiDisplay[i]]._aData[iColumn],oSettings.aoColumns[iColumn].sType);if(!rpSearch.test(sData)){oSettings.aiDisplay.splice(i,1);iIndexCorrector++}}}function _fnFilter(oSettings,sInput,iForce,bRegex,bSmart){var i;var rpSearch=_fnFilterCreateSearch(sInput,bRegex,bSmart);if(typeof iForce=="undefined"||iForce===null){iForce=0}if(_oExt.afnFiltering.length!==0){iForce=1}if(sInput.length<=0){oSettings.aiDisplay.splice(0,oSettings.aiDisplay.length);oSettings.aiDisplay=oSettings.aiDisplayMaster.slice()}else{if(oSettings.aiDisplay.length==oSettings.aiDisplayMaster.length||oSettings.oPreviousSearch.sSearch.length>sInput.length||iForce==1||sInput.indexOf(oSettings.oPreviousSearch.sSearch)!==0){oSettings.aiDisplay.splice(0,oSettings.aiDisplay.length);_fnBuildSearchArray(oSettings,1);for(i=0;i<oSettings.aiDisplayMaster.length;i++){if(rpSearch.test(oSettings.asDataSearch[i])){oSettings.aiDisplay.push(oSettings.aiDisplayMaster[i])}}}else{var iIndexCorrector=0;for(i=0;i<oSettings.asDataSearch.length;i++){if(!rpSearch.test(oSettings.asDataSearch[i])){oSettings.aiDisplay.splice(i-iIndexCorrector,1);iIndexCorrector++}}}}oSettings.oPreviousSearch.sSearch=sInput;oSettings.oPreviousSearch.bRegex=bRegex;oSettings.oPreviousSearch.bSmart=bSmart}function _fnBuildSearchArray(oSettings,iMaster){oSettings.asDataSearch.splice(0,oSettings.asDataSearch.length);var aArray=(typeof iMaster!="undefined"&&iMaster==1)?oSettings.aiDisplayMaster:oSettings.aiDisplay;for(var i=0,iLen=aArray.length;i<iLen;i++){oSettings.asDataSearch[i]=_fnBuildSearchRow(oSettings,oSettings.aoData[aArray[i]]._aData)}}function _fnBuildSearchRow(oSettings,aData){var sSearch="";var nTmp=document.createElement("div");for(var j=0,jLen=oSettings.aoColumns.length;j<jLen;j++){if(oSettings.aoColumns[j].bSearchable){var sData=aData[j];sSearch+=_fnDataToSearch(sData,oSettings.aoColumns[j].sType)+"  "}}if(sSearch.indexOf("&")!==-1){nTmp.innerHTML=sSearch;sSearch=nTmp.textContent?nTmp.textContent:nTmp.innerText;sSearch=sSearch.replace(/\n/g," ").replace(/\r/g,"")}return sSearch}function _fnFilterCreateSearch(sSearch,bRegex,bSmart){var asSearch,sRegExpString;if(bSmart){asSearch=bRegex?sSearch.split(" "):_fnEscapeRegex(sSearch).split(" ");sRegExpString="^(?=.*?"+asSearch.join(")(?=.*?")+").*$";return new RegExp(sRegExpString,"i")}else{sSearch=bRegex?sSearch:_fnEscapeRegex(sSearch);return new RegExp(sSearch,"i")}}function _fnDataToSearch(sData,sType){if(typeof _oExt.ofnSearch[sType]=="function"){return _oExt.ofnSearch[sType](sData)}else{if(sType=="html"){return sData.replace(/\n/g," ").replace(/<.*?>/g,"")}else{if(typeof sData=="string"){return sData.replace(/\n/g," ")}}}return sData}function _fnSort(oSettings,bApplyClasses){var iDataSort,iDataType,i,iLen,j,jLen,aaSort=[],aiOrig=[],oSort=_oExt.oSort,aoData=oSettings.aoData,aoColumns=oSettings.aoColumns;if(!oSettings.oFeatures.bServerSide&&(oSettings.aaSorting.length!==0||oSettings.aaSortingFixed!==null)){if(oSettings.aaSortingFixed!==null){aaSort=oSettings.aaSortingFixed.concat(oSettings.aaSorting)}else{aaSort=oSettings.aaSorting.slice()}for(i=0;i<aaSort.length;i++){var iColumn=aaSort[i][0];var iVisColumn=_fnColumnIndexToVisible(oSettings,iColumn);var sDataType=oSettings.aoColumns[iColumn].sSortDataType;if(typeof _oExt.afnSortData[sDataType]!="undefined"){var aData=_oExt.afnSortData[sDataType](oSettings,iColumn,iVisColumn);for(j=0,jLen=aoData.length;j<jLen;j++){aoData[j]._aData[iColumn]=aData[j]}}}for(i=0,iLen=oSettings.aiDisplayMaster.length;i<iLen;i++){aiOrig[oSettings.aiDisplayMaster[i]]=i}var iSortLen=aaSort.length;var aiRowIndex=[];for(i=0,iLen=oSettings.aiDisplayMaster.length;i<iLen;i++){aiRowIndex[i]=oSettings.aiDisplayMaster[i]}for(i=0,iLen=oSettings.aiSortingSkipRows.length;i<iLen;i++){var iaddRowIndex=aiRowIndex.indexOf(oSettings.aiSortingSkipRows[i]);if(iaddRowIndex!=-1){aiRowIndex.splice(iaddRowIndex,1)}}aiRowIndex.sort(function(a,b){var iTest;for(i=0;i<iSortLen;i++){iDataSort=aoColumns[aaSort[i][0]].iDataSort;iDataType=aoColumns[iDataSort].sType;iTest=oSort[iDataType+"-"+aaSort[i][1]](aoData[a]._aData[iDataSort],aoData[b]._aData[iDataSort]);if(iTest!==0){return iTest}}return oSort["numeric-asc"](aiOrig[a],aiOrig[b])});oSettings.aiDisplayMaster=[];for(i=0,iLen=aiRowIndex.length;i<iLen;i++){oSettings.aiDisplayMaster[i]=aiRowIndex[i]}for(i=0,iLen=oSettings.aiSortingSkipRows.length;i<iLen;i++){oSettings.aiDisplayMaster.splice(oSettings.aiSortingSkipRows[i],0,oSettings.aiSortingSkipRows[i])}}if(typeof bApplyClasses=="undefined"||bApplyClasses){_fnSortingClasses(oSettings)}oSettings.bSorted=true;if(oSettings.oFeatures.bFilter){_fnFilterComplete(oSettings,oSettings.oPreviousSearch,1)}else{oSettings.aiDisplay=oSettings.aiDisplayMaster.slice();oSettings._iDisplayStart=0;_fnCalculateEnd(oSettings);_fnDraw(oSettings)}}function _fnSortAttachListener(oSettings,nNode,iDataIndex,fnCallback){$(nNode).click(function(e){if(oSettings.aoColumns[iDataIndex].bSortable===false){return}var fnInnerSorting=function(){var iColumn,iNextSort;if(e.shiftKey){var bFound=false;for(var i=0;i<oSettings.aaSorting.length;i++){if(oSettings.aaSorting[i][0]==iDataIndex){bFound=true;iColumn=oSettings.aaSorting[i][0];iNextSort=oSettings.aaSorting[i][2]+1;if(typeof oSettings.aoColumns[iColumn].asSorting[iNextSort]=="undefined"){oSettings.aaSorting.splice(i,1)}else{oSettings.aaSorting[i][1]=oSettings.aoColumns[iColumn].asSorting[iNextSort];oSettings.aaSorting[i][2]=iNextSort}break}}if(bFound===false){oSettings.aaSorting.push([iDataIndex,oSettings.aoColumns[iDataIndex].asSorting[0],0])}}else{if(oSettings.aaSorting.length==1&&oSettings.aaSorting[0][0]==iDataIndex){iColumn=oSettings.aaSorting[0][0];iNextSort=oSettings.aaSorting[0][2]+1;if(typeof oSettings.aoColumns[iColumn].asSorting[iNextSort]=="undefined"){iNextSort=0}oSettings.aaSorting[0][1]=oSettings.aoColumns[iColumn].asSorting[iNextSort];oSettings.aaSorting[0][2]=iNextSort}else{oSettings.aaSorting.splice(0,oSettings.aaSorting.length);oSettings.aaSorting.push([iDataIndex,oSettings.aoColumns[iDataIndex].asSorting[0],0])}}_fnSort(oSettings)};if(!oSettings.oFeatures.bProcessing){fnInnerSorting()}else{_fnProcessingDisplay(oSettings,true);setTimeout(function(){fnInnerSorting();if(!oSettings.oFeatures.bServerSide){_fnProcessingDisplay(oSettings,false)}},0)}if(typeof fnCallback=="function"){fnCallback(oSettings)}})}function _fnSortingClasses(oSettings){var i,iLen,j,jLen,iFound;var aaSort,sClass;var iColumns=oSettings.aoColumns.length;var oClasses=oSettings.oClasses;for(i=0;i<iColumns;i++){if(oSettings.aoColumns[i].bSortable){$(oSettings.aoColumns[i].nTh).removeClass(oClasses.sSortAsc+" "+oClasses.sSortDesc+" "+oSettings.aoColumns[i].sSortingClass)}}if(oSettings.aaSortingFixed!==null){aaSort=oSettings.aaSortingFixed.concat(oSettings.aaSorting)}else{aaSort=oSettings.aaSorting.slice()}for(i=0;i<oSettings.aoColumns.length;i++){if(oSettings.aoColumns[i].bSortable){sClass=oSettings.aoColumns[i].sSortingClass;iFound=-1;for(j=0;j<aaSort.length;j++){if(aaSort[j][0]==i){sClass=(aaSort[j][1]=="asc")?oClasses.sSortAsc:oClasses.sSortDesc;iFound=j;break}}$(oSettings.aoColumns[i].nTh).addClass(sClass);if(oSettings.bJUI){var jqSpan=$("span",oSettings.aoColumns[i].nTh);jqSpan.removeClass(oClasses.sSortJUIAsc+" "+oClasses.sSortJUIDesc+" "+oClasses.sSortJUI+" "+oClasses.sSortJUIAscAllowed+" "+oClasses.sSortJUIDescAllowed);var sSpanClass;if(iFound==-1){sSpanClass=oSettings.aoColumns[i].sSortingClassJUI}else{if(aaSort[iFound][1]=="asc"){sSpanClass=oClasses.sSortJUIAsc}else{sSpanClass=oClasses.sSortJUIDesc}}jqSpan.addClass(sSpanClass)}}else{$(oSettings.aoColumns[i].nTh).addClass(oSettings.aoColumns[i].sSortingClass)}}sClass=oClasses.sSortColumn;if(oSettings.oFeatures.bSort&&oSettings.oFeatures.bSortClasses){var nTds=_fnGetTdNodes(oSettings);if(nTds.length>=iColumns){for(i=0;i<iColumns;i++){if(nTds[i].className.indexOf(sClass+"1")!=-1){for(j=0,jLen=(nTds.length/iColumns);j<jLen;j++){nTds[(iColumns*j)+i].className=$.trim(nTds[(iColumns*j)+i].className.replace(sClass+"1",""))}}else{if(nTds[i].className.indexOf(sClass+"2")!=-1){for(j=0,jLen=(nTds.length/iColumns);j<jLen;j++){nTds[(iColumns*j)+i].className=$.trim(nTds[(iColumns*j)+i].className.replace(sClass+"2",""))}}else{if(nTds[i].className.indexOf(sClass+"3")!=-1){for(j=0,jLen=(nTds.length/iColumns);j<jLen;j++){nTds[(iColumns*j)+i].className=$.trim(nTds[(iColumns*j)+i].className.replace(" "+sClass+"3",""))}}}}}}var iClass=1,iTargetCol;for(i=0;i<aaSort.length;i++){iTargetCol=parseInt(aaSort[i][0],10);for(j=0,jLen=(nTds.length/iColumns);j<jLen;j++){nTds[(iColumns*j)+iTargetCol].className+=" "+sClass+iClass}if(iClass<3){iClass++}}}}function _fnFeatureHtmlPaginate(oSettings){if(oSettings.oScroll.bInfinite){return null}var nPaginate=document.createElement("div");nPaginate.className=oSettings.oClasses.sPaging+oSettings.sPaginationType;_oExt.oPagination[oSettings.sPaginationType].fnInit(oSettings,nPaginate,function(oSettings){_fnCalculateEnd(oSettings);_fnDraw(oSettings)});if(typeof oSettings.aanFeatures.p=="undefined"){oSettings.aoDrawCallback.push({fn:function(oSettings){_oExt.oPagination[oSettings.sPaginationType].fnUpdate(oSettings,function(oSettings){_fnCalculateEnd(oSettings);_fnDraw(oSettings)})},sName:"pagination"})}return nPaginate}function _fnPageChange(oSettings,sAction){var iOldStart=oSettings._iDisplayStart;if(sAction=="first"){oSettings._iDisplayStart=0}else{if(sAction=="previous"){oSettings._iDisplayStart=oSettings._iDisplayLength>=0?oSettings._iDisplayStart-oSettings._iDisplayLength:0;if(oSettings._iDisplayStart<0){oSettings._iDisplayStart=0}}else{if(sAction=="next"){if(oSettings._iDisplayLength>=0){if(oSettings._iDisplayStart+oSettings._iDisplayLength<oSettings.fnRecordsDisplay()){oSettings._iDisplayStart+=oSettings._iDisplayLength}}else{oSettings._iDisplayStart=0}}else{if(sAction=="last"){if(oSettings._iDisplayLength>=0){var iPages=parseInt((oSettings.fnRecordsDisplay()-1)/oSettings._iDisplayLength,10)+1;oSettings._iDisplayStart=(iPages-1)*oSettings._iDisplayLength}else{oSettings._iDisplayStart=0}}else{_fnLog(oSettings,0,"Unknown paging action: "+sAction)}}}}return iOldStart!=oSettings._iDisplayStart}function _fnFeatureHtmlInfo(oSettings){var nInfo=document.createElement("div");nInfo.className=oSettings.oClasses.sInfo;if(typeof oSettings.aanFeatures.i=="undefined"){oSettings.aoDrawCallback.push({fn:_fnUpdateInfo,sName:"information"});if(oSettings.sTableId!==""){nInfo.setAttribute("id",oSettings.sTableId+"_info")}}return nInfo}function _fnUpdateInfo(oSettings){if(!oSettings.oFeatures.bInfo||oSettings.aanFeatures.i.length===0){return}var iStart=oSettings._iDisplayStart+1,iEnd=oSettings.fnDisplayEnd(),iMax=oSettings.fnRecordsTotal(),iTotal=oSettings.fnRecordsDisplay(),sStart=oSettings.fnFormatNumber(iStart),sEnd=oSettings.fnFormatNumber(iEnd),sMax=oSettings.fnFormatNumber(iMax),sTotal=oSettings.fnFormatNumber(iTotal),sOut;if(oSettings.oScroll.bInfinite){sStart=oSettings.fnFormatNumber(1)}if(oSettings.fnRecordsDisplay()===0&&oSettings.fnRecordsDisplay()==oSettings.fnRecordsTotal()){sOut=oSettings.oLanguage.sInfoEmpty+oSettings.oLanguage.sInfoPostFix}else{if(oSettings.fnRecordsDisplay()===0){sOut=oSettings.oLanguage.sInfoEmpty+" "+oSettings.oLanguage.sInfoFiltered.replace("_MAX_",sMax)+oSettings.oLanguage.sInfoPostFix}else{if(oSettings.fnRecordsDisplay()==oSettings.fnRecordsTotal()){sOut=oSettings.oLanguage.sInfo.replace("_START_",sStart).replace("_END_",sEnd).replace("_TOTAL_",sTotal)+oSettings.oLanguage.sInfoPostFix}else{sOut=oSettings.oLanguage.sInfo.replace("_START_",sStart).replace("_END_",sEnd).replace("_TOTAL_",sTotal)+" "+oSettings.oLanguage.sInfoFiltered.replace("_MAX_",oSettings.fnFormatNumber(oSettings.fnRecordsTotal()))+oSettings.oLanguage.sInfoPostFix}}}if(oSettings.oLanguage.fnInfoCallback!==null){sOut=oSettings.oLanguage.fnInfoCallback(oSettings,iStart,iEnd,iMax,iTotal,sOut)}var n=oSettings.aanFeatures.i;for(var i=0,iLen=n.length;i<iLen;i++){$(n[i]).html(sOut)}}function _fnFeatureHtmlLength(oSettings){if(oSettings.oScroll.bInfinite){return null}var sName=(oSettings.sTableId==="")?"":'name="'+oSettings.sTableId+'_length"';var sStdMenu='<select size="1" '+sName+">";var i,iLen;if(oSettings.aLengthMenu.length==2&&typeof oSettings.aLengthMenu[0]=="object"&&typeof oSettings.aLengthMenu[1]=="object"){for(i=0,iLen=oSettings.aLengthMenu[0].length;i<iLen;i++){sStdMenu+='<option value="'+oSettings.aLengthMenu[0][i]+'">'+oSettings.aLengthMenu[1][i]+"</option>"}}else{for(i=0,iLen=oSettings.aLengthMenu.length;i<iLen;i++){sStdMenu+='<option value="'+oSettings.aLengthMenu[i]+'">'+oSettings.aLengthMenu[i]+"</option>"}}sStdMenu+="</select>";var nLength=document.createElement("div");if(oSettings.sTableId!==""&&typeof oSettings.aanFeatures.l=="undefined"){nLength.setAttribute("id",oSettings.sTableId+"_length")}nLength.className=oSettings.oClasses.sLength;nLength.innerHTML=oSettings.oLanguage.sLengthMenu.replace("_MENU_",sStdMenu);$('select option[value="'+oSettings._iDisplayLength+'"]',nLength).attr("selected",true);$("select",nLength).change(function(e){var iVal=$(this).val();var n=oSettings.aanFeatures.l;for(i=0,iLen=n.length;i<iLen;i++){if(n[i]!=this.parentNode){$("select",n[i]).val(iVal)}}oSettings._iDisplayLength=parseInt(iVal,10);_fnCalculateEnd(oSettings);if(oSettings.fnDisplayEnd()==oSettings.fnRecordsDisplay()){oSettings._iDisplayStart=oSettings.fnDisplayEnd()-oSettings._iDisplayLength;if(oSettings._iDisplayStart<0){oSettings._iDisplayStart=0}}if(oSettings._iDisplayLength==-1){oSettings._iDisplayStart=0}_fnDraw(oSettings)});return nLength}function _fnFeatureHtmlProcessing(oSettings){var nProcessing=document.createElement("div");if(oSettings.sTableId!==""&&typeof oSettings.aanFeatures.r=="undefined"){nProcessing.setAttribute("id",oSettings.sTableId+"_processing")}nProcessing.innerHTML=oSettings.oLanguage.sProcessing;nProcessing.className=oSettings.oClasses.sProcessing;oSettings.nTable.parentNode.insertBefore(nProcessing,oSettings.nTable);return nProcessing}function _fnProcessingDisplay(oSettings,bShow){if(oSettings.oFeatures.bProcessing){var an=oSettings.aanFeatures.r;for(var i=0,iLen=an.length;i<iLen;i++){an[i].style.visibility=bShow?"visible":"hidden"}}}function _fnVisibleToColumnIndex(oSettings,iMatch){var iColumn=-1;for(var i=0;i<oSettings.aoColumns.length;i++){if(oSettings.aoColumns[i].bVisible===true){iColumn++}if(iColumn==iMatch){return i}}return null}function _fnColumnIndexToVisible(oSettings,iMatch){var iVisible=-1;for(var i=0;i<oSettings.aoColumns.length;i++){if(oSettings.aoColumns[i].bVisible===true){iVisible++}if(i==iMatch){return oSettings.aoColumns[i].bVisible===true?iVisible:null}}return null}function _fnNodeToDataIndex(s,n){var i,iLen;for(i=s._iDisplayStart,iLen=s._iDisplayEnd;i<iLen;i++){if(s.aoData[s.aiDisplay[i]].nTr==n){return s.aiDisplay[i]}}for(i=0,iLen=s.aoData.length;i<iLen;i++){if(s.aoData[i].nTr==n){return i}}return null}function _fnVisbleColumns(oS){var iVis=0;for(var i=0;i<oS.aoColumns.length;i++){if(oS.aoColumns[i].bVisible===true){iVis++}}return iVis}function _fnCalculateEnd(oSettings){if(oSettings.oFeatures.bPaginate===false){oSettings._iDisplayEnd=oSettings.aiDisplay.length}else{if(oSettings._iDisplayStart+oSettings._iDisplayLength>oSettings.aiDisplay.length||oSettings._iDisplayLength==-1){oSettings._iDisplayEnd=oSettings.aiDisplay.length}else{oSettings._iDisplayEnd=oSettings._iDisplayStart+oSettings._iDisplayLength}}}function _fnConvertToWidth(sWidth,nParent){if(!sWidth||sWidth===null||sWidth===""){return 0}if(typeof nParent=="undefined"){nParent=document.getElementsByTagName("body")[0]}var iWidth;var nTmp=document.createElement("div");nTmp.style.width=sWidth;nParent.appendChild(nTmp);iWidth=nTmp.offsetWidth;nParent.removeChild(nTmp);return(iWidth)}function _fnCalculateColumnWidths(oSettings){var iTableWidth=oSettings.nTable.offsetWidth;var iUserInputs=0;var iTmpWidth;var iVisibleColumns=0;var iColums=oSettings.aoColumns.length;var i;var oHeaders=$("th",oSettings.nTHead);for(i=0;i<iColums;i++){if(oSettings.aoColumns[i].bVisible){iVisibleColumns++;if(oSettings.aoColumns[i].sWidth!==null){iTmpWidth=_fnConvertToWidth(oSettings.aoColumns[i].sWidthOrig,oSettings.nTable.parentNode);if(iTmpWidth!==null){oSettings.aoColumns[i].sWidth=_fnStringToCss(iTmpWidth)}iUserInputs++}}}if(iColums==oHeaders.length&&iUserInputs===0&&iVisibleColumns==iColums&&oSettings.oScroll.sX===""&&oSettings.oScroll.sY===""){for(i=0;i<oSettings.aoColumns.length;i++){iTmpWidth=$(oHeaders[i]).width();if(iTmpWidth!==null){oSettings.aoColumns[i].sWidth=_fnStringToCss(iTmpWidth)}}}else{var nCalcTmp=oSettings.nTable.cloneNode(false),nBody=document.createElement("tbody"),nTr=document.createElement("tr"),nDivSizing;nCalcTmp.removeAttribute("id");nCalcTmp.appendChild(oSettings.nTHead.cloneNode(true));if(oSettings.nTFoot!==null){nCalcTmp.appendChild(oSettings.nTFoot.cloneNode(true));_fnApplyToChildren(function(n){n.style.width=""},nCalcTmp.getElementsByTagName("tr"))}nCalcTmp.appendChild(nBody);nBody.appendChild(nTr);var jqColSizing=$("thead th",nCalcTmp);if(jqColSizing.length===0){jqColSizing=$("tbody tr:eq(0)>td",nCalcTmp)}jqColSizing.each(function(i){this.style.width="";var iIndex=_fnVisibleToColumnIndex(oSettings,i);if(iIndex!==null&&oSettings.aoColumns[iIndex].sWidthOrig!==""){this.style.width=oSettings.aoColumns[iIndex].sWidthOrig}});for(i=0;i<iColums;i++){if(oSettings.aoColumns[i].bVisible){var nTd=_fnGetWidestNode(oSettings,i);if(nTd!==null){nTd=nTd.cloneNode(true);nTr.appendChild(nTd)}}}var nWrapper=oSettings.nTable.parentNode;nWrapper.appendChild(nCalcTmp);if(oSettings.oScroll.sX!==""&&oSettings.oScroll.sXInner!==""){nCalcTmp.style.width=_fnStringToCss(oSettings.oScroll.sXInner)}else{if(oSettings.oScroll.sX!==""){nCalcTmp.style.width="";if($(nCalcTmp).width()<nWrapper.offsetWidth){nCalcTmp.style.width=_fnStringToCss(nWrapper.offsetWidth)}}else{if(oSettings.oScroll.sY!==""){nCalcTmp.style.width=_fnStringToCss(nWrapper.offsetWidth)}}}nCalcTmp.style.visibility="hidden";_fnScrollingWidthAdjust(oSettings,nCalcTmp);var oNodes=$("tbody tr:eq(0)>td",nCalcTmp);if(oNodes.length===0){oNodes=$("thead tr:eq(0)>th",nCalcTmp)}var iIndex,iCorrector=0,iWidth;for(i=0;i<oSettings.aoColumns.length;i++){if(oSettings.aoColumns[i].bVisible){iWidth=$(oNodes[iCorrector]).width();if(iWidth!==null&&iWidth>0){oSettings.aoColumns[i].sWidth=_fnStringToCss(iWidth)}iCorrector++}}oSettings.nTable.style.width=_fnStringToCss($(nCalcTmp).outerWidth());nCalcTmp.parentNode.removeChild(nCalcTmp)}}function _fnScrollingWidthAdjust(oSettings,n){if(oSettings.oScroll.sX===""&&oSettings.oScroll.sY!==""){var iOrigWidth=$(n).width();n.style.width=_fnStringToCss($(n).outerWidth()-oSettings.oScroll.iBarWidth)}else{if(oSettings.oScroll.sX!==""){n.style.width=_fnStringToCss($(n).outerWidth())}}}function _fnGetWidestNode(oSettings,iCol,bFast){if(typeof bFast=="undefined"||bFast){var iMaxLen=_fnGetMaxLenString(oSettings,iCol);var iFastVis=_fnColumnIndexToVisible(oSettings,iCol);if(iMaxLen<0){return null}return oSettings.aoData[iMaxLen].nTr.getElementsByTagName("td")[iFastVis]}var iMax=-1,i,iLen,iMaxIndex=-1,n=document.createElement("div");n.style.visibility="hidden";n.style.position="absolute";document.body.appendChild(n);for(i=0,iLen=oSettings.aoData.length;i<iLen;i++){n.innerHTML=oSettings.aoData[i]._aData[iCol];if(n.offsetWidth>iMax){iMax=n.offsetWidth;iMaxIndex=i}}document.body.removeChild(n);if(iMaxIndex>=0){var iVis=_fnColumnIndexToVisible(oSettings,iCol);var nRet=oSettings.aoData[iMaxIndex].nTr.getElementsByTagName("td")[iVis];if(nRet){return nRet}}return null}function _fnGetMaxLenString(oSettings,iCol){var iMax=-1;var iMaxIndex=-1;for(var i=0;i<oSettings.aoData.length;i++){var s=oSettings.aoData[i]._aData[iCol];if(s.length>iMax){iMax=s.length;iMaxIndex=i}}return iMaxIndex}function _fnStringToCss(s){if(s===null){return"0px"}if(typeof s=="number"){if(s<0){return"0px"}return s+"px"}var c=s.charCodeAt(s.length-1);if(c<48||c>57){return s}return s+"px"}function _fnArrayCmp(aArray1,aArray2){if(aArray1.length!=aArray2.length){return 1}for(var i=0;i<aArray1.length;i++){if(aArray1[i]!=aArray2[i]){return 2}}return 0}function _fnDetectType(sData){var aTypes=_oExt.aTypes;var iLen=aTypes.length;for(var i=0;i<iLen;i++){var sType=aTypes[i](sData);if(sType!==null){return sType}}return"string"}function _fnSettingsFromNode(nTable){for(var i=0;i<_aoSettings.length;i++){if(_aoSettings[i].nTable==nTable){return _aoSettings[i]}}return null}function _fnGetDataMaster(oSettings){var aData=[];var iLen=oSettings.aoData.length;for(var i=0;i<iLen;i++){aData.push(oSettings.aoData[i]._aData)}return aData}function _fnGetTrNodes(oSettings){var aNodes=[];var iLen=oSettings.aoData.length;for(var i=0;i<iLen;i++){aNodes.push(oSettings.aoData[i].nTr)}return aNodes}function _fnGetTdNodes(oSettings){var nTrs=_fnGetTrNodes(oSettings);var nTds=[],nTd;var anReturn=[];var iCorrector;var iRow,iRows,iColumn,iColumns;for(iRow=0,iRows=nTrs.length;iRow<iRows;iRow++){nTds=[];for(iColumn=0,iColumns=nTrs[iRow].childNodes.length;iColumn<iColumns;iColumn++){nTd=nTrs[iRow].childNodes[iColumn];if(nTd.nodeName.toUpperCase()=="TD"){nTds.push(nTd)}}iCorrector=0;for(iColumn=0,iColumns=oSettings.aoColumns.length;iColumn<iColumns;iColumn++){if(oSettings.aoColumns[iColumn].bVisible){anReturn.push(nTds[iColumn-iCorrector])}else{anReturn.push(oSettings.aoData[iRow]._anHidden[iColumn]);iCorrector++}}}return anReturn}function _fnEscapeRegex(sVal){var acEscape=["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^"];var reReplace=new RegExp("(\\"+acEscape.join("|\\")+")","g");return sVal.replace(reReplace,"\\$1")}function _fnDeleteIndex(a,iTarget){var iTargetIndex=-1;for(var i=0,iLen=a.length;i<iLen;i++){if(a[i]==iTarget){iTargetIndex=i}else{if(a[i]>iTarget){a[i]--}}}if(iTargetIndex!=-1){a.splice(iTargetIndex,1)}}function _fnReOrderIndex(oSettings,sColumns){var aColumns=sColumns.split(",");var aiReturn=[];for(var i=0,iLen=oSettings.aoColumns.length;i<iLen;i++){for(var j=0;j<iLen;j++){if(oSettings.aoColumns[i].sName==aColumns[j]){aiReturn.push(j);break}}}return aiReturn}function _fnColumnOrdering(oSettings){var sNames="";for(var i=0,iLen=oSettings.aoColumns.length;i<iLen;i++){sNames+=oSettings.aoColumns[i].sName+","}if(sNames.length==iLen){return""}return sNames.slice(0,-1)}function _fnLog(oSettings,iLevel,sMesg){var sAlert=oSettings.sTableId===""?"DataTables warning: "+sMesg:"DataTables warning (table id = '"+oSettings.sTableId+"'): "+sMesg;if(iLevel===0){if(_oExt.sErrMode=="alert"){alert(sAlert)}else{throw sAlert}return}else{if(typeof console!="undefined"&&typeof console.log!="undefined"){console.log(sAlert)}}}function _fnClearTable(oSettings){oSettings.aoData.splice(0,oSettings.aoData.length);oSettings.aiDisplayMaster.splice(0,oSettings.aiDisplayMaster.length);oSettings.aiDisplay.splice(0,oSettings.aiDisplay.length);_fnCalculateEnd(oSettings)}function _fnSaveState(oSettings){if(!oSettings.oFeatures.bStateSave||typeof oSettings.bDestroying!="undefined"){return}var i,iLen,sTmp;var sValue="{";sValue+='"iCreate":'+new Date().getTime()+",";sValue+='"iStart":'+oSettings._iDisplayStart+",";sValue+='"iEnd":'+oSettings._iDisplayEnd+",";sValue+='"iLength":'+oSettings._iDisplayLength+",";sValue+='"sFilter":"'+encodeURIComponent(oSettings.oPreviousSearch.sSearch)+'",';sValue+='"sFilterEsc":'+!oSettings.oPreviousSearch.bRegex+",";sValue+='"aaSorting":[ ';for(i=0;i<oSettings.aaSorting.length;i++){sValue+="["+oSettings.aaSorting[i][0]+',"'+oSettings.aaSorting[i][1]+'"],'}sValue=sValue.substring(0,sValue.length-1);sValue+="],";sValue+='"aaSearchCols":[ ';for(i=0;i<oSettings.aoPreSearchCols.length;i++){sValue+='["'+encodeURIComponent(oSettings.aoPreSearchCols[i].sSearch)+'",'+!oSettings.aoPreSearchCols[i].bRegex+"],"}sValue=sValue.substring(0,sValue.length-1);sValue+="],";sValue+='"abVisCols":[ ';for(i=0;i<oSettings.aoColumns.length;i++){sValue+=oSettings.aoColumns[i].bVisible+","}sValue=sValue.substring(0,sValue.length-1);sValue+="]";for(i=0,iLen=oSettings.aoStateSave.length;i<iLen;i++){sTmp=oSettings.aoStateSave[i].fn(oSettings,sValue);if(sTmp!==""){sValue=sTmp}}sValue+="}";_fnCreateCookie(oSettings.sCookiePrefix+oSettings.sInstance,sValue,oSettings.iCookieDuration,oSettings.sCookiePrefix,oSettings.fnCookieCallback)}function _fnLoadState(oSettings,oInit){if(!oSettings.oFeatures.bStateSave){return}var oData,i,iLen;var sData=_fnReadCookie(oSettings.sCookiePrefix+oSettings.sInstance);if(sData!==null&&sData!==""){try{oData=(typeof $.parseJSON=="function")?$.parseJSON(sData.replace(/'/g,'"')):eval("("+sData+")")}catch(e){return}for(i=0,iLen=oSettings.aoStateLoad.length;i<iLen;i++){if(!oSettings.aoStateLoad[i].fn(oSettings,oData)){return}}oSettings.oLoadedState=$.extend(true,{},oData);oSettings._iDisplayStart=oData.iStart;oSettings.iInitDisplayStart=oData.iStart;oSettings._iDisplayEnd=oData.iEnd;oSettings._iDisplayLength=oData.iLength;oSettings.oPreviousSearch.sSearch=decodeURIComponent(oData.sFilter);oSettings.aaSorting=oData.aaSorting.slice();oSettings.saved_aaSorting=oData.aaSorting.slice();if(typeof oData.sFilterEsc!="undefined"){oSettings.oPreviousSearch.bRegex=!oData.sFilterEsc}if(typeof oData.aaSearchCols!="undefined"){for(i=0;i<oData.aaSearchCols.length;i++){oSettings.aoPreSearchCols[i]={sSearch:decodeURIComponent(oData.aaSearchCols[i][0]),bRegex:!oData.aaSearchCols[i][1]}}}if(typeof oData.abVisCols!="undefined"){oInit.saved_aoColumns=[];for(i=0;i<oData.abVisCols.length;i++){oInit.saved_aoColumns[i]={};oInit.saved_aoColumns[i].bVisible=oData.abVisCols[i]}}}}function _fnCreateCookie(sName,sValue,iSecs,sBaseName,fnCallback){var date=new Date();date.setTime(date.getTime()+(iSecs*1000));var aParts=window.location.pathname.split("/");var sNameFile=sName+"_"+aParts.pop().replace(/[\/:]/g,"").toLowerCase();var sFullCookie,oData;if(fnCallback!==null){oData=(typeof $.parseJSON=="function")?$.parseJSON(sValue):eval("("+sValue+")");sFullCookie=fnCallback(sNameFile,oData,date.toGMTString(),aParts.join("/")+"/")}else{sFullCookie=sNameFile+"="+encodeURIComponent(sValue)+"; expires="+date.toGMTString()+"; path="+aParts.join("/")+"/"}var sOldName="",iOldTime=9999999999999;var iLength=_fnReadCookie(sNameFile)!==null?document.cookie.length:sFullCookie.length+document.cookie.length;if(iLength+10>4096){var aCookies=document.cookie.split(";");for(var i=0,iLen=aCookies.length;i<iLen;i++){if(aCookies[i].indexOf(sBaseName)!=-1){var aSplitCookie=aCookies[i].split("=");try{oData=eval("("+decodeURIComponent(aSplitCookie[1])+")")}catch(e){continue}if(typeof oData.iCreate!="undefined"&&oData.iCreate<iOldTime){sOldName=aSplitCookie[0];iOldTime=oData.iCreate}}}if(sOldName!==""){document.cookie=sOldName+"=; expires=Thu, 01-Jan-1970 00:00:01 GMT; path="+aParts.join("/")+"/"}}document.cookie=sFullCookie}function _fnReadCookie(sName){var aParts=window.location.pathname.split("/"),sNameEQ=sName+"_"+aParts[aParts.length-1].replace(/[\/:]/g,"").toLowerCase()+"=",sCookieContents=document.cookie.split(";");for(var i=0;i<sCookieContents.length;i++){var c=sCookieContents[i];while(c.charAt(0)==" "){c=c.substring(1,c.length)}if(c.indexOf(sNameEQ)===0){return decodeURIComponent(c.substring(sNameEQ.length,c.length))}}return null}function _fnGetUniqueThs(nThead){var nTrs=nThead.getElementsByTagName("tr");if(nTrs.length==1){return nTrs[0].getElementsByTagName("th")}var aLayout=[],aReturn=[];var ROWSPAN=2,COLSPAN=3,TDELEM=4;var i,j,k,iLen,jLen,iColumnShifted;var fnShiftCol=function(a,i,j){while(typeof a[i][j]!="undefined"){j++}return j};var fnAddRow=function(i){if(typeof aLayout[i]=="undefined"){aLayout[i]=[]}};for(i=0,iLen=nTrs.length;i<iLen;i++){fnAddRow(i);var iColumn=0;var nTds=[];for(j=0,jLen=nTrs[i].childNodes.length;j<jLen;j++){if(nTrs[i].childNodes[j].nodeName.toUpperCase()=="TD"||nTrs[i].childNodes[j].nodeName.toUpperCase()=="TH"){nTds.push(nTrs[i].childNodes[j])}}for(j=0,jLen=nTds.length;j<jLen;j++){var iColspan=nTds[j].getAttribute("colspan")*1;var iRowspan=nTds[j].getAttribute("rowspan")*1;if(!iColspan||iColspan===0||iColspan===1){iColumnShifted=fnShiftCol(aLayout,i,iColumn);aLayout[i][iColumnShifted]=(nTds[j].nodeName.toUpperCase()=="TD")?TDELEM:nTds[j];if(iRowspan||iRowspan===0||iRowspan===1){for(k=1;k<iRowspan;k++){fnAddRow(i+k);aLayout[i+k][iColumnShifted]=ROWSPAN}}iColumn++}else{iColumnShifted=fnShiftCol(aLayout,i,iColumn);for(k=0;k<iColspan;k++){aLayout[i][iColumnShifted+k]=COLSPAN}iColumn+=iColspan}}}for(i=0,iLen=aLayout.length;i<iLen;i++){for(j=0,jLen=aLayout[i].length;j<jLen;j++){if(typeof aLayout[i][j]=="object"&&typeof aReturn[j]=="undefined"){aReturn[j]=aLayout[i][j]}}}return aReturn}function _fnScrollBarWidth(){var inner=document.createElement("p");var style=inner.style;style.width="100%";style.height="200px";var outer=document.createElement("div");style=outer.style;style.position="absolute";style.top="0px";style.left="0px";style.visibility="hidden";style.width="200px";style.height="150px";style.overflow="hidden";outer.appendChild(inner);document.body.appendChild(outer);var w1=inner.offsetWidth;outer.style.overflow="scroll";var w2=inner.offsetWidth;if(w1==w2){w2=outer.clientWidth}document.body.removeChild(outer);return(w1-w2)}function _fnApplyToChildren(fn,an1,an2){for(var i=0,iLen=an1.length;i<iLen;i++){for(var j=0,jLen=an1[i].childNodes.length;j<jLen;j++){if(an1[i].childNodes[j].nodeType==1){if(typeof an2!="undefined"){fn(an1[i].childNodes[j],an2[i].childNodes[j])}else{fn(an1[i].childNodes[j])}}}}}function _fnMap(oRet,oSrc,sName,sMappedName){if(typeof sMappedName=="undefined"){sMappedName=sName}if(typeof oSrc[sName]!="undefined"){oRet[sMappedName]=oSrc[sName]}}this.oApi._fnExternApiFunc=_fnExternApiFunc;this.oApi._fnInitalise=_fnInitalise;this.oApi._fnLanguageProcess=_fnLanguageProcess;this.oApi._fnAddColumn=_fnAddColumn;this.oApi._fnColumnOptions=_fnColumnOptions;this.oApi._fnAddData=_fnAddData;this.oApi._fnGatherData=_fnGatherData;this.oApi._fnDrawHead=_fnDrawHead;this.oApi._fnDraw=_fnDraw;this.oApi._fnReDraw=_fnReDraw;this.oApi._fnAjaxUpdate=_fnAjaxUpdate;this.oApi._fnAjaxUpdateDraw=_fnAjaxUpdateDraw;this.oApi._fnAddOptionsHtml=_fnAddOptionsHtml;this.oApi._fnFeatureHtmlTable=_fnFeatureHtmlTable;this.oApi._fnScrollDraw=_fnScrollDraw;this.oApi._fnAjustColumnSizing=_fnAjustColumnSizing;this.oApi._fnFeatureHtmlFilter=_fnFeatureHtmlFilter;this.oApi._fnFilterComplete=_fnFilterComplete;this.oApi._fnFilterCustom=_fnFilterCustom;this.oApi._fnFilterColumn=_fnFilterColumn;this.oApi._fnFilter=_fnFilter;this.oApi._fnBuildSearchArray=_fnBuildSearchArray;this.oApi._fnBuildSearchRow=_fnBuildSearchRow;this.oApi._fnFilterCreateSearch=_fnFilterCreateSearch;this.oApi._fnDataToSearch=_fnDataToSearch;this.oApi._fnSort=_fnSort;this.oApi._fnSortAttachListener=_fnSortAttachListener;this.oApi._fnSortingClasses=_fnSortingClasses;this.oApi._fnFeatureHtmlPaginate=_fnFeatureHtmlPaginate;this.oApi._fnPageChange=_fnPageChange;this.oApi._fnFeatureHtmlInfo=_fnFeatureHtmlInfo;this.oApi._fnUpdateInfo=_fnUpdateInfo;this.oApi._fnFeatureHtmlLength=_fnFeatureHtmlLength;this.oApi._fnFeatureHtmlProcessing=_fnFeatureHtmlProcessing;this.oApi._fnProcessingDisplay=_fnProcessingDisplay;this.oApi._fnVisibleToColumnIndex=_fnVisibleToColumnIndex;this.oApi._fnColumnIndexToVisible=_fnColumnIndexToVisible;this.oApi._fnNodeToDataIndex=_fnNodeToDataIndex;this.oApi._fnVisbleColumns=_fnVisbleColumns;this.oApi._fnCalculateEnd=_fnCalculateEnd;this.oApi._fnConvertToWidth=_fnConvertToWidth;this.oApi._fnCalculateColumnWidths=_fnCalculateColumnWidths;this.oApi._fnScrollingWidthAdjust=_fnScrollingWidthAdjust;this.oApi._fnGetWidestNode=_fnGetWidestNode;this.oApi._fnGetMaxLenString=_fnGetMaxLenString;this.oApi._fnStringToCss=_fnStringToCss;this.oApi._fnArrayCmp=_fnArrayCmp;this.oApi._fnDetectType=_fnDetectType;this.oApi._fnSettingsFromNode=_fnSettingsFromNode;this.oApi._fnGetDataMaster=_fnGetDataMaster;this.oApi._fnGetTrNodes=_fnGetTrNodes;this.oApi._fnGetTdNodes=_fnGetTdNodes;this.oApi._fnEscapeRegex=_fnEscapeRegex;this.oApi._fnDeleteIndex=_fnDeleteIndex;this.oApi._fnReOrderIndex=_fnReOrderIndex;this.oApi._fnColumnOrdering=_fnColumnOrdering;this.oApi._fnLog=_fnLog;this.oApi._fnClearTable=_fnClearTable;this.oApi._fnSaveState=_fnSaveState;this.oApi._fnLoadState=_fnLoadState;this.oApi._fnCreateCookie=_fnCreateCookie;this.oApi._fnReadCookie=_fnReadCookie;this.oApi._fnGetUniqueThs=_fnGetUniqueThs;this.oApi._fnScrollBarWidth=_fnScrollBarWidth;this.oApi._fnApplyToChildren=_fnApplyToChildren;this.oApi._fnMap=_fnMap;var _that=this;return this.each(function(){var i=0,iLen,j,jLen,k,kLen;for(i=0,iLen=_aoSettings.length;i<iLen;i++){if(_aoSettings[i].nTable==this){if(typeof oInit=="undefined"||(typeof oInit.bRetrieve!="undefined"&&oInit.bRetrieve===true)){return _aoSettings[i].oInstance}else{if(typeof oInit.bDestroy!="undefined"&&oInit.bDestroy===true){_aoSettings[i].oInstance.fnDestroy();break}else{_fnLog(_aoSettings[i],0,"Cannot reinitialise DataTable.\n\nTo retrieve the DataTables object for this table, please pass either no arguments to the dataTable() function, or set bRetrieve to true. Alternatively, to destory the old table and create a new one, set bDestroy to true (note that a lot of changes to the configuration can be made through the API which is usually much faster).");return}}}if(_aoSettings[i].sTableId!==""&&_aoSettings[i].sTableId==this.getAttribute("id")){_aoSettings.splice(i,1);break}}var oSettings=new classSettings();_aoSettings.push(oSettings);var bInitHandedOff=false;var bUsePassedData=false;var sId=this.getAttribute("id");if(sId!==null){oSettings.sTableId=sId;oSettings.sInstance=sId}else{oSettings.sInstance=_oExt._oExternConfig.iNextUnique++}if(this.nodeName.toLowerCase()!="table"){_fnLog(oSettings,0,"Attempted to initialise DataTables on a node which is not a table: "+this.nodeName);return}oSettings.oInstance=_that;oSettings.nTable=this;oSettings.oApi=_that.oApi;oSettings.sDestroyWidth=$(this).width();if(typeof oInit!="undefined"&&oInit!==null){oSettings.oInit=oInit;_fnMap(oSettings.oFeatures,oInit,"bPaginate");_fnMap(oSettings.oFeatures,oInit,"bLengthChange");_fnMap(oSettings.oFeatures,oInit,"bFilter");_fnMap(oSettings.oFeatures,oInit,"bSort");_fnMap(oSettings.oFeatures,oInit,"bInfo");_fnMap(oSettings.oFeatures,oInit,"bProcessing");_fnMap(oSettings.oFeatures,oInit,"bAutoWidth");_fnMap(oSettings.oFeatures,oInit,"bSortClasses");_fnMap(oSettings.oFeatures,oInit,"bServerSide");_fnMap(oSettings.oScroll,oInit,"sScrollX","sX");_fnMap(oSettings.oScroll,oInit,"sScrollXInner","sXInner");_fnMap(oSettings.oScroll,oInit,"sScrollY","sY");_fnMap(oSettings.oScroll,oInit,"bScrollCollapse","bCollapse");_fnMap(oSettings.oScroll,oInit,"bScrollInfinite","bInfinite");_fnMap(oSettings.oScroll,oInit,"iScrollLoadGap","iLoadGap");_fnMap(oSettings.oScroll,oInit,"bScrollAutoCss","bAutoCss");_fnMap(oSettings,oInit,"asStripClasses");_fnMap(oSettings,oInit,"fnRowCallback");_fnMap(oSettings,oInit,"fnHeaderCallback");_fnMap(oSettings,oInit,"fnFooterCallback");_fnMap(oSettings,oInit,"fnCookieCallback");_fnMap(oSettings,oInit,"fnInitComplete");_fnMap(oSettings,oInit,"fnServerData");_fnMap(oSettings,oInit,"fnFormatNumber");_fnMap(oSettings,oInit,"aaSorting");_fnMap(oSettings,oInit,"aaSortingFixed");_fnMap(oSettings,oInit,"aLengthMenu");_fnMap(oSettings,oInit,"sPaginationType");_fnMap(oSettings,oInit,"sAjaxSource");_fnMap(oSettings,oInit,"iCookieDuration");_fnMap(oSettings,oInit,"sCookiePrefix");_fnMap(oSettings,oInit,"sDom");_fnMap(oSettings,oInit,"oSearch","oPreviousSearch");_fnMap(oSettings,oInit,"aoSearchCols","aoPreSearchCols");_fnMap(oSettings,oInit,"iDisplayLength","_iDisplayLength");_fnMap(oSettings,oInit,"bJQueryUI","bJUI");_fnMap(oSettings.oLanguage,oInit,"fnInfoCallback");_fnMap(oSettings,oInit,"aiSortingSkipRows");if(typeof oInit.fnDrawCallback=="function"){oSettings.aoDrawCallback.push({fn:oInit.fnDrawCallback,sName:"user"})}if(typeof oInit.fnStateSaveCallback=="function"){oSettings.aoStateSave.push({fn:oInit.fnStateSaveCallback,sName:"user"})}if(typeof oInit.fnStateLoadCallback=="function"){oSettings.aoStateLoad.push({fn:oInit.fnStateLoadCallback,sName:"user"})}if(oSettings.oFeatures.bServerSide&&oSettings.oFeatures.bSort&&oSettings.oFeatures.bSortClasses){oSettings.aoDrawCallback.push({fn:_fnSortingClasses,sName:"server_side_sort_classes"})}if(typeof oInit.bJQueryUI!="undefined"&&oInit.bJQueryUI){oSettings.oClasses=_oExt.oJUIClasses;if(typeof oInit.sDom=="undefined"){oSettings.sDom='<"H"lfr>t<"F"ip>'}}if(oSettings.oScroll.sX!==""||oSettings.oScroll.sY!==""){oSettings.oScroll.iBarWidth=_fnScrollBarWidth()}if(typeof oInit.iDisplayStart!="undefined"&&typeof oSettings.iInitDisplayStart=="undefined"){oSettings.iInitDisplayStart=oInit.iDisplayStart;oSettings._iDisplayStart=oInit.iDisplayStart}if(typeof oInit.bStateSave!="undefined"){oSettings.oFeatures.bStateSave=oInit.bStateSave;_fnLoadState(oSettings,oInit);oSettings.aoDrawCallback.push({fn:_fnSaveState,sName:"state_save"})}if(typeof oInit.aaData!="undefined"){bUsePassedData=true}if(typeof oInit!="undefined"&&typeof oInit.aoData!="undefined"){oInit.aoColumns=oInit.aoData}if(typeof oInit.oLanguage!="undefined"){if(typeof oInit.oLanguage.sUrl!="undefined"&&oInit.oLanguage.sUrl!==""){oSettings.oLanguage.sUrl=oInit.oLanguage.sUrl;$.getJSON(oSettings.oLanguage.sUrl,null,function(json){_fnLanguageProcess(oSettings,json,true)});bInitHandedOff=true}else{_fnLanguageProcess(oSettings,oInit.oLanguage,false)}}}else{oInit={}}if(typeof oInit.asStripClasses=="undefined"){oSettings.asStripClasses.push(oSettings.oClasses.sStripOdd);oSettings.asStripClasses.push(oSettings.oClasses.sStripEven)}var bStripeRemove=false;var anRows=$("tbody>tr",this);for(i=0,iLen=oSettings.asStripClasses.length;i<iLen;i++){if(anRows.filter(":lt(2)").hasClass(oSettings.asStripClasses[i])){bStripeRemove=true;break}}if(bStripeRemove){oSettings.asDestoryStrips=["",""];if($(anRows[0]).hasClass(oSettings.oClasses.sStripOdd)){oSettings.asDestoryStrips[0]+=oSettings.oClasses.sStripOdd+" "}if($(anRows[0]).hasClass(oSettings.oClasses.sStripEven)){oSettings.asDestoryStrips[0]+=oSettings.oClasses.sStripEven}if($(anRows[1]).hasClass(oSettings.oClasses.sStripOdd)){oSettings.asDestoryStrips[1]+=oSettings.oClasses.sStripOdd+" "}if($(anRows[1]).hasClass(oSettings.oClasses.sStripEven)){oSettings.asDestoryStrips[1]+=oSettings.oClasses.sStripEven}anRows.removeClass(oSettings.asStripClasses.join(" "))}var nThead=this.getElementsByTagName("thead");var anThs=nThead.length===0?[]:_fnGetUniqueThs(nThead[0]);var aoColumnsInit;if(typeof oInit.aoColumns=="undefined"){aoColumnsInit=[];for(i=0,iLen=anThs.length;i<iLen;i++){aoColumnsInit.push(null)}}else{aoColumnsInit=oInit.aoColumns}for(i=0,iLen=aoColumnsInit.length;i<iLen;i++){if(typeof oInit.saved_aoColumns!="undefined"&&oInit.saved_aoColumns.length==iLen){if(aoColumnsInit[i]===null){aoColumnsInit[i]={}}aoColumnsInit[i].bVisible=oInit.saved_aoColumns[i].bVisible}_fnAddColumn(oSettings,anThs?anThs[i]:null)}if(typeof oInit.aoColumnDefs!="undefined"){for(i=oInit.aoColumnDefs.length-1;i>=0;i--){var aTargets=oInit.aoColumnDefs[i].aTargets;if(!$.isArray(aTargets)){_fnLog(oSettings,1,"aTargets must be an array of targets, not a "+(typeof aTargets))}for(j=0,jLen=aTargets.length;j<jLen;j++){if(typeof aTargets[j]=="number"&&aTargets[j]>=0){while(oSettings.aoColumns.length<=aTargets[j]){_fnAddColumn(oSettings)}_fnColumnOptions(oSettings,aTargets[j],oInit.aoColumnDefs[i])}else{if(typeof aTargets[j]=="number"&&aTargets[j]<0){_fnColumnOptions(oSettings,oSettings.aoColumns.length+aTargets[j],oInit.aoColumnDefs[i])}else{if(typeof aTargets[j]=="string"){for(k=0,kLen=oSettings.aoColumns.length;k<kLen;k++){if(aTargets[j]=="_all"||oSettings.aoColumns[k].nTh.className.indexOf(aTargets[j])!=-1){_fnColumnOptions(oSettings,k,oInit.aoColumnDefs[i])}}}}}}}}if(typeof aoColumnsInit!="undefined"){for(i=0,iLen=aoColumnsInit.length;i<iLen;i++){_fnColumnOptions(oSettings,i,aoColumnsInit[i])}}for(i=0,iLen=oSettings.aaSorting.length;i<iLen;i++){if(oSettings.aaSorting[i][0]>=oSettings.aoColumns.length){oSettings.aaSorting[i][0]=0}var oColumn=oSettings.aoColumns[oSettings.aaSorting[i][0]];if(typeof oSettings.aaSorting[i][2]=="undefined"){oSettings.aaSorting[i][2]=0}if(typeof oInit.aaSorting=="undefined"&&typeof oSettings.saved_aaSorting=="undefined"){oSettings.aaSorting[i][1]=oColumn.asSorting[0]}for(j=0,jLen=oColumn.asSorting.length;j<jLen;j++){if(oSettings.aaSorting[i][1]==oColumn.asSorting[j]){oSettings.aaSorting[i][2]=j;break}}}_fnSortingClasses(oSettings);if(this.getElementsByTagName("thead").length===0){this.appendChild(document.createElement("thead"))}if(this.getElementsByTagName("tbody").length===0){this.appendChild(document.createElement("tbody"))}oSettings.nTHead=this.getElementsByTagName("thead")[0];oSettings.nTBody=this.getElementsByTagName("tbody")[0];if(this.getElementsByTagName("tfoot").length>0){oSettings.nTFoot=this.getElementsByTagName("tfoot")[0]}if(bUsePassedData){for(i=0;i<oInit.aaData.length;i++){_fnAddData(oSettings,oInit.aaData[i])}}else{_fnGatherData(oSettings)}oSettings.aiDisplay=oSettings.aiDisplayMaster.slice();oSettings.bInitialised=true;if(bInitHandedOff===false){_fnInitalise(oSettings)}})}})(jQuery,window,document);if(typeof jQuery=="undefined"){throw ("jQuery could not be found.")}(function(a){a.extend({DirtyForm:{debug:false,changedClass:"changed",addClassOn:new Function,hasFirebug:"console" in window&&"firebug" in window.console,includeHidden:false,monitorEvent:"blur",logger:function(b){if(this.debug){b="DirtyForm: "+b;this.hasFirebug?console.log(b):alert(b)}},input_value:function(b){if(b.is(":radio,:checkbox")){return typeof(b.attr("checked"))=="undefined"?false:b.attr("checked")}else{return b.val()}},input_reset:function(b){if(b.is(":radio,:checkbox")){b.attr("checked",b.data("initial"))}else{b.val(b.data("initial"))}b.trigger(a.DirtyForm.monitorEvent+".dirty_form")},input_checker:function(f){var h=a(f.target),e=h.parents(".dirtyform"),c=h.data("initial"),g=a.DirtyForm.input_value(h),b=f.data.inputs,d=f.data.settings;if(c!=g){a.DirtyForm.logger("Form "+e.attr("class")+' is dirty. Changed from "'+c+'" to "'+g+'"');a.DirtyForm.logger("Class: "+d.changedClass);e.data("dirty",true).trigger("dirty",{target:h,from:c,to:g,preventDefault:function(){return false},stopPropagation:function(){return false},bubbles:true,cancelable:true});h.add(d.addClassOn.apply(h)).addClass(d.changedClass)}else{h.add(d.addClassOn.apply(h)).removeClass(d.changedClass)}if(!b.filter("."+d.changedClass).size()){e.data("dirty",false).trigger("clean",{target:h,preventDefault:function(){return false},stopPropagation:function(){return false},bubbles:true,cancelable:true})}}}});a.fn.clean_form=function(){return this.each(function(){var c=a(this);if(c.is("form")){c.reset().find(".changed:input").each(function(){a(this).trigger(a.DirtyForm.monitorEvent+".dirty_form")})}else{var b=":submit,:password,:button";if(!settings.includeHidden){b=":hidden,"+b}a(":input:not("+b+")",c).each(function(){a.DirtyForm.input_reset(a(this))})}})};a.fn.dirty_form=function(){var c={changedClass:a.DirtyForm.changedClass,addClassOn:a.DirtyForm.addClassOn,dynamic:a.isFunction(a.livequery)};var b=a.extend(c,arguments.length!=0?arguments[0]:{});return this.each(function(){var f=a(this);var e=":submit,:password,:button";if(!b.includeHidden){e=":hidden,"+e}var d=a(":input:not("+e+")",f);if(f.hasClass("dirtyform")){f.unbind("dirty").unbind("clean");d.unbind(a.DirtyForm.monitorEvent+".dirty_form")}else{a(this).addClass("dirtyform")}a.DirtyForm.logger("Storing initial data for form "+f.get(0));if(b.dynamic){d.livequery(function(){a(this).bind(a.DirtyForm.monitorEvent+".dirty_form",{inputs:d,settings:b},a.DirtyForm.input_checker).data("initial",a.DirtyForm.input_value(a(this)))})}else{d.each(function(){a(this).bind(a.DirtyForm.monitorEvent+".dirty_form",{inputs:d,settings:b},a.DirtyForm.input_checker).data("initial",a.DirtyForm.input_value(a(this)))})}})};a.fn.dirty_stopper=function(){var c={dialog:{title:"Warning: Unsaved Changes!",height:300,width:500,modal:true,resizeable:false,autoResize:false,overlay:{backgroundColor:"black",opacity:0.5}},message:"<br/><p>You have changed form data without saving. All of your changes will be lost.</p><p>Are you sure you want to proceed?</p>"};var b=a.extend(true,c,arguments.length!=0?arguments[0]:{});a.DirtyForm.logger("Setting dirty stoppers");return this.each(function(){var e=a(this);if(a(this).parents(".ui-tabs-nav").length>0){var d=a(this).parents(".ui-tabs-nav");d.find("a").unbind("click.dirty_form");d.unbind("tabsselect.dirty_form");d.bind("tabsselect.dirty_form",function(g,h){if(a(".dirtyform").are_dirty()){g.preventDefault();var j=a("<div id='dirty_stopper_dialog'/>").appendTo(document.body);var f=a(this).attr("href");j.dialog(a.extend(b.dialog,{buttons:{Proceed:function(){var k=a(h.tab).parent().siblings(".ui-tabs-selected").find("a").attr("href");a(".dirtyform",k).clean_form();d.tabs("select",a(h.tab).attr("href"));a(this).dialog("destroy").remove()},Cancel:function(){a(this).dialog("destroy").remove()}}})).dialog("moveToTop").append(b.message);return false}})}else{e.unbind("click.dirty_form");e.bind("click.dirty_form",function(g){if(a(".dirtyform").are_dirty()){g.preventDefault();var h=a("<div id='dirty_stopper_dialog'/>").appendTo(document.body),f=a(this).attr("href");h.dialog(a.extend({buttons:{Proceed:function(){window.location=f},Cancel:function(){a(this).dialog("destroy").remove();return false}}},b.dialog)).dialog("moveToTop").append(b.message)}})}})};a.fn.are_dirty=function(){var b=false;this.each(function(){if(a(this).data("dirty")){b=true}});return b};a.fn.dirty_checker=function(){a.DirtyForm.logger("Setting dirty checkers!");return this.each(function(){checker=a(this);checker.click(function(){if(a("form").are_dirty()){alert("Dirty Form!!")}else{alert("Clean Form ...phew!")}})})};a.fn.extend({dirty:function(b){return this.bind("dirty",b)},clean:function(b){return this.bind("clean",b)}})})(jQuery);eval(function(h,b,j,d,g,f){g=function(a){return(a<b?"":g(parseInt(a/b)))+((a=a%b)>35?String.fromCharCode(a+29):a.toString(36))};if(!"".replace(/^/,String)){while(j--){f[g(j)]=d[j]||g(j)}d=[function(a){return f[a]}];g=function(){return"\\w+"};j=1}while(j--){if(d[j]){h=h.replace(new RegExp("\\b"+g(j)+"\\b","g"),d[j])}}return h}("h.i['1a']=h.i['z'];h.O(h.i,{y:'D',z:9(x,t,b,c,d){6 h.i[h.i.y](x,t,b,c,d)},17:9(x,t,b,c,d){6 c*(t/=d)*t+b},D:9(x,t,b,c,d){6-c*(t/=d)*(t-2)+b},13:9(x,t,b,c,d){e((t/=d/2)<1)6 c/2*t*t+b;6-c/2*((--t)*(t-2)-1)+b},X:9(x,t,b,c,d){6 c*(t/=d)*t*t+b},U:9(x,t,b,c,d){6 c*((t=t/d-1)*t*t+1)+b},R:9(x,t,b,c,d){e((t/=d/2)<1)6 c/2*t*t*t+b;6 c/2*((t-=2)*t*t+2)+b},N:9(x,t,b,c,d){6 c*(t/=d)*t*t*t+b},M:9(x,t,b,c,d){6-c*((t=t/d-1)*t*t*t-1)+b},L:9(x,t,b,c,d){e((t/=d/2)<1)6 c/2*t*t*t*t+b;6-c/2*((t-=2)*t*t*t-2)+b},K:9(x,t,b,c,d){6 c*(t/=d)*t*t*t*t+b},J:9(x,t,b,c,d){6 c*((t=t/d-1)*t*t*t*t+1)+b},I:9(x,t,b,c,d){e((t/=d/2)<1)6 c/2*t*t*t*t*t+b;6 c/2*((t-=2)*t*t*t*t+2)+b},G:9(x,t,b,c,d){6-c*8.C(t/d*(8.g/2))+c+b},15:9(x,t,b,c,d){6 c*8.n(t/d*(8.g/2))+b},12:9(x,t,b,c,d){6-c/2*(8.C(8.g*t/d)-1)+b},Z:9(x,t,b,c,d){6(t==0)?b:c*8.j(2,10*(t/d-1))+b},Y:9(x,t,b,c,d){6(t==d)?b+c:c*(-8.j(2,-10*t/d)+1)+b},W:9(x,t,b,c,d){e(t==0)6 b;e(t==d)6 b+c;e((t/=d/2)<1)6 c/2*8.j(2,10*(t-1))+b;6 c/2*(-8.j(2,-10*--t)+2)+b},V:9(x,t,b,c,d){6-c*(8.o(1-(t/=d)*t)-1)+b},S:9(x,t,b,c,d){6 c*8.o(1-(t=t/d-1)*t)+b},Q:9(x,t,b,c,d){e((t/=d/2)<1)6-c/2*(8.o(1-t*t)-1)+b;6 c/2*(8.o(1-(t-=2)*t)+1)+b},P:9(x,t,b,c,d){f s=1.l;f p=0;f a=c;e(t==0)6 b;e((t/=d)==1)6 b+c;e(!p)p=d*.3;e(a<8.w(c)){a=c;f s=p/4}m f s=p/(2*8.g)*8.r(c/a);6-(a*8.j(2,10*(t-=1))*8.n((t*d-s)*(2*8.g)/p))+b},H:9(x,t,b,c,d){f s=1.l;f p=0;f a=c;e(t==0)6 b;e((t/=d)==1)6 b+c;e(!p)p=d*.3;e(a<8.w(c)){a=c;f s=p/4}m f s=p/(2*8.g)*8.r(c/a);6 a*8.j(2,-10*t)*8.n((t*d-s)*(2*8.g)/p)+c+b},T:9(x,t,b,c,d){f s=1.l;f p=0;f a=c;e(t==0)6 b;e((t/=d/2)==2)6 b+c;e(!p)p=d*(.3*1.5);e(a<8.w(c)){a=c;f s=p/4}m f s=p/(2*8.g)*8.r(c/a);e(t<1)6-.5*(a*8.j(2,10*(t-=1))*8.n((t*d-s)*(2*8.g)/p))+b;6 a*8.j(2,-10*(t-=1))*8.n((t*d-s)*(2*8.g)/p)*.5+c+b},F:9(x,t,b,c,d,s){e(s==u)s=1.l;6 c*(t/=d)*t*((s+1)*t-s)+b},E:9(x,t,b,c,d,s){e(s==u)s=1.l;6 c*((t=t/d-1)*t*((s+1)*t+s)+1)+b},16:9(x,t,b,c,d,s){e(s==u)s=1.l;e((t/=d/2)<1)6 c/2*(t*t*(((s*=(1.B))+1)*t-s))+b;6 c/2*((t-=2)*t*(((s*=(1.B))+1)*t+s)+2)+b},A:9(x,t,b,c,d){6 c-h.i.v(x,d-t,0,c,d)+b},v:9(x,t,b,c,d){e((t/=d)<(1/2.k)){6 c*(7.q*t*t)+b}m e(t<(2/2.k)){6 c*(7.q*(t-=(1.5/2.k))*t+.k)+b}m e(t<(2.5/2.k)){6 c*(7.q*(t-=(2.14/2.k))*t+.11)+b}m{6 c*(7.q*(t-=(2.18/2.k))*t+.19)+b}},1b:9(x,t,b,c,d){e(t<d/2)6 h.i.A(x,t*2,0,c,d)*.5+b;6 h.i.v(x,t*2-d,0,c,d)*.5+c*.5+b}});",62,74,"||||||return||Math|function|||||if|var|PI|jQuery|easing|pow|75|70158|else|sin|sqrt||5625|asin|||undefined|easeOutBounce|abs||def|swing|easeInBounce|525|cos|easeOutQuad|easeOutBack|easeInBack|easeInSine|easeOutElastic|easeInOutQuint|easeOutQuint|easeInQuint|easeInOutQuart|easeOutQuart|easeInQuart|extend|easeInElastic|easeInOutCirc|easeInOutCubic|easeOutCirc|easeInOutElastic|easeOutCubic|easeInCirc|easeInOutExpo|easeInCubic|easeOutExpo|easeInExpo||9375|easeInOutSine|easeInOutQuad|25|easeOutSine|easeInOutBack|easeInQuad|625|984375|jswing|easeInOutBounce".split("|"),0,{}))(function(d){var b=false;var f=null;var h={};var l={};var k={};var m;var j;var g;var a;var e={};var c=false;d.getMousePosition=function(o){var n=0;var p=0;if(!o){var o=window.event}if(o.pageX||o.pageY){n=o.pageX;p=o.pageY}else{if(o.clientX||o.clientY){n=o.clientX+document.body.scrollLeft+document.documentElement.scrollLeft;p=o.clientY+document.body.scrollTop+document.documentElement.scrollTop}}return{x:n,y:p}};d.updatePosition=function(o){var q=d.getMousePosition(o);var p=(q.x-m);var n=(q.y-j);d(f).css("top",(g+n));d(f).css("left",(a+p))};d(document).mousemove(function(n){if(b&&e[f.id]!="false"){d.updatePosition(n);if(l[f.id]!=undefined){l[f.id](n,f)}return false}});d(document).mouseup(function(n){if(b&&e[f.id]!="false"){b=false;if(h[f.id]!=undefined){h[f.id](n,f)}return false}});d.fn.ondrag=function(n){return this.each(function(){l[this.id]=n})};d.fn.ondrop=function(n){return this.each(function(){h[this.id]=n})};d.fn.dragOff=function(){return this.each(function(){e[this.id]="off"})};d.fn.dragOn=function(){return this.each(function(){e[this.id]="on"})};d.fn.setHandler=function(n){return this.each(function(){var o=this;k[this.id]=true;d(o).css("cursor","");e[o.id]="handler";d("#"+n).css("cursor","move");d("#"+n).mousedown(function(p){c=true;d(o).trigger("mousedown",p)});d("#"+n).mouseup(function(p){c=false})})};d.fn.easydrag=function(n){return this.each(function(){if(undefined==this.id||!this.id.length){this.id="easydrag"+(new Date().getTime())}k[this.id]=n?true:false;e[this.id]="on";d(this).css("cursor","move");d(this).mousedown(function(o){if((e[this.id]=="off")||(e[this.id]=="handler"&&!c)){return k[this.id]}d(this).css("position","absolute");d(this).css("z-index",parseInt(new Date().getTime()/1000));b=true;f=this;var p=d.getMousePosition(o);m=p.x;j=p.y;g=this.offsetTop;a=this.offsetLeft;d.updatePosition(o);return k[this.id]})})}})(jQuery);(function(aG){var ay,aq,ap,aD,aj,aA,ai,ax,am,al,au=0,aE={},aw=[],av=0,aF={},az=[],ag=null,ao=new Image,ae=/\.(jpg|gif|png|bmp|jpeg)(.*)?$/i,k=/[^\.]\.(swf)\s*$/i,ad,ac=1,an=0,ar="",at,aB,aC=false,ak=aG.extend(aG("<div/>")[0],{prop:0}),ab=aG.browser.msie&&aG.browser.version<7&&!window.XMLHttpRequest,aa=function(){aq.hide();ao.onerror=ao.onload=null;ag&&ag.abort();ay.empty()},R=function(){if(false===aE.onError(aw,au,aE)){aq.hide();aC=false}else{aE.titleShow=false;aE.width="auto";aE.height="auto";ay.html('<p id="fancybox-error">The requested content cannot be loaded.<br />Please try again later.</p>');ah()}},af=function(){var d=aw[au],l,f,e,j,h,b;aa();aE=aG.extend({},aG.fn.fancybox.defaults,typeof aG(d).data("fancybox")=="undefined"?aE:aG(d).data("fancybox"));b=aE.onStart(aw,au,aE);if(b===false){aC=false}else{if(typeof b=="object"){aE=aG.extend(aE,b)}e=aE.title||(d.nodeName?aG(d).attr("title"):d.title)||"";if(d.nodeName&&!aE.orig){aE.orig=aG(d).children("img:first").length?aG(d).children("img:first"):aG(d)}if(e===""&&aE.orig&&aE.titleFromAlt){e=aE.orig.attr("alt")}l=aE.href||(d.nodeName?aG(d).attr("href"):d.href)||null;if(/^(?:javascript)/i.test(l)||l=="#"){l=null}if(aE.type){f=aE.type;if(!l){l=aE.content}}else{if(aE.content){f="html"}else{if(l){f=l.match(ae)?"image":l.match(k)?"swf":aG(d).hasClass("iframe")?"iframe":l.indexOf("#")===0?"inline":"ajax"}}}if(f){if(f=="inline"){d=l.substr(l.indexOf("#"));f=aG(d).length>0?"inline":"ajax"}aE.type=f;aE.href=l;aE.title=e;if(aE.autoDimensions){if(aE.type=="html"||aE.type=="inline"||aE.type=="ajax"){aE.width="auto";aE.height="auto"}else{aE.autoDimensions=false}}if(aE.modal){aE.overlayShow=true;aE.hideOnOverlayClick=false;aE.hideOnContentClick=false;aE.enableEscapeButton=false;aE.showCloseButton=false}aE.padding=parseInt(aE.padding,10);aE.margin=parseInt(aE.margin,10);ay.css("padding",aE.padding+aE.margin);aG(".fancybox-inline-tmp").unbind("fancybox-cancel").bind("fancybox-change",function(){aG(this).replaceWith(aA.children())});switch(f){case"html":ay.html(aE.content);ah();break;case"inline":if(aG(d).parent().is("#fancybox-content")===true){aC=false;break}aG('<div class="fancybox-inline-tmp" />').hide().insertBefore(aG(d)).bind("fancybox-cleanup",function(){aG(this).replaceWith(aA.children())}).bind("fancybox-cancel",function(){aG(this).replaceWith(ay.children())});aG(d).appendTo(ay);ah();break;case"image":aC=false;aG.fancybox.showActivity();ao=new Image;ao.onerror=function(){R()};ao.onload=function(){aC=true;ao.onerror=ao.onload=null;aE.width=ao.width;aE.height=ao.height;aG("<img />").attr({id:"fancybox-img",src:ao.src,alt:aE.title}).appendTo(ay);P()};ao.src=l;break;case"swf":aE.scrolling="no";j='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+aE.width+'" height="'+aE.height+'"><param name="movie" value="'+l+'"></param>';h="";aG.each(aE.swf,function(m,n){j+='<param name="'+m+'" value="'+n+'"></param>';h+=" "+m+'="'+n+'"'});j+='<embed src="'+l+'" type="application/x-shockwave-flash" width="'+aE.width+'" height="'+aE.height+'"'+h+"></embed></object>";ay.html(j);ah();break;case"ajax":aC=false;aG.fancybox.showActivity();aE.ajax.win=aE.ajax.success;ag=aG.ajax(aG.extend({},aE.ajax,{url:l,data:aE.ajax.data||{},error:function(m){m.status>0&&R()},success:function(m,n,o){if((typeof o=="object"?o:ag).status==200){if(typeof aE.ajax.win=="function"){b=aE.ajax.win(l,m,n,o);if(b===false){aq.hide();return}else{if(typeof b=="string"||typeof b=="object"){m=b}}}ay.html(m);ah()}}}));break;case"iframe":P()}}else{R()}}},ah=function(){var b=aE.width,d=aE.height;b=b.toString().indexOf("%")>-1?parseInt((aG(window).width()-aE.margin*2)*parseFloat(b)/100,10)+"px":b=="auto"?"auto":b+"px";d=d.toString().indexOf("%")>-1?parseInt((aG(window).height()-aE.margin*2)*parseFloat(d)/100,10)+"px":d=="auto"?"auto":d+"px";ay.wrapInner('<div style="width:'+b+";height:"+d+";overflow: "+(aE.scrolling=="auto"?"auto":aE.scrolling=="yes"?"scroll":"hidden")+';position:relative;"></div>');aE.width=ay.width();aE.height=ay.height();P()},P=function(){var b,d;aq.hide();if(aD.is(":visible")&&false===aF.onCleanup(az,av,aF)){aG.event.trigger("fancybox-cancel");aC=false}else{aC=true;aG(aA.add(ap)).unbind();aG(window).unbind("resize.fb scroll.fb");aG(document).unbind("keydown.fb");aD.is(":visible")&&aF.titlePosition!=="outside"&&aD.css("height",aD.height());az=aw;av=au;aF=aE;if(aF.overlayShow){ap.css({"background-color":aF.overlayColor,opacity:aF.overlayOpacity,cursor:aF.hideOnOverlayClick?"pointer":"auto",height:aG(document).height()});if(!ap.is(":visible")){ab&&aG("select:not(#fancybox-tmp select)").filter(function(){return this.style.visibility!=="hidden"}).css({visibility:"hidden"}).one("fancybox-cleanup",function(){this.style.visibility="inherit"});ap.show()}}else{ap.hide()}aB=g();ar=aF.title||"";an=0;ax.empty().removeAttr("style").removeClass();if(aF.titleShow!==false){if(aG.isFunction(aF.titleFormat)){b=aF.titleFormat(ar,az,av,aF)}else{b=ar&&ar.length?aF.titlePosition=="float"?'<table id="fancybox-title-float-wrap" cellpadding="0" cellspacing="0"><tr><td id="fancybox-title-float-left"></td><td id="fancybox-title-float-main">'+ar+'</td><td id="fancybox-title-float-right"></td></tr></table>':'<div id="fancybox-title-'+aF.titlePosition+'">'+ar+"</div>":false}ar=b;if(!(!ar||ar==="")){ax.addClass("fancybox-title-"+aF.titlePosition).html(ar).appendTo("body").show();switch(aF.titlePosition){case"inside":ax.css({width:aB.width-aF.padding*2,marginLeft:aF.padding,marginRight:aF.padding});an=ax.outerHeight(true);ax.appendTo(aj);aB.height+=an;break;case"over":ax.css({marginLeft:aF.padding,width:aB.width-aF.padding*2,bottom:aF.padding}).appendTo(aj);break;case"float":ax.css("left",parseInt((ax.width()-aB.width-40)/2,10)*-1).appendTo(aD);break;default:ax.css({width:aB.width-aF.padding*2,paddingLeft:aF.padding,paddingRight:aF.padding}).appendTo(aD)}}}ax.hide();if(aD.is(":visible")){aG(ai.add(am).add(al)).hide();b=aD.position();at={top:b.top,left:b.left,width:aD.width(),height:aD.height()};d=at.width==aB.width&&at.height==aB.height;aA.fadeTo(aF.changeFade,0.3,function(){var e=function(){aA.html(ay.contents()).fadeTo(aF.changeFade,1,H)};aG.event.trigger("fancybox-change");aA.empty().removeAttr("filter").css({"border-width":aF.padding,width:aB.width-aF.padding*2,height:aE.autoDimensions?"auto":aB.height-an-aF.padding*2});if(d){e()}else{ak.prop=0;aG(ak).animate({prop:1},{duration:aF.changeSpeed,easing:aF.easingChange,step:C,complete:e})}})}else{aD.removeAttr("style");aA.css("border-width",aF.padding);if(aF.transitionIn=="elastic"){at=w();aA.html(ay.contents());aD.show();if(aF.opacity){aB.opacity=0}ak.prop=0;aG(ak).animate({prop:1},{duration:aF.speedIn,easing:aF.easingIn,step:C,complete:H})}else{aF.titlePosition=="inside"&&an>0&&ax.show();aA.css({width:aB.width-aF.padding*2,height:aE.autoDimensions?"auto":aB.height-an-aF.padding*2}).html(ay.contents());aD.css(aB).fadeIn(aF.transitionIn=="none"?0:aF.speedIn,H)}}}},c=function(){if(aF.enableEscapeButton||aF.enableKeyboardNav){aG(document).bind("keydown.fb",function(b){if(b.keyCode==27&&aF.enableEscapeButton){b.preventDefault();aG.fancybox.close()}else{if((b.keyCode==37||b.keyCode==39)&&aF.enableKeyboardNav&&b.target.tagName!=="INPUT"&&b.target.tagName!=="TEXTAREA"&&b.target.tagName!=="SELECT"){b.preventDefault();aG.fancybox[b.keyCode==37?"prev":"next"]()}}})}if(aF.showNavArrows){if(aF.cyclic&&az.length>1||av!==0){am.show()}if(aF.cyclic&&az.length>1||av!=az.length-1){al.show()}}else{am.hide();al.hide()}},H=function(){if(!aG.support.opacity){aA.get(0).style.removeAttribute("filter");aD.get(0).style.removeAttribute("filter")}aE.autoDimensions&&aA.css("height","auto");aD.css("height","auto");ar&&ar.length&&ax.show();aF.showCloseButton&&ai.show();c();aF.hideOnContentClick&&aA.bind("click",aG.fancybox.close);aF.hideOnOverlayClick&&ap.bind("click",aG.fancybox.close);aG(window).bind("resize.fb",aG.fancybox.resize);aF.centerOnScroll&&aG(window).bind("scroll.fb",aG.fancybox.center);if(aF.type=="iframe"){aG('<iframe id="fancybox-frame" name="fancybox-frame'+(new Date).getTime()+'" frameborder="0" hspace="0" '+(aG.browser.msie?'allowtransparency="true""':"")+' scrolling="'+aE.scrolling+'" src="'+aF.href+'"></iframe>').appendTo(aA)}aD.show();aC=false;aG.fancybox.center();aF.onComplete(az,av,aF);var b,d;if(az.length-1>av){b=az[av+1].href;if(typeof b!=="undefined"&&b.match(ae)){d=new Image;d.src=b}}if(av>0){b=az[av-1].href;if(typeof b!=="undefined"&&b.match(ae)){d=new Image;d.src=b}}},C=function(b){var d={width:parseInt(at.width+(aB.width-at.width)*b,10),height:parseInt(at.height+(aB.height-at.height)*b,10),top:parseInt(at.top+(aB.top-at.top)*b,10),left:parseInt(at.left+(aB.left-at.left)*b,10)};if(typeof aB.opacity!=="undefined"){d.opacity=b<0.5?0.5:b}aD.css(d);aA.css({width:d.width-aF.padding*2,height:d.height-an*b-aF.padding*2})},x=function(){return[aG(window).width()-aF.margin*2,aG(window).height()-aF.margin*2,aG(document).scrollLeft()+aF.margin,aG(document).scrollTop()+aF.margin]},g=function(){var b=x(),f={},e=aF.autoScale,d=aF.padding*2;f.width=aF.width.toString().indexOf("%")>-1?parseInt(b[0]*parseFloat(aF.width)/100,10):aF.width+d;f.height=aF.height.toString().indexOf("%")>-1?parseInt(b[1]*parseFloat(aF.height)/100,10):aF.height+d;if(e&&(f.width>b[0]||f.height>b[1])){if(aE.type=="image"||aE.type=="swf"){e=aF.width/aF.height;if(f.width>b[0]){f.width=b[0];f.height=parseInt((f.width-d)/e+d,10)}if(f.height>b[1]){f.height=b[1];f.width=parseInt((f.height-d)*e+d,10)}}else{f.width=Math.min(f.width,b[0]);f.height=Math.min(f.height,b[1])}}f.top=parseInt(Math.max(b[3]-20,b[3]+(b[1]-f.height-40)*0.5),10);f.left=parseInt(Math.max(b[2]-20,b[2]+(b[0]-f.width-40)*0.5),10);return f},w=function(){var b=aE.orig?aG(aE.orig):false,d={};if(b&&b.length){d=b.offset();d.top+=parseInt(b.css("paddingTop"),10)||0;d.left+=parseInt(b.css("paddingLeft"),10)||0;d.top+=parseInt(b.css("border-top-width"),10)||0;d.left+=parseInt(b.css("border-left-width"),10)||0;d.width=b.width();d.height=b.height();d={width:d.width+aF.padding*2,height:d.height+aF.padding*2,top:d.top-aF.padding-20,left:d.left-aF.padding-20}}else{b=x();d={width:aF.padding*2,height:aF.padding*2,top:parseInt(b[3]+b[1]*0.5,10),left:parseInt(b[2]+b[0]*0.5,10)}}return d},a=function(){if(aq.is(":visible")){aG("div",aq).css("top",ac*-40+"px");ac=(ac+1)%12}else{clearInterval(ad)}};aG.fn.fancybox=function(b){if(!aG(this).length){return this}aG(this).data("fancybox",aG.extend({},b,aG.metadata?aG(this).metadata():{})).unbind("click.fb").bind("click.fb",function(d){d.preventDefault();if(!aC){aC=true;aG(this).blur();aw=[];au=0;d=aG(this).attr("rel")||"";if(!d||d==""||d==="nofollow"){aw.push(this)}else{aw=aG("a[rel="+d+"], area[rel="+d+"]");au=aw.index(this)}af()}});return this};aG.fancybox=function(b,h){var e;if(!aC){aC=true;e=typeof h!=="undefined"?h:{};aw=[];au=parseInt(e.index,10)||0;if(aG.isArray(b)){for(var d=0,f=b.length;d<f;d++){if(typeof b[d]=="object"){aG(b[d]).data("fancybox",aG.extend({},e,b[d]))}else{b[d]=aG({}).data("fancybox",aG.extend({content:b[d]},e))}}aw=jQuery.merge(aw,b)}else{if(typeof b=="object"){aG(b).data("fancybox",aG.extend({},e,b))}else{b=aG({}).data("fancybox",aG.extend({content:b},e))}aw.push(b)}if(au>aw.length||au<0){au=0}af()}};aG.fancybox.showActivity=function(){clearInterval(ad);aq.show();ad=setInterval(a,66)};aG.fancybox.hideActivity=function(){aq.hide()};aG.fancybox.next=function(){return aG.fancybox.pos(av+1)};aG.fancybox.prev=function(){return aG.fancybox.pos(av-1)};aG.fancybox.pos=function(b){if(!aC){b=parseInt(b);aw=az;if(b>-1&&b<az.length){au=b;af()}else{if(aF.cyclic&&az.length>1){au=b>=az.length?0:az.length-1;af()}}}};aG.fancybox.cancel=function(){if(!aC){aC=true;aG.event.trigger("fancybox-cancel");aa();aE.onCancel(aw,au,aE);aC=false}};aG.fancybox.close=function(){function b(){ap.fadeOut("fast");ax.empty().hide();aD.hide();aG.event.trigger("fancybox-cleanup");aA.empty();aF.onClosed(az,av,aF);az=aE=[];av=au=0;aF=aE={};aC=false}if(!(aC||aD.is(":hidden"))){aC=true;if(aF&&false===aF.onCleanup(az,av,aF)){aC=false}else{aa();aG(ai.add(am).add(al)).hide();aG(aA.add(ap)).unbind();aG(window).unbind("resize.fb scroll.fb");aG(document).unbind("keydown.fb");aA.find("iframe").attr("src",ab&&/^https/i.test(window.location.href||"")?"javascript:void(false)":"about:blank");aF.titlePosition!=="inside"&&ax.empty();aD.stop();if(aF.transitionOut=="elastic"){at=w();var d=aD.position();aB={top:d.top,left:d.left,width:aD.width(),height:aD.height()};if(aF.opacity){aB.opacity=1}ax.empty().hide();ak.prop=1;aG(ak).animate({prop:0},{duration:aF.speedOut,easing:aF.easingOut,step:C,complete:b})}else{aD.fadeOut(aF.transitionOut=="none"?0:aF.speedOut,b)}}}};aG.fancybox.resize=function(){ap.is(":visible")&&ap.css("height",aG(document).height());aG.fancybox.center(true)};aG.fancybox.center=function(b){var e,d;if(!aC){d=b===true?1:0;e=x();!d&&(aD.width()>e[0]||aD.height()>e[1])||aD.stop().animate({top:parseInt(Math.max(e[3]-20,e[3]+(e[1]-aA.height()-40)*0.5-aF.padding)),left:parseInt(Math.max(e[2]-20,e[2]+(e[0]-aA.width()-40)*0.5-aF.padding))},typeof b=="number"?b:200)}};aG.fancybox.init=function(){if(!aG("#fancybox-wrap").length){aG("body").append(ay=aG('<div id="fancybox-tmp"></div>'),aq=aG('<div id="fancybox-loading"><div></div></div>'),ap=aG('<div id="fancybox-overlay"></div>'),aD=aG('<div id="fancybox-wrap"></div>'));aj=aG('<div id="fancybox-outer"></div>').append('<div class="fancybox-bg" id="fancybox-bg-n"></div><div class="fancybox-bg" id="fancybox-bg-ne"></div><div class="fancybox-bg" id="fancybox-bg-e"></div><div class="fancybox-bg" id="fancybox-bg-se"></div><div class="fancybox-bg" id="fancybox-bg-s"></div><div class="fancybox-bg" id="fancybox-bg-sw"></div><div class="fancybox-bg" id="fancybox-bg-w"></div><div class="fancybox-bg" id="fancybox-bg-nw"></div>').appendTo(aD);aj.append(aA=aG('<div id="fancybox-content"></div>'),ai=aG('<a id="fancybox-close"></a>'),ax=aG('<div id="fancybox-title"></div>'),am=aG('<a href="javascript:;" id="fancybox-left"><span class="fancy-ico" id="fancybox-left-ico"></span></a>'),al=aG('<a href="javascript:;" id="fancybox-right"><span class="fancy-ico" id="fancybox-right-ico"></span></a>'));ai.click(aG.fancybox.close);aq.click(aG.fancybox.cancel);am.click(function(b){b.preventDefault();aG.fancybox.prev()});al.click(function(b){b.preventDefault();aG.fancybox.next()});aG.fn.mousewheel&&aD.bind("mousewheel.fb",function(b,d){if(aC){b.preventDefault()}else{if(aG(b.target).get(0).clientHeight==0||aG(b.target).get(0).scrollHeight===aG(b.target).get(0).clientHeight){b.preventDefault();aG.fancybox[d>0?"prev":"next"]()}}});aG.support.opacity||aD.addClass("fancybox-ie");if(ab){aq.addClass("fancybox-ie6");aD.addClass("fancybox-ie6");aG('<iframe id="fancybox-hide-sel-frame" src="'+(/^https/i.test(window.location.href||"")?"javascript:void(false)":"about:blank")+'" scrolling="no" border="0" frameborder="0" tabindex="-1"></iframe>').prependTo(aj)}}};aG.fn.fancybox.defaults={padding:10,margin:40,opacity:false,modal:false,cyclic:false,scrolling:"auto",width:560,height:340,autoScale:true,autoDimensions:true,centerOnScroll:false,ajax:{},swf:{wmode:"transparent"},hideOnOverlayClick:true,hideOnContentClick:false,overlayShow:true,overlayOpacity:0.7,overlayColor:"#777",titleShow:true,titlePosition:"float",titleFormat:null,titleFromAlt:false,transitionIn:"fade",transitionOut:"fade",speedIn:300,speedOut:300,changeSpeed:300,changeFade:"fast",easingIn:"swing",easingOut:"swing",showCloseButton:true,showNavArrows:true,enableEscapeButton:true,enableKeyboardNav:true,onStart:function(){},onCancel:function(){},onComplete:function(){},onCleanup:function(){},onClosed:function(){},onError:function(){}};aG(document).ready(function(){aG.fancybox.init()})})(jQuery);
/*!
 * jQuery Form Plugin
 * version: 2.64 (25-FEB-2011)
 * @requires jQuery v1.3.2 or later
 *
 * Examples and documentation at: http://malsup.com/jquery/form/
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 */
(function(b){b.fn.ajaxSubmit=function(w){if(!this.length){a("ajaxSubmit: skipping submit process - no element selected");return this}if(typeof w=="function"){w={success:w}}var h=this.attr("action");var d=(typeof h==="string")?b.trim(h):"";if(d){d=(d.match(/^([^#]+)/)||[])[1]}d=d||window.location.href||"";w=b.extend(true,{url:d,type:this[0].getAttribute("method")||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},w);var x={};this.trigger("form-pre-serialize",[this,w,x]);if(x.veto){a("ajaxSubmit: submit vetoed via form-pre-serialize trigger");return this}if(w.beforeSerialize&&w.beforeSerialize(this,w)===false){a("ajaxSubmit: submit aborted via beforeSerialize callback");return this}var f,r,o=this.formToArray(w.semantic);if(w.data){w.extraData=w.data;for(f in w.data){if(w.data[f] instanceof Array){for(var j in w.data[f]){o.push({name:f,value:w.data[f][j]})}}else{r=w.data[f];r=b.isFunction(r)?r():r;o.push({name:f,value:r})}}}if(w.beforeSubmit&&w.beforeSubmit(o,this,w)===false){a("ajaxSubmit: submit aborted via beforeSubmit callback");return this}this.trigger("form-submit-validate",[o,this,w,x]);if(x.veto){a("ajaxSubmit: submit vetoed via form-submit-validate trigger");return this}var c=b.param(o);if(w.type.toUpperCase()=="GET"){w.url+=(w.url.indexOf("?")>=0?"&":"?")+c;w.data=null}else{w.data=c}var u=this,m=[];if(w.resetForm){m.push(function(){u.resetForm()})}if(w.clearForm){m.push(function(){u.clearForm()})}if(!w.dataType&&w.target){var s=w.success||function(){};m.push(function(n){var k=w.replaceTarget?"replaceWith":"html";b(w.target)[k](n).each(s,arguments)})}else{if(w.success){m.push(w.success)}}w.success=function(y,n,z){var v=w.context||w;for(var q=0,k=m.length;q<k;q++){m[q].apply(v,[y,n,z||u,u])}};var g=b("input:file",this).length>0;var e="multipart/form-data";var l=(u.attr("enctype")==e||u.attr("encoding")==e);if(w.iframe!==false&&(g||w.iframe||l)){if(w.closeKeepAlive){b.get(w.closeKeepAlive,p)}else{p()}}else{b.ajax(w)}this.trigger("form-submit-notify",[this,w]);return this;function p(){var v=u[0];if(b(":input[name=submit],:input[id=submit]",v).length){alert('Error: Form elements must not have name or id of "submit".');return}var D=b.extend(true,{},b.ajaxSettings,w);D.context=D.context||D;var G="jqFormIO"+(new Date().getTime()),B="_"+G;var y=b('<iframe id="'+G+'" name="'+G+'" src="'+D.iframeSrc+'" />');var C=y[0];y.css({position:"absolute",top:"-1000px",left:"-1000px"});var z={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(){this.aborted=1;y.attr("src",D.iframeSrc)}};var K=D.global;if(K&&!b.active++){b.event.trigger("ajaxStart")}if(K){b.event.trigger("ajaxSend",[z,D])}if(D.beforeSend&&D.beforeSend.call(D.context,z,D)===false){if(D.global){b.active--}return}if(z.aborted){return}var J=0;var A=v.clk;if(A){var H=A.name;if(H&&!A.disabled){D.extraData=D.extraData||{};D.extraData[H]=A.value;if(A.type=="image"){D.extraData[H+".x"]=v.clk_x;D.extraData[H+".y"]=v.clk_y}}}function I(){var Q=u.attr("target"),O=u.attr("action");v.setAttribute("target",G);if(v.getAttribute("method")!="POST"){v.setAttribute("method","POST")}if(v.getAttribute("action")!=D.url){v.setAttribute("action",D.url)}if(!D.skipEncodingOverride){u.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"})}if(D.timeout){setTimeout(function(){J=true;F()},D.timeout)}var P=[];try{if(D.extraData){for(var R in D.extraData){P.push(b('<input type="hidden" name="'+R+'" value="'+D.extraData[R]+'" />').appendTo(v)[0])}}y.appendTo("body");C.attachEvent?C.attachEvent("onload",F):C.addEventListener("load",F,false);v.submit()}finally{v.setAttribute("action",O);if(Q){v.setAttribute("target",Q)}else{u.removeAttr("target")}b(P).remove()}}if(D.forceSync){I()}else{setTimeout(I,10)}var M,N,L=50;function F(){N=C.contentWindow?C.contentWindow.document:C.contentDocument?C.contentDocument:C.document;if(!N||N.location.href==D.iframeSrc){return}C.detachEvent?C.detachEvent("onload",F):C.removeEventListener("load",F,false);var P=true;try{if(J){throw"timeout"}var T=D.dataType=="xml"||N.XMLDocument||b.isXMLDoc(N);a("isXml="+T);if(!T&&window.opera&&(N.body==null||N.body.innerHTML=="")){if(--L){a("requeing onLoad callback, DOM not available");setTimeout(F,250);return}}z.responseText=N.body?N.body.innerHTML:N.documentElement?N.documentElement.innerHTML:null;z.responseXML=N.XMLDocument?N.XMLDocument:N;z.getResponseHeader=function(V){var U={"content-type":D.dataType};return U[V]};var S=/(json|script)/.test(D.dataType);if(S||D.textarea){var O=N.getElementsByTagName("textarea")[0];if(O){z.responseText=O.value}else{if(S){var R=N.getElementsByTagName("pre")[0];var n=N.getElementsByTagName("body")[0];if(R){z.responseText=R.textContent}else{if(n){z.responseText=n.innerHTML}}}}}else{if(D.dataType=="xml"&&!z.responseXML&&z.responseText!=null){z.responseXML=E(z.responseText)}}M=k(z,D.dataType,D)}catch(Q){a("error caught:",Q);P=false;z.error=Q;D.error&&D.error.call(D.context,z,"error",Q);K&&b.event.trigger("ajaxError",[z,D,Q])}if(z.aborted){a("upload aborted");P=false}if(P){D.success&&D.success.call(D.context,M,"success",z);K&&b.event.trigger("ajaxSuccess",[z,D])}K&&b.event.trigger("ajaxComplete",[z,D]);if(K&&!--b.active){b.event.trigger("ajaxStop")}D.complete&&D.complete.call(D.context,z,P?"success":"error");setTimeout(function(){y.removeData("form-plugin-onload");y.remove();z.responseXML=null},100)}var E=b.parseXML||function(n,O){if(window.ActiveXObject){O=new ActiveXObject("Microsoft.XMLDOM");O.async="false";O.loadXML(n)}else{O=(new DOMParser()).parseFromString(n,"text/xml")}return(O&&O.documentElement&&O.documentElement.nodeName!="parsererror")?O:null};var q=b.parseJSON||function(n){return window["eval"]("("+n+")")};var k=function(S,Q,P){var O=S.getResponseHeader("content-type")||"",n=Q==="xml"||!Q&&O.indexOf("xml")>=0,R=n?S.responseXML:S.responseText;if(n&&R.documentElement.nodeName==="parsererror"){b.error&&b.error("parsererror")}if(P&&P.dataFilter){R=P.dataFilter(R,Q)}if(typeof R==="string"){if(Q==="json"||!Q&&O.indexOf("json")>=0){R=q(R)}else{if(Q==="script"||!Q&&O.indexOf("javascript")>=0){b.globalEval(R)}}}return R}}};b.fn.ajaxForm=function(c){if(this.length===0){var d={s:this.selector,c:this.context};if(!b.isReady&&d.s){a("DOM not ready, queuing ajaxForm");b(function(){b(d.s,d.c).ajaxForm(c)});return this}a("terminating; zero elements found by selector"+(b.isReady?"":" (DOM not ready)"));return this}return this.ajaxFormUnbind().bind("submit.form-plugin",function(f){if(!f.isDefaultPrevented()){f.preventDefault();b(this).ajaxSubmit(c)}}).bind("click.form-plugin",function(k){var j=k.target;var g=b(j);if(!(g.is(":submit,input:image"))){var f=g.closest(":submit");if(f.length==0){return}j=f[0]}var h=this;h.clk=j;if(j.type=="image"){if(k.offsetX!=undefined){h.clk_x=k.offsetX;h.clk_y=k.offsetY}else{if(typeof b.fn.offset=="function"){var l=g.offset();h.clk_x=k.pageX-l.left;h.clk_y=k.pageY-l.top}else{h.clk_x=k.pageX-j.offsetLeft;h.clk_y=k.pageY-j.offsetTop}}}setTimeout(function(){h.clk=h.clk_x=h.clk_y=null},100)})};b.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")};b.fn.formToArray=function(q){var p=[];if(this.length===0){return p}var d=this[0];var g=q?d.getElementsByTagName("*"):d.elements;if(!g){return p}var k,h,f,r,e,m,c;for(k=0,m=g.length;k<m;k++){e=g[k];f=e.name;if(!f){continue}if(q&&d.clk&&e.type=="image"){if(!e.disabled&&d.clk==e){p.push({name:f,value:b(e).val()});p.push({name:f+".x",value:d.clk_x},{name:f+".y",value:d.clk_y})}continue}r=b.fieldValue(e,true);if(r&&r.constructor==Array){for(h=0,c=r.length;h<c;h++){p.push({name:f,value:r[h]})}}else{if(r!==null&&typeof r!="undefined"){p.push({name:f,value:r})}}}if(!q&&d.clk){var l=b(d.clk),o=l[0];f=o.name;if(f&&!o.disabled&&o.type=="image"){p.push({name:f,value:l.val()});p.push({name:f+".x",value:d.clk_x},{name:f+".y",value:d.clk_y})}}return p};b.fn.formSerialize=function(c){return b.param(this.formToArray(c))};b.fn.fieldSerialize=function(d){var c=[];this.each(function(){var h=this.name;if(!h){return}var f=b.fieldValue(this,d);if(f&&f.constructor==Array){for(var g=0,e=f.length;g<e;g++){c.push({name:h,value:f[g]})}}else{if(f!==null&&typeof f!="undefined"){c.push({name:this.name,value:f})}}});return b.param(c)};b.fn.fieldValue=function(h){for(var g=[],e=0,c=this.length;e<c;e++){var f=this[e];var d=b.fieldValue(f,h);if(d===null||typeof d=="undefined"||(d.constructor==Array&&!d.length)){continue}d.constructor==Array?b.merge(g,d):g.push(d)}return g};b.fieldValue=function(c,j){var e=c.name,p=c.type,q=c.tagName.toLowerCase();if(j===undefined){j=true}if(j&&(!e||c.disabled||p=="reset"||p=="button"||(p=="checkbox"||p=="radio")&&!c.checked||(p=="submit"||p=="image")&&c.form&&c.form.clk!=c||q=="select"&&c.selectedIndex==-1)){return null}if(q=="select"){var k=c.selectedIndex;if(k<0){return null}var m=[],d=c.options;var g=(p=="select-one");var l=(g?k+1:d.length);for(var f=(g?k:0);f<l;f++){var h=d[f];if(h.selected){var o=h.value;if(!o){o=(h.attributes&&h.attributes.value&&!(h.attributes.value.specified))?h.text:h.value}if(g){return o}m.push(o)}}return m}return b(c).val()};b.fn.clearForm=function(){return this.each(function(){b("input,select,textarea",this).clearFields()})};b.fn.clearFields=b.fn.clearInputs=function(){return this.each(function(){var d=this.type,c=this.tagName.toLowerCase();if(d=="text"||d=="password"||c=="textarea"){this.value=""}else{if(d=="checkbox"||d=="radio"){this.checked=false}else{if(c=="select"){this.selectedIndex=-1}}}})};b.fn.resetForm=function(){return this.each(function(){if(typeof this.reset=="function"||(typeof this.reset=="object"&&!this.reset.nodeType)){this.reset()}})};b.fn.enable=function(c){if(c===undefined){c=true}return this.each(function(){this.disabled=!c})};b.fn.selected=function(c){if(c===undefined){c=true}return this.each(function(){var d=this.type;if(d=="checkbox"||d=="radio"){this.checked=c}else{if(this.tagName.toLowerCase()=="option"){var e=b(this).parent("select");if(c&&e[0]&&e[0].type=="select-one"){e.find("option").selected(false)}this.selected=c}}})};function a(){if(b.fn.ajaxSubmit.debug){var c="[jquery.form] "+Array.prototype.join.call(arguments,"");if(window.console&&window.console.log){window.console.log(c)}else{if(window.opera&&window.opera.postError){window.opera.postError(c)}}}}})(jQuery);(function(a){a.jGrowl=function(b,c){if(a("#jGrowl").size()==0){a('<div id="jGrowl"></div>').addClass((c&&c.position)?c.position:a.jGrowl.defaults.position).appendTo("body")}a("#jGrowl").jGrowl(b,c)};a.fn.jGrowl=function(b,d){if(a.isFunction(this.each)){var c=arguments;return this.each(function(){var e=this;if(a(this).data("jGrowl.instance")==undefined){a(this).data("jGrowl.instance",a.extend(new a.fn.jGrowl(),{notifications:[],element:null,interval:null}));a(this).data("jGrowl.instance").startup(this)}if(a.isFunction(a(this).data("jGrowl.instance")[b])){a(this).data("jGrowl.instance")[b].apply(a(this).data("jGrowl.instance"),a.makeArray(c).slice(1))}else{a(this).data("jGrowl.instance").create(b,d)}})}};a.extend(a.fn.jGrowl.prototype,{defaults:{pool:0,header:"",group:"",sticky:false,position:"top-right",glue:"after",theme:"default",themeState:"highlight",corners:"10px",check:250,life:3000,closeDuration:"normal",openDuration:"normal",easing:"swing",closer:true,closeTemplate:"&times;",closerTemplate:"<div>[ close all ]</div>",log:function(c,b,d){},beforeOpen:function(c,b,d){},afterOpen:function(c,b,d){},open:function(c,b,d){},beforeClose:function(c,b,d){},close:function(c,b,d){},animateOpen:{opacity:"show"},animateClose:{opacity:"hide"}},notifications:[],element:null,interval:null,create:function(b,c){var c=a.extend({},this.defaults,c);if(typeof c.speed!=="undefined"){c.openDuration=c.speed;c.closeDuration=c.speed}this.notifications.push({message:b,options:c});c.log.apply(this.element,[this.element,b,c])},render:function(d){var b=this;var c=d.message;var e=d.options;var d=a('<div class="jGrowl-notification '+e.themeState+" ui-corner-all"+((e.group!=undefined&&e.group!="")?" "+e.group:"")+'"><div class="jGrowl-close">'+e.closeTemplate+'</div><div class="jGrowl-header">'+e.header+'</div><div class="jGrowl-message">'+c+"</div></div>").data("jGrowl",e).addClass(e.theme).children("div.jGrowl-close").bind("click.jGrowl",function(){a(this).parent().trigger("jGrowl.close")}).parent();a(d).bind("mouseover.jGrowl",function(){a("div.jGrowl-notification",b.element).data("jGrowl.pause",true)}).bind("mouseout.jGrowl",function(){a("div.jGrowl-notification",b.element).data("jGrowl.pause",false)}).bind("jGrowl.beforeOpen",function(){if(e.beforeOpen.apply(d,[d,c,e,b.element])!=false){a(this).trigger("jGrowl.open")}}).bind("jGrowl.open",function(){if(e.open.apply(d,[d,c,e,b.element])!=false){if(e.glue=="after"){a("div.jGrowl-notification:last",b.element).after(d)}else{a("div.jGrowl-notification:first",b.element).before(d)}a(this).animate(e.animateOpen,e.openDuration,e.easing,function(){if(a.browser.msie&&(parseInt(a(this).css("opacity"),10)===1||parseInt(a(this).css("opacity"),10)===0)){this.style.removeAttribute("filter")}a(this).data("jGrowl").created=new Date();a(this).trigger("jGrowl.afterOpen")})}}).bind("jGrowl.afterOpen",function(){e.afterOpen.apply(d,[d,c,e,b.element])}).bind("jGrowl.beforeClose",function(){if(e.beforeClose.apply(d,[d,c,e,b.element])!=false){a(this).trigger("jGrowl.close")}}).bind("jGrowl.close",function(){a(this).data("jGrowl.pause",true);a(this).animate(e.animateClose,e.closeDuration,e.easing,function(){a(this).remove();var f=e.close.apply(d,[d,c,e,b.element]);if(a.isFunction(f)){f.apply(d,[d,c,e,b.element])}})}).trigger("jGrowl.beforeOpen");if(e.corners!=""&&a.fn.corner!=undefined){a(d).corner(e.corners)}if(a("div.jGrowl-notification:parent",b.element).size()>1&&a("div.jGrowl-closer",b.element).size()==0&&this.defaults.closer!=false){a(this.defaults.closerTemplate).addClass("jGrowl-closer ui-state-highlight ui-corner-all").addClass(this.defaults.theme).appendTo(b.element).animate(this.defaults.animateOpen,this.defaults.speed,this.defaults.easing).bind("click.jGrowl",function(){a(this).siblings().trigger("jGrowl.beforeClose");if(a.isFunction(b.defaults.closer)){b.defaults.closer.apply(a(this).parent()[0],[a(this).parent()[0]])}})}},update:function(){a(this.element).find("div.jGrowl-notification:parent").each(function(){if(a(this).data("jGrowl")!=undefined&&a(this).data("jGrowl").created!=undefined&&(a(this).data("jGrowl").created.getTime()+parseInt(a(this).data("jGrowl").life))<(new Date()).getTime()&&a(this).data("jGrowl").sticky!=true&&(a(this).data("jGrowl.pause")==undefined||a(this).data("jGrowl.pause")!=true)){a(this).trigger("jGrowl.beforeClose")}});if(this.notifications.length>0&&(this.defaults.pool==0||a(this.element).find("div.jGrowl-notification:parent").size()<this.defaults.pool)){this.render(this.notifications.shift())}if(a(this.element).find("div.jGrowl-notification:parent").size()<2){a(this.element).find("div.jGrowl-closer").animate(this.defaults.animateClose,this.defaults.speed,this.defaults.easing,function(){a(this).remove()})}},startup:function(b){this.element=a(b).addClass("jGrowl").append('<div class="jGrowl-notification"></div>');this.interval=setInterval(function(){a(b).data("jGrowl.instance").update()},parseInt(this.defaults.check));if(a.browser.msie&&parseInt(a.browser.version)<7&&!window.XMLHttpRequest){a(this.element).addClass("ie6")}},shutdown:function(){a(this.element).removeClass("jGrowl").find("div.jGrowl-notification").remove();clearInterval(this.interval)},close:function(){a(this.element).find("div.jGrowl-notification").each(function(){a(this).trigger("jGrowl.beforeClose")})}});a.jGrowl.defaults=a.fn.jGrowl.prototype.defaults})(jQuery);(function($){$.toJSON=function(o){if(typeof(JSON)=="object"&&JSON.stringify){return JSON.stringify(o)}var type=typeof(o);if(o===null){return"null"}if(type=="undefined"){return undefined}if(type=="number"||type=="boolean"){return o+""}if(type=="string"){return $.quoteString(o)}if(type=="object"){if(typeof o.toJSON=="function"){return $.toJSON(o.toJSON())}if(o.constructor===Date){var month=o.getUTCMonth()+1;if(month<10){month="0"+month}var day=o.getUTCDate();if(day<10){day="0"+day}var year=o.getUTCFullYear();var hours=o.getUTCHours();if(hours<10){hours="0"+hours}var minutes=o.getUTCMinutes();if(minutes<10){minutes="0"+minutes}var seconds=o.getUTCSeconds();if(seconds<10){seconds="0"+seconds}var milli=o.getUTCMilliseconds();if(milli<100){milli="0"+milli}if(milli<10){milli="0"+milli}return'"'+year+"-"+month+"-"+day+"T"+hours+":"+minutes+":"+seconds+"."+milli+'Z"'}if(o.constructor===Array){var ret=[];for(var i=0;i<o.length;i++){ret.push($.toJSON(o[i])||"null")}return"["+ret.join(",")+"]"}var pairs=[];for(var k in o){var name;var type=typeof k;if(type=="number"){name='"'+k+'"'}else{if(type=="string"){name=$.quoteString(k)}else{continue}}if(typeof o[k]=="function"){continue}var val=$.toJSON(o[k]);pairs.push(name+":"+val)}return"{"+pairs.join(", ")+"}"}};$.evalJSON=function(src){if(typeof(JSON)=="object"&&JSON.parse){return JSON.parse(src)}return eval("("+src+")")};$.secureEvalJSON=function(src){if(typeof(JSON)=="object"&&JSON.parse){return JSON.parse(src)}var filtered=src;filtered=filtered.replace(/\\["\\\/bfnrtu]/g,"@");filtered=filtered.replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]");filtered=filtered.replace(/(?:^|:|,)(?:\s*\[)+/g,"");if(/^[\],:{}\s]*$/.test(filtered)){return eval("("+src+")")}else{throw new SyntaxError("Error parsing JSON, source is not valid.")}};$.quoteString=function(string){if(string.match(_escapeable)){return'"'+string.replace(_escapeable,function(a){var c=_meta[a];if(typeof c==="string"){return c}c=a.charCodeAt();return"\\u00"+Math.floor(c/16).toString(16)+(c%16).toString(16)})+'"'}return'"'+string+'"'};var _escapeable=/["\\\x00-\x1f\x7f-\x9f]/g;var _meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"}})(jQuery);"use strict";(function(){if(jQuery&&jQuery.jstree){return}var c=false,b=false,a=false;(function(g){g.vakata={};g.vakata.css={get_css:function(o,l,m){o=o.toLowerCase();var n=m.cssRules||m.rules,k=0;do{if(n.length&&k>n.length+5){return false}if(n[k].selectorText&&n[k].selectorText.toLowerCase()==o){if(l===true){if(m.removeRule){m.removeRule(k)}if(m.deleteRule){m.deleteRule(k)}return true}else{return n[k]}}}while(n[++k]);return false},add_css:function(k,j){if(g.jstree.css.get_css(k,false,j)){return false}if(j.insertRule){j.insertRule(k+" { }",0)}else{j.addRule(k,null,0)}return g.vakata.css.get_css(k)},remove_css:function(k,j){return g.vakata.css.get_css(k,true,j)},add_sheet:function(k){var j=false,m=true;if(k.str){if(k.title){j=g("style[id='"+k.title+"-stylesheet']")[0]}if(j){m=false}else{j=document.createElement("style");j.setAttribute("type","text/css");if(k.title){j.setAttribute("id",k.title+"-stylesheet")}}if(j.styleSheet){if(m){document.getElementsByTagName("head")[0].appendChild(j);j.styleSheet.cssText=k.str}else{j.styleSheet.cssText=j.styleSheet.cssText+" "+k.str}}else{j.appendChild(document.createTextNode(k.str));document.getElementsByTagName("head")[0].appendChild(j)}return j.sheet||j.styleSheet}if(k.url){if(document.createStyleSheet){try{j=document.createStyleSheet(k.url)}catch(l){}}else{j=document.createElement("link");j.rel="stylesheet";j.type="text/css";j.media="all";j.href=k.url;document.getElementsByTagName("head")[0].appendChild(j);return j.styleSheet}}}};var h=[],f=-1,e={},d={};g.fn.jstree=function(m){var j=(typeof m=="string"),k=Array.prototype.slice.call(arguments,1),l=this;if(j){if(m.substring(0,1)=="_"){return l}this.each(function(){var n=h[g.data(this,"jstree_instance_id")],o=(n&&g.isFunction(n[m]))?n[m].apply(n,k):n;if(typeof o!=="undefined"&&(m.indexOf("is_")===0||(o!==true&&o!==false))){l=o;return false}})}else{this.each(function(){var r=g.data(this,"jstree_instance_id"),o=[],n=m?g.extend({},true,m):{},u=g(this),q=false,p=[];o=o.concat(k);if(u.data("jstree")){o.push(u.data("jstree"))}n=o.length?g.extend.apply(null,[true,n].concat(o)):n;if(typeof r!=="undefined"&&h[r]){h[r].destroy()}r=parseInt(h.push({}),10)-1;g.data(this,"jstree_instance_id",r);n.plugins=g.isArray(n.plugins)?n.plugins:g.jstree.defaults.plugins.slice();n.plugins.unshift("core");n.plugins=n.plugins.sort().join(",,").replace(/(,|^)([^,]+)(,,\2)+(,|$)/g,"$1$2$4").replace(/,,+/g,",").replace(/,$/,"").split(",");q=g.extend(true,{},g.jstree.defaults,n);q.plugins=n.plugins;g.each(e,function(s,v){if(g.inArray(s,q.plugins)===-1){q[s]=null;delete q[s]}else{p.push(s)}});q.plugins=p;h[r]=new g.jstree._instance(r,g(this).addClass("jstree jstree-"+r),q);g.each(h[r]._get_settings().plugins,function(s,v){h[r].data[v]={}});g.each(h[r]._get_settings().plugins,function(s,v){if(e[v]){e[v].__init.apply(h[r])}});setTimeout(function(){if(h[r]){h[r].init()}},0)})}return l};g.jstree={defaults:{plugins:[]},_focused:function(){return h[f]||null},_reference:function(j){if(h[j]){return h[j]}var k=g(j);if(!k.length&&typeof j==="string"){k=g("#"+j)}if(!k.length){return null}return h[k.closest(".jstree").data("jstree_instance_id")]||null},_instance:function(k,j,l){this.data={core:{}};this.get_settings=function(){return g.extend(true,{},l)};this._get_settings=function(){return l};this.get_index=function(){return k};this.get_container=function(){return j};this.get_container_ul=function(){return j.children("ul:eq(0)")};this._set_settings=function(m){l=g.extend(true,{},l,m)}},_fn:{},plugin:function(j,k){k=g.extend({},{__init:g.noop,__destroy:g.noop,_fn:{},defaults:false},k);e[j]=k;g.jstree.defaults[j]=k.defaults;g.each(k._fn,function(l,m){m.plugin=j;m.old=g.jstree._fn[l];g.jstree._fn[l]=function(){var n,p=m,o=Array.prototype.slice.call(arguments),r=new g.Event("before.jstree"),q=false;if(this.data.core.locked===true&&l!=="unlock"&&l!=="is_locked"){return}do{if(p&&p.plugin&&g.inArray(p.plugin,this._get_settings().plugins)!==-1){break}p=p.old}while(p);if(!p){return}if(l.indexOf("_")===0){n=p.apply(this,o)}else{n=this.get_container().triggerHandler(r,{func:l,inst:this,args:o,plugin:p.plugin});if(n===false){return}if(typeof n!=="undefined"){o=n}n=p.apply(g.extend({},this,{__callback:function(s){this.get_container().triggerHandler(l+".jstree",{inst:this,args:o,rslt:s,rlbk:q})},__rollback:function(){q=this.get_rollback();return q},__call_old:function(s){return p.old.apply(this,(s?Array.prototype.slice.call(arguments,1):o))}}),o)}return n};g.jstree._fn[l].old=m.old;g.jstree._fn[l].plugin=j})},rollback:function(j){if(j){if(!g.isArray(j)){j=[j]}g.each(j,function(k,l){h[l.i].set_rollback(l.h,l.d)})}}};g.jstree._fn=g.jstree._instance.prototype={};g(function(){var l=navigator.userAgent.toLowerCase(),k=(l.match(/.+?(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[0,"0"])[1],j=".jstree ul, .jstree li { display:block; margin:0 0 0 0; padding:0 0 0 0; list-style-type:none; } .jstree li { display:block; min-height:18px; line-height:18px; white-space:nowrap; margin-left:18px; min-width:18px; } .jstree-rtl li { margin-left:0; margin-right:18px; } .jstree > ul > li { margin-left:0px; } .jstree-rtl > ul > li { margin-right:0px; } .jstree ins { display:inline-block; text-decoration:none; width:18px; height:18px; margin:0 0 0 0; padding:0; } .jstree a { display:inline-block; line-height:16px; height:16px; color:black; white-space:nowrap; text-decoration:none; padding:1px 2px; margin:0; } .jstree a:focus { outline: none; } .jstree a > ins { height:16px; width:16px; } .jstree a > .jstree-icon { margin-right:3px; } .jstree-rtl a > .jstree-icon { margin-left:3px; margin-right:0; } li.jstree-open > ul { display:block; } li.jstree-closed > ul { display:none; } ";if(/msie/.test(l)&&parseInt(k,10)==6){c=true;try{document.execCommand("BackgroundImageCache",false,true)}catch(m){}j+=".jstree li { height:18px; margin-left:0; margin-right:0; } .jstree li li { margin-left:18px; } .jstree-rtl li li { margin-left:0px; margin-right:18px; } li.jstree-open ul { display:block; } li.jstree-closed ul { display:none !important; } .jstree li a { display:inline; border-width:0 !important; padding:0px 2px !important; } .jstree li a ins { height:16px; width:16px; margin-right:3px; } .jstree-rtl li a ins { margin-right:0px; margin-left:3px; } "}if(/msie/.test(l)&&parseInt(k,10)==7){b=true;j+=".jstree li a { border-width:0 !important; padding:0px 2px !important; } "}if(!/compatible/.test(l)&&/mozilla/.test(l)&&parseFloat(k,10)<1.9){a=true;j+=".jstree ins { display:-moz-inline-box; } .jstree li { line-height:12px; } .jstree a { display:-moz-inline-box; } .jstree .jstree-no-icons .jstree-checkbox { display:-moz-inline-stack !important; } "}g.vakata.css.add_sheet({str:j,title:"jstree"})});g.jstree.plugin("core",{__init:function(){this.data.core.locked=false;this.data.core.to_open=this.get_settings().core.initially_open;this.data.core.to_load=this.get_settings().core.initially_load},defaults:{html_titles:false,animation:500,initially_open:[],initially_load:[],open_parents:true,notify_plugins:true,rtl:false,load_open:false,strings:{loading:"Loading ...",new_node:"New node",multiple_selection:"Multiple selection"}},_fn:{init:function(){this.set_focus();if(this._get_settings().core.rtl){this.get_container().addClass("jstree-rtl").css("direction","rtl")}this.get_container().html("<ul><li class='jstree-last jstree-leaf'><ins>&#160;</ins><a class='jstree-loading' href='#'><ins class='jstree-icon'>&#160;</ins>"+this._get_string("loading")+"</a></li></ul>");this.data.core.li_height=this.get_container_ul().find("li.jstree-closed, li.jstree-leaf").eq(0).height()||18;this.get_container().delegate("li > ins","click.jstree",g.proxy(function(k){var j=g(k.target);this.toggle_node(j)},this)).bind("mousedown.jstree",g.proxy(function(){this.set_focus()},this)).bind("dblclick.jstree",function(k){var l;if(document.selection&&document.selection.empty){document.selection.empty()}else{if(window.getSelection){l=window.getSelection();try{l.removeAllRanges();l.collapse()}catch(j){}}}});if(this._get_settings().core.notify_plugins){this.get_container().bind("load_node.jstree",g.proxy(function(l,k){var m=this._get_node(k.rslt.obj),j=this;if(m===-1){m=this.get_container_ul()}if(!m.length){return}m.find("li").each(function(){var n=g(this);if(n.data("jstree")){g.each(n.data("jstree"),function(p,o){if(j.data[p]&&g.isFunction(j["_"+p+"_notify"])){j["_"+p+"_notify"].call(j,n,o)}})}})},this))}if(this._get_settings().core.load_open){this.get_container().bind("load_node.jstree",g.proxy(function(l,k){var m=this._get_node(k.rslt.obj),j=this;if(m===-1){m=this.get_container_ul()}if(!m.length){return}m.find("li.jstree-open:not(:has(ul))").each(function(){j.load_node(this,g.noop,g.noop)})},this))}this.__callback();this.load_node(-1,function(){this.loaded();this.reload_nodes()})},destroy:function(){var j,m=this.get_index(),k=this._get_settings(),l=this;g.each(k.plugins,function(n,p){try{e[p].__destroy.apply(l)}catch(o){}});this.__callback();if(this.is_focused()){for(j in h){if(h.hasOwnProperty(j)&&j!=m){h[j].set_focus();break}}}if(m===f){f=-1}this.get_container().unbind(".jstree").undelegate(".jstree").removeData("jstree_instance_id").find("[class^='jstree']").andSelf().attr("class",function(){return this.className.replace(/jstree[^ ]*|$/ig,"")});g(document).unbind(".jstree-"+m).undelegate(".jstree-"+m);h[m]=null;delete h[m]},_core_notify:function(k,j){if(j.opened){this.open_node(k,false,true)}},lock:function(){this.data.core.locked=true;this.get_container().children("ul").addClass("jstree-locked").css("opacity","0.7");this.__callback({})},unlock:function(){this.data.core.locked=false;this.get_container().children("ul").removeClass("jstree-locked").css("opacity","1");this.__callback({})},is_locked:function(){return this.data.core.locked},save_opened:function(){var j=this;this.data.core.to_open=[];this.get_container_ul().find("li.jstree-open").each(function(){if(this.id){j.data.core.to_open.push("#"+this.id.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:"))}});this.__callback(j.data.core.to_open)},save_loaded:function(){},reload_nodes:function(k){var n=this,j=true,m=[],l=[];if(!k){this.data.core.reopen=false;this.data.core.refreshing=true;this.data.core.to_open=g.map(g.makeArray(this.data.core.to_open),function(o){return"#"+o.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:")});this.data.core.to_load=g.map(g.makeArray(this.data.core.to_load),function(o){return"#"+o.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:")});if(this.data.core.to_open.length){this.data.core.to_load=this.data.core.to_load.concat(this.data.core.to_open)}}if(this.data.core.to_load.length){g.each(this.data.core.to_load,function(o,p){if(p=="#"){return true}if(g(p).length){m.push(p)}else{l.push(p)}});if(m.length){this.data.core.to_load=l;g.each(m,function(o,p){if(!n._is_loaded(p)){n.load_node(p,function(){n.reload_nodes(true)},function(){n.reload_nodes(true)});j=false}})}}if(this.data.core.to_open.length){g.each(this.data.core.to_open,function(o,p){n.open_node(p,false,true)})}if(j){if(this.data.core.reopen){clearTimeout(this.data.core.reopen)}this.data.core.reopen=setTimeout(function(){n.__callback({},n)},50);this.data.core.refreshing=false;this.reopen()}},reopen:function(){var j=this;if(this.data.core.to_open.length){g.each(this.data.core.to_open,function(k,l){j.open_node(l,false,true)})}this.__callback({})},refresh:function(j){var k=this;this.save_opened();if(!j){j=-1}j=this._get_node(j);if(!j){j=-1}if(j!==-1){j.children("UL").remove()}else{this.get_container_ul().empty()}this.load_node(j,function(){k.__callback({obj:j});k.reload_nodes()})},loaded:function(){this.__callback()},set_focus:function(){if(this.is_focused()){return}var j=g.jstree._focused();if(j){j.unset_focus()}this.get_container().addClass("jstree-focused");f=this.get_index();this.__callback()},is_focused:function(){return f==this.get_index()},unset_focus:function(){if(this.is_focused()){this.get_container().removeClass("jstree-focused");f=-1}this.__callback()},_get_node:function(j){var k=g(j,this.get_container());if(k.is(".jstree")||j==-1){return -1}k=k.closest("li",this.get_container());return k.length?k:false},_get_next:function(k,j){k=this._get_node(k);if(k===-1){return this.get_container().find("> ul > li:first-child")}if(!k.length){return false}if(j){return(k.nextAll("li").size()>0)?k.nextAll("li:eq(0)"):false}if(k.hasClass("jstree-open")){return k.find("li:eq(0)")}else{if(k.nextAll("li").size()>0){return k.nextAll("li:eq(0)")}else{return k.parentsUntil(".jstree","li").next("li").eq(0)}}},_get_prev:function(k,j){k=this._get_node(k);if(k===-1){return this.get_container().find("> ul > li:last-child")}if(!k.length){return false}if(j){return(k.prevAll("li").length>0)?k.prevAll("li:eq(0)"):false}if(k.prev("li").length){k=k.prev("li").eq(0);while(k.hasClass("jstree-open")){k=k.children("ul:eq(0)").children("li:last")}return k}else{var l=k.parentsUntil(".jstree","li:eq(0)");return l.length?l:false}},_get_parent:function(j){j=this._get_node(j);if(j==-1||!j.length){return false}var k=j.parentsUntil(".jstree","li:eq(0)");return k.length?k:-1},_get_children:function(j){j=this._get_node(j);if(j===-1){return this.get_container().children("ul:eq(0)").children("li")}if(!j.length){return false}return j.children("ul:eq(0)").children("li")},get_path:function(l,j){var k=[],m=this;l=this._get_node(l);if(l===-1||!l||!l.length){return false}l.parentsUntil(".jstree","li").each(function(){k.push(j?this.id:m.get_text(this))});k.reverse();k.push(j?l.attr("id"):this.get_text(l));return k},_get_string:function(j){return this._get_settings().core.strings[j]||j},is_open:function(j){j=this._get_node(j);return j&&j!==-1&&j.hasClass("jstree-open")},is_closed:function(j){j=this._get_node(j);return j&&j!==-1&&j.hasClass("jstree-closed")},is_leaf:function(j){j=this._get_node(j);return j&&j!==-1&&j.hasClass("jstree-leaf")},correct_state:function(j){j=this._get_node(j);if(!j||j===-1){return false}j.removeClass("jstree-closed jstree-open").addClass("jstree-leaf").children("ul").remove();this.__callback({obj:j})},open_node:function(m,n,k){m=this._get_node(m);if(!m.length){return false}if(!m.hasClass("jstree-closed")){if(n){n.call()}return false}var l=k||c?0:this._get_settings().core.animation,j=this;if(!this._is_loaded(m)){m.children("a").addClass("jstree-loading");this.load_node(m,function(){j.open_node(m,n,k)},n)}else{if(this._get_settings().core.open_parents){m.parentsUntil(".jstree",".jstree-closed").each(function(){j.open_node(this,false,true)})}if(l){m.children("ul").css("display","none")}m.removeClass("jstree-closed").addClass("jstree-open").children("a").removeClass("jstree-loading");if(l){m.children("ul").stop(true,true).slideDown(l,function(){this.style.display="";j.after_open(m)})}else{j.after_open(m)}this.__callback({obj:m});if(n){n.call()}}},after_open:function(j){this.__callback({obj:j})},close_node:function(m,k){m=this._get_node(m);var l=k||c?0:this._get_settings().core.animation,j=this;if(!m.length||!m.hasClass("jstree-open")){return false}if(l){m.children("ul").attr("style","display:block !important")}m.removeClass("jstree-open").addClass("jstree-closed");if(l){m.children("ul").stop(true,true).slideUp(l,function(){this.style.display="";j.after_close(m)})}else{j.after_close(m)}this.__callback({obj:m})},after_close:function(j){this.__callback({obj:j})},toggle_node:function(j){j=this._get_node(j);if(j.hasClass("jstree-closed")){return this.open_node(j)}if(j.hasClass("jstree-open")){return this.close_node(j)}},open_all:function(l,k,j){l=l?this._get_node(l):-1;if(!l||l===-1){l=this.get_container_ul()}if(j){l=l.find("li.jstree-closed")}else{j=l;if(l.is(".jstree-closed")){l=l.find("li.jstree-closed").andSelf()}else{l=l.find("li.jstree-closed")}}var m=this;l.each(function(){var n=this;if(!m._is_loaded(this)){m.open_node(this,function(){m.open_all(n,k,j)},!k)}else{m.open_node(this,false,!k)}});if(j.find("li.jstree-closed").length===0){this.__callback({obj:j})}},close_all:function(k,j){var l=this;k=k?this._get_node(k):this.get_container();if(!k||k===-1){k=this.get_container_ul()}k.find("li.jstree-open").andSelf().each(function(){l.close_node(this,!j)});this.__callback({obj:k})},clean_node:function(j){j=j&&j!=-1?g(j):this.get_container_ul();j=j.is("li")?j.find("li").andSelf():j.find("li");j.removeClass("jstree-last").filter("li:last-child").addClass("jstree-last").end().filter(":has(li)").not(".jstree-open").removeClass("jstree-leaf").addClass("jstree-closed");j.not(".jstree-open, .jstree-closed").addClass("jstree-leaf").children("ul").remove();this.__callback({obj:j})},get_rollback:function(){this.__callback();return{i:this.get_index(),h:this.get_container().children("ul").clone(true),d:this.data}},set_rollback:function(j,k){this.get_container().empty().append(j);this.data=k;this.__callback()},load_node:function(l,j,k){this.__callback({obj:l})},_is_loaded:function(j){return true},create_node:function(o,j,n,q,k){o=this._get_node(o);j=typeof j==="undefined"?"last":j;var p=g("<li />"),m=this._get_settings().core,l;if(o!==-1&&!o.length){return false}if(!k&&!this._is_loaded(o)){this.load_node(o,function(){this.create_node(o,j,n,q,true)});return false}this.__rollback();if(typeof n==="string"){n={data:n}}if(!n){n={}}if(n.attr){p.attr(n.attr)}if(n.metadata){p.data(n.metadata)}if(n.state){p.addClass("jstree-"+n.state)}if(!n.data){n.data=this._get_string("new_node")}if(!g.isArray(n.data)){l=n.data;n.data=[];n.data.push(l)}g.each(n.data,function(s,r){l=g("<a />");if(g.isFunction(r)){r=r.call(this,n)}if(typeof r=="string"){l.attr("href","#")[m.html_titles?"html":"text"](r)}else{if(!r.attr){r.attr={}}if(!r.attr.href){r.attr.href="#"}l.attr(r.attr)[m.html_titles?"html":"text"](r.title);if(r.language){l.addClass(r.language)}}l.prepend("<ins class='jstree-icon'>&#160;</ins>");if(!r.icon&&n.icon){r.icon=n.icon}if(r.icon){if(r.icon.indexOf("/")===-1){l.children("ins").addClass(r.icon)}else{l.children("ins").css("background","url('"+r.icon+"') center center no-repeat")}}p.append(l)});p.prepend("<ins class='jstree-icon'>&#160;</ins>");if(o===-1){o=this.get_container();if(j==="before"){j="first"}if(j==="after"){j="last"}}switch(j){case"before":o.before(p);l=this._get_parent(o);break;case"after":o.after(p);l=this._get_parent(o);break;case"inside":case"first":if(!o.children("ul").length){o.append("<ul />")}o.children("ul").prepend(p);l=o;break;case"last":if(!o.children("ul").length){o.append("<ul />")}o.children("ul").append(p);l=o;break;default:if(!o.children("ul").length){o.append("<ul />")}if(!j){j=0}l=o.children("ul").children("li").eq(j);if(l.length){l.before(p)}else{o.children("ul").append(p)}l=o;break}if(l===-1||l.get(0)===this.get_container().get(0)){l=-1}this.clean_node(l);this.__callback({obj:p,parent:l});if(q){q.call(this,p)}return p},get_text:function(k){k=this._get_node(k);if(!k.length){return false}var j=this._get_settings().core.html_titles;k=k.children("a:eq(0)");if(j){k=k.clone();k.children("INS").remove();return k.html()}else{k=k.contents().filter(function(){return this.nodeType==3})[0];return k.nodeValue}},set_text:function(k,l){k=this._get_node(k);if(!k.length){return false}k=k.children("a:eq(0)");if(this._get_settings().core.html_titles){var j=k.children("INS").clone();k.html(l).prepend(j);this.__callback({obj:k,name:l});return true}else{k=k.contents().filter(function(){return this.nodeType==3})[0];this.__callback({obj:k,name:l});return(k.nodeValue=l)}},rename_node:function(j,k){j=this._get_node(j);this.__rollback();if(j&&j.length&&this.set_text.apply(this,Array.prototype.slice.call(arguments))){this.__callback({obj:j,name:k})}},delete_node:function(m){m=this._get_node(m);if(!m.length){return false}this.__rollback();var l=this._get_parent(m),k=g([]),j=this;m.each(function(){k=k.add(j._get_prev(this))});m=m.detach();if(l!==-1&&l.find("> ul > li").length===0){l.removeClass("jstree-open jstree-closed").addClass("jstree-leaf")}this.clean_node(l);this.__callback({obj:m,prev:k,parent:l});return m},prepare_move:function(n,l,q,j,k){var m={};m.ot=g.jstree._reference(n)||this;m.o=m.ot._get_node(n);m.r=l===-1?-1:this._get_node(l);m.p=(typeof q==="undefined"||q===false)?"last":q;if(!k&&d.o&&d.o[0]===m.o[0]&&d.r[0]===m.r[0]&&d.p===m.p){this.__callback(d);if(j){j.call(this,d)}return}m.ot=g.jstree._reference(m.o)||this;m.rt=g.jstree._reference(m.r)||this;if(m.r===-1||!m.r){m.cr=-1;switch(m.p){case"first":case"before":case"inside":m.cp=0;break;case"after":case"last":m.cp=m.rt.get_container().find(" > ul > li").length;break;default:m.cp=m.p;break}}else{if(!/^(before|after)$/.test(m.p)&&!this._is_loaded(m.r)){return this.load_node(m.r,function(){this.prepare_move(n,l,q,j,true)})}switch(m.p){case"before":m.cp=m.r.index();m.cr=m.rt._get_parent(m.r);break;case"after":m.cp=m.r.index()+1;m.cr=m.rt._get_parent(m.r);break;case"inside":case"first":m.cp=0;m.cr=m.r;break;case"last":m.cp=m.r.find(" > ul > li").length;m.cr=m.r;break;default:m.cp=m.p;m.cr=m.r;break}}m.np=m.cr==-1?m.rt.get_container():m.cr;m.op=m.ot._get_parent(m.o);m.cop=m.o.index();if(m.op===-1){m.op=m.ot?m.ot.get_container():this.get_container()}if(!/^(before|after)$/.test(m.p)&&m.op&&m.np&&m.op[0]===m.np[0]&&m.o.index()<m.cp){m.cp++}m.or=m.np.find(" > ul > li:nth-child("+(m.cp+1)+")");d=m;this.__callback(d);if(j){j.call(this,d)}},check_move:function(){var l=d,j=true,k=l.r===-1?this.get_container():l.r;if(!l||!l.o||l.or[0]===l.o[0]){return false}if(l.op&&l.np&&l.op[0]===l.np[0]&&l.cp-1===l.o.index()){return false}l.o.each(function(){if(k.parentsUntil(".jstree","li").andSelf().index(this)!==-1){j=false;return false}});return j},move_node:function(q,m,j,l,k,p){if(!k){return this.prepare_move(q,m,j,function(o){this.move_node(o,false,false,l,true,p)})}if(l){d.cy=true}if(!p&&!this.check_move()){return false}this.__rollback();var r=false;if(l){r=q.o.clone(true);r.find("*[id]").andSelf().each(function(){if(this.id){this.id="copy_"+this.id}})}else{r=q.o}if(q.or.length){q.or.before(r)}else{if(!q.np.children("ul").length){g("<ul />").appendTo(q.np)}q.np.children("ul:eq(0)").append(r)}try{q.ot.clean_node(q.op);q.rt.clean_node(q.np);if(!q.op.find("> ul > li").length){q.op.removeClass("jstree-open jstree-closed").addClass("jstree-leaf").children("ul").remove()}}catch(n){}if(l){d.cy=true;d.oc=r}this.__callback(d);return d},_get_move:function(){return d}}})})(jQuery);(function(d){var g,f,e;d(function(){if(/msie/.test(navigator.userAgent.toLowerCase())){f=d('<textarea cols="10" rows="2"></textarea>').css({position:"absolute",top:-1000,left:0}).appendTo("body");e=d('<textarea cols="10" rows="2" style="overflow: hidden;"></textarea>').css({position:"absolute",top:-1000,left:0}).appendTo("body");g=f.width()-e.width();f.add(e).remove()}else{f=d("<div />").css({width:100,height:100,overflow:"auto",position:"absolute",top:-1000,left:0}).prependTo("body").append("<div />").find("div").css({width:"100%",height:200});g=100-f.width();f.parent().remove()}});d.jstree.plugin("ui",{__init:function(){this.data.ui.selected=d();this.data.ui.last_selected=false;this.data.ui.hovered=null;this.data.ui.to_select=this.get_settings().ui.initially_select;this.get_container().delegate("a","click.jstree",d.proxy(function(h){h.preventDefault();h.currentTarget.blur();if(!d(h.currentTarget).hasClass("jstree-loading")){this.select_node(h.currentTarget,true,h)}},this)).delegate("a","mouseenter.jstree",d.proxy(function(h){if(!d(h.currentTarget).hasClass("jstree-loading")){this.hover_node(h.target)}},this)).delegate("a","mouseleave.jstree",d.proxy(function(h){if(!d(h.currentTarget).hasClass("jstree-loading")){this.dehover_node(h.target)}},this)).bind("reopen.jstree",d.proxy(function(){this.reselect()},this)).bind("get_rollback.jstree",d.proxy(function(){this.dehover_node();this.save_selected()},this)).bind("set_rollback.jstree",d.proxy(function(){this.reselect()},this)).bind("close_node.jstree",d.proxy(function(j,k){var h=this._get_settings().ui,l=this._get_node(k.rslt.obj),m=(l&&l.length)?l.children("ul").find("a.jstree-clicked"):d(),n=this;if(h.selected_parent_close===false||!m.length){return}m.each(function(){n.deselect_node(this);if(h.selected_parent_close==="select_parent"){n.select_node(l)}})},this)).bind("delete_node.jstree",d.proxy(function(j,k){var h=this._get_settings().ui.select_prev_on_delete,l=this._get_node(k.rslt.obj),m=(l&&l.length)?l.find("a.jstree-clicked"):[],n=this;m.each(function(){n.deselect_node(this)});if(h&&m.length){k.rslt.prev.each(function(){if(this.parentNode){n.select_node(this);return false}})}},this)).bind("move_node.jstree",d.proxy(function(h,j){if(j.rslt.cy){j.rslt.oc.find("a.jstree-clicked").removeClass("jstree-clicked")}},this))},defaults:{select_limit:-1,select_multiple_modifier:"ctrl",select_range_modifier:"shift",selected_parent_close:"select_parent",selected_parent_open:true,select_prev_on_delete:true,disable_selecting_children:false,initially_select:[]},_fn:{_get_node:function(h,j){if(typeof h==="undefined"||h===null){return j?this.data.ui.selected:this.data.ui.last_selected}var k=d(h,this.get_container());if(k.is(".jstree")||h==-1){return -1}k=k.closest("li",this.get_container());return k.length?k:false},_ui_notify:function(j,h){if(h.selected){this.select_node(j,false)}},save_selected:function(){var h=this;this.data.ui.to_select=[];this.data.ui.selected.each(function(){if(this.id){h.data.ui.to_select.push("#"+this.id.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:"))}});this.__callback(this.data.ui.to_select)},reselect:function(){var j=this,h=this.data.ui.to_select;h=d.map(d.makeArray(h),function(k){return"#"+k.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:")});d.each(h,function(k,l){if(l&&l!=="#"){j.select_node(l)}});this.data.ui.selected=this.data.ui.selected.filter(function(){return this.parentNode});this.__callback()},refresh:function(h){this.save_selected();return this.__call_old()},hover_node:function(h){h=this._get_node(h);if(!h.length){return false}if(!h.hasClass("jstree-hovered")){this.dehover_node()}this.data.ui.hovered=h.children("a").addClass("jstree-hovered").parent();this._fix_scroll(h);this.__callback({obj:h})},dehover_node:function(){var j=this.data.ui.hovered,h;if(!j||!j.length){return false}h=j.children("a").removeClass("jstree-hovered").parent();if(this.data.ui.hovered[0]===h[0]){this.data.ui.hovered=null}this.__callback({obj:j})},select_node:function(l,h,m){l=this._get_node(l);if(l==-1||!l||!l.length){return false}var q=this._get_settings().ui,o=(q.select_multiple_modifier=="on"||(q.select_multiple_modifier!==false&&m&&m[q.select_multiple_modifier+"Key"])),j=(q.select_range_modifier!==false&&m&&m[q.select_range_modifier+"Key"]&&this.data.ui.last_selected&&this.data.ui.last_selected[0]!==l[0]&&this.data.ui.last_selected.parent()[0]===l.parent()[0]),k=this.is_selected(l),n=true,p=this;if(h){if(q.disable_selecting_children&&o&&((l.parentsUntil(".jstree","li").children("a.jstree-clicked").length)||(l.children("ul").find("a.jstree-clicked:eq(0)").length))){return false}n=false;switch(!0){case (j):this.data.ui.last_selected.addClass("jstree-last-selected");l=l[l.index()<this.data.ui.last_selected.index()?"nextUntil":"prevUntil"](".jstree-last-selected").andSelf();if(q.select_limit==-1||l.length<q.select_limit){this.data.ui.last_selected.removeClass("jstree-last-selected");this.data.ui.selected.each(function(){if(this!==p.data.ui.last_selected[0]){p.deselect_node(this)}});k=false;n=true}else{n=false}break;case (k&&!o):this.deselect_all();k=false;n=true;break;case (!k&&!o):if(q.select_limit==-1||q.select_limit>0){this.deselect_all();n=true}break;case (k&&o):this.deselect_node(l);break;case (!k&&o):if(q.select_limit==-1||this.data.ui.selected.length+1<=q.select_limit){n=true}break}}if(n&&!k){if(!j){this.data.ui.last_selected=l}l.children("a").addClass("jstree-clicked");if(q.selected_parent_open){l.parents(".jstree-closed").each(function(){p.open_node(this,false,true)})}this.data.ui.selected=this.data.ui.selected.add(l);this._fix_scroll(l.eq(0));this.__callback({obj:l,e:m})}},_fix_scroll:function(j){var k=this.get_container()[0],h;if(k.scrollHeight>k.offsetHeight){j=this._get_node(j);if(!j||j===-1||!j.length||!j.is(":visible")){return}h=j.offset().top-this.get_container().offset().top;if(h<0){k.scrollTop=k.scrollTop+h-1}if(h+this.data.core.li_height+(k.scrollWidth>k.offsetWidth?g:0)>k.offsetHeight){k.scrollTop=k.scrollTop+(h-k.offsetHeight+this.data.core.li_height+1+(k.scrollWidth>k.offsetWidth?g:0))}}},deselect_node:function(h){h=this._get_node(h);if(!h.length){return false}if(this.is_selected(h)){h.children("a").removeClass("jstree-clicked");this.data.ui.selected=this.data.ui.selected.not(h);if(this.data.ui.last_selected.get(0)===h.get(0)){this.data.ui.last_selected=this.data.ui.selected.eq(0)}this.__callback({obj:h})}},toggle_select:function(h){h=this._get_node(h);if(!h.length){return false}if(this.is_selected(h)){this.deselect_node(h)}else{this.select_node(h)}},is_selected:function(h){return this.data.ui.selected.index(this._get_node(h))>=0},get_selected:function(h){return h?d(h).find("a.jstree-clicked").parent():this.data.ui.selected},deselect_all:function(j){var h=j?d(j).find("a.jstree-clicked").parent():this.get_container().find("a.jstree-clicked").parent();h.children("a.jstree-clicked").removeClass("jstree-clicked");this.data.ui.selected=d([]);this.data.ui.last_selected=false;this.__callback({obj:h})}}});d.jstree.defaults.plugins.push("ui")})(jQuery);(function(d){d.jstree.plugin("crrm",{__init:function(){this.get_container().bind("move_node.jstree",d.proxy(function(h,g){if(this._get_settings().crrm.move.open_onmove){var f=this;g.rslt.np.parentsUntil(".jstree").andSelf().filter(".jstree-closed").each(function(){f.open_node(this,false,true)})}},this))},defaults:{input_width_limit:200,move:{always_copy:false,open_onmove:true,default_position:"last",check_move:function(e){return true}}},_fn:{_show_input:function(e,m){e=this._get_node(e);var k=this._get_settings().core.rtl,l=this._get_settings().crrm.input_width_limit,g=e.children("ins").width(),f=e.find("> a:visible > ins").width()*e.find("> a:visible > ins").length,n=this.get_text(e),j=d("<div />",{css:{position:"absolute",top:"-200px",left:(k?"0px":"-1000px"),visibility:"hidden"}}).appendTo("body"),h=e.css("position","relative").append(d("<input />",{value:n,"class":"jstree-rename-input",css:{padding:"0",border:"1px solid silver",position:"absolute",left:(k?"auto":(g+f+4)+"px"),right:(k?(g+f+4)+"px":"auto"),top:"0px",height:(this.data.core.li_height-2)+"px",lineHeight:(this.data.core.li_height-2)+"px",width:"150px"},blur:d.proxy(function(){var p=e.children(".jstree-rename-input"),o=p.val();if(o===""){o=n}j.remove();p.remove();this.set_text(e,n);this.rename_node(e,o);m.call(this,e,o,n);e.css("position","")},this),keyup:function(p){var o=p.keyCode||p.which;if(o==27){this.value=n;this.blur();return}else{if(o==13){this.blur();return}else{h.width(Math.min(j.text("pW"+this.value).width(),l))}}},keypress:function(p){var o=p.keyCode||p.which;if(o==13){return false}}})).children(".jstree-rename-input");this.set_text(e,"");j.css({fontFamily:h.css("fontFamily")||"",fontSize:h.css("fontSize")||"",fontWeight:h.css("fontWeight")||"",fontStyle:h.css("fontStyle")||"",fontStretch:h.css("fontStretch")||"",fontVariant:h.css("fontVariant")||"",letterSpacing:h.css("letterSpacing")||"",wordSpacing:h.css("wordSpacing")||""});h.width(Math.min(j.text("pW"+h[0].value).width(),l))[0].select()},rename:function(g){g=this._get_node(g);this.__rollback();var e=this.__callback;this._show_input(g,function(j,h,f){e.call(this,{obj:j,new_name:h,old_name:f})})},create:function(j,f,h,l,e){var g,k=this;j=this._get_node(j);if(!j){j=-1}this.__rollback();g=this.create_node(j,f,h,function(m){var n=this._get_parent(m),o=d(m).index();if(l){l.call(this,m)}if(n.length&&n.hasClass("jstree-closed")){this.open_node(n,false,true)}if(!e){this._show_input(m,function(r,q,p){k.__callback({obj:r,name:q,parent:n,position:o})})}else{k.__callback({obj:m,name:this.get_text(m),parent:n,position:o})}});return g},remove:function(g){g=this._get_node(g,true);var f=this._get_parent(g),e=this._get_prev(g);this.__rollback();g=this.delete_node(g);if(g!==false){this.__callback({obj:g,prev:e,parent:f})}},check_move:function(){if(!this.__call_old()){return false}var e=this._get_settings().crrm.move;if(!e.check_move.call(this,this._get_move())){return false}return true},move_node:function(l,j,e,g,f,k){var h=this._get_settings().crrm.move;if(!f){if(typeof e==="undefined"){e=h.default_position}if(e==="inside"&&!h.default_position.match(/^(before|after)$/)){e=h.default_position}return this.__call_old(true,l,j,e,g,false,k)}if(h.always_copy===true||(h.always_copy==="multitree"&&l.rt.get_index()!==l.ot.get_index())){g=true}this.__call_old(true,l,j,e,g,true,k)},cut:function(e){e=this._get_node(e,true);if(!e||!e.length){return false}this.data.crrm.cp_nodes=false;this.data.crrm.ct_nodes=e;this.__callback({obj:e})},copy:function(e){e=this._get_node(e,true);if(!e||!e.length){return false}this.data.crrm.ct_nodes=false;this.data.crrm.cp_nodes=e;this.__callback({obj:e})},paste:function(f){f=this._get_node(f);if(!f||!f.length){return false}var e=this.data.crrm.ct_nodes?this.data.crrm.ct_nodes:this.data.crrm.cp_nodes;if(!this.data.crrm.ct_nodes&&!this.data.crrm.cp_nodes){return false}if(this.data.crrm.ct_nodes){this.move_node(this.data.crrm.ct_nodes,f);this.data.crrm.ct_nodes=false}if(this.data.crrm.cp_nodes){this.move_node(this.data.crrm.cp_nodes,f,false,true)}this.__callback({obj:f,nodes:e})}}})})(jQuery);(function(d){var e=[];d.jstree._themes=false;d.jstree.plugin("themes",{__init:function(){this.get_container().bind("init.jstree",d.proxy(function(){var f=this._get_settings().themes;this.data.themes.dots=f.dots;this.data.themes.icons=f.icons;this.set_theme(f.theme,f.url)},this)).bind("loaded.jstree",d.proxy(function(){if(!this.data.themes.dots){this.hide_dots()}else{this.show_dots()}if(!this.data.themes.icons){this.hide_icons()}else{this.show_icons()}},this))},defaults:{theme:"default",url:false,dots:true,icons:true},_fn:{set_theme:function(g,f){if(!g){return false}if(!f){f=d.jstree._themes+g+"/style.css"}if(d.inArray(f,e)==-1){d.vakata.css.add_sheet({url:f});e.push(f)}if(this.data.themes.theme!=g){this.get_container().removeClass("jstree-"+this.data.themes.theme);this.data.themes.theme=g}this.get_container().addClass("jstree-"+g);if(!this.data.themes.dots){this.hide_dots()}else{this.show_dots()}if(!this.data.themes.icons){this.hide_icons()}else{this.show_icons()}this.__callback()},get_theme:function(){return this.data.themes.theme},show_dots:function(){this.data.themes.dots=true;this.get_container().children("ul").removeClass("jstree-no-dots")},hide_dots:function(){this.data.themes.dots=false;this.get_container().children("ul").addClass("jstree-no-dots")},toggle_dots:function(){if(this.data.themes.dots){this.hide_dots()}else{this.show_dots()}},show_icons:function(){this.data.themes.icons=true;this.get_container().children("ul").removeClass("jstree-no-icons")},hide_icons:function(){this.data.themes.icons=false;this.get_container().children("ul").addClass("jstree-no-icons")},toggle_icons:function(){if(this.data.themes.icons){this.hide_icons()}else{this.show_icons()}}}});d(function(){if(d.jstree._themes===false){d("script").each(function(){if(this.src.toString().match(/jquery\.jstree[^\/]*?\.js(\?.*)?$/)){d.jstree._themes=this.src.toString().replace(/jquery\.jstree[^\/]*?\.js(\?.*)?$/,"")+"themes/";return false}})}if(d.jstree._themes===false){d.jstree._themes="themes/"}});d.jstree.defaults.plugins.push("themes")})(jQuery);(function(f){var e=[];function d(h,j){var k=f.jstree._focused(),g;if(k&&k.data&&k.data.hotkeys&&k.data.hotkeys.enabled){g=k._get_settings().hotkeys[h];if(g){return g.call(k,j)}}}f.jstree.plugin("hotkeys",{__init:function(){if(typeof f.hotkeys==="undefined"){throw"jsTree hotkeys: jQuery hotkeys plugin not included."}if(!this.data.ui){throw"jsTree hotkeys: jsTree UI plugin not included."}f.each(this._get_settings().hotkeys,function(h,g){if(g!==false&&f.inArray(h,e)==-1){f(document).bind("keydown",h,function(j){return d(h,j)});e.push(h)}});this.get_container().bind("lock.jstree",f.proxy(function(){if(this.data.hotkeys.enabled){this.data.hotkeys.enabled=false;this.data.hotkeys.revert=true}},this)).bind("unlock.jstree",f.proxy(function(){if(this.data.hotkeys.revert){this.data.hotkeys.enabled=true}},this));this.enable_hotkeys()},defaults:{up:function(){var g=this.data.ui.hovered||this.data.ui.last_selected||-1;this.hover_node(this._get_prev(g));return false},"ctrl+up":function(){var g=this.data.ui.hovered||this.data.ui.last_selected||-1;this.hover_node(this._get_prev(g));return false},"shift+up":function(){var g=this.data.ui.hovered||this.data.ui.last_selected||-1;this.hover_node(this._get_prev(g));return false},down:function(){var g=this.data.ui.hovered||this.data.ui.last_selected||-1;this.hover_node(this._get_next(g));return false},"ctrl+down":function(){var g=this.data.ui.hovered||this.data.ui.last_selected||-1;this.hover_node(this._get_next(g));return false},"shift+down":function(){var g=this.data.ui.hovered||this.data.ui.last_selected||-1;this.hover_node(this._get_next(g));return false},left:function(){var g=this.data.ui.hovered||this.data.ui.last_selected;if(g){if(g.hasClass("jstree-open")){this.close_node(g)}else{this.hover_node(this._get_prev(g))}}return false},"ctrl+left":function(){var g=this.data.ui.hovered||this.data.ui.last_selected;if(g){if(g.hasClass("jstree-open")){this.close_node(g)}else{this.hover_node(this._get_prev(g))}}return false},"shift+left":function(){var g=this.data.ui.hovered||this.data.ui.last_selected;if(g){if(g.hasClass("jstree-open")){this.close_node(g)}else{this.hover_node(this._get_prev(g))}}return false},right:function(){var g=this.data.ui.hovered||this.data.ui.last_selected;if(g&&g.length){if(g.hasClass("jstree-closed")){this.open_node(g)}else{this.hover_node(this._get_next(g))}}return false},"ctrl+right":function(){var g=this.data.ui.hovered||this.data.ui.last_selected;if(g&&g.length){if(g.hasClass("jstree-closed")){this.open_node(g)}else{this.hover_node(this._get_next(g))}}return false},"shift+right":function(){var g=this.data.ui.hovered||this.data.ui.last_selected;if(g&&g.length){if(g.hasClass("jstree-closed")){this.open_node(g)}else{this.hover_node(this._get_next(g))}}return false},space:function(){if(this.data.ui.hovered){this.data.ui.hovered.children("a:eq(0)").click()}return false},"ctrl+space":function(g){g.type="click";if(this.data.ui.hovered){this.data.ui.hovered.children("a:eq(0)").trigger(g)}return false},"shift+space":function(g){g.type="click";if(this.data.ui.hovered){this.data.ui.hovered.children("a:eq(0)").trigger(g)}return false},f2:function(){this.rename(this.data.ui.hovered||this.data.ui.last_selected)},del:function(){this.remove(this.data.ui.hovered||this._get_node(null))}},_fn:{enable_hotkeys:function(){this.data.hotkeys.enabled=true},disable_hotkeys:function(){this.data.hotkeys.enabled=false}}})})(jQuery);(function(d){d.jstree.plugin("json_data",{__init:function(){var e=this._get_settings().json_data;if(e.progressive_unload){this.get_container().bind("after_close.jstree",function(g,f){f.rslt.obj.children("ul").remove()})}},defaults:{data:false,ajax:false,correct_state:true,progressive_render:false,progressive_unload:false},_fn:{load_node:function(g,e,f){var h=this;this.load_node_json(g,function(){h.__callback({obj:h._get_node(g)});e.call(this)},f)},_is_loaded:function(f){var e=this._get_settings().json_data;f=this._get_node(f);return f==-1||!f||(!e.ajax&&!e.progressive_render&&!d.isFunction(e.data))||f.is(".jstree-open, .jstree-leaf")||f.children("ul").children("li").length>0},refresh:function(f){f=this._get_node(f);var e=this._get_settings().json_data;if(f&&f!==-1&&e.progressive_unload&&(d.isFunction(e.data)||!!e.ajax)){f.removeData("jstree_children")}return this.__call_old()},load_node_json:function(j,e,g){var h=this.get_settings().json_data,l,f=function(){},k=function(){};j=this._get_node(j);if(j&&j!==-1&&(h.progressive_render||h.progressive_unload)&&!j.is(".jstree-open, .jstree-leaf")&&j.children("ul").children("li").length===0&&j.data("jstree_children")){l=this._parse_json(j.data("jstree_children"),j);if(l){j.append(l);if(!h.progressive_unload){j.removeData("jstree_children")}}this.clean_node(j);if(e){e.call(this)}return}if(j&&j!==-1){if(j.data("jstree_is_loading")){return}else{j.data("jstree_is_loading",true)}}switch(!0){case (!h.data&&!h.ajax):throw"Neither data nor ajax settings supplied.";case (d.isFunction(h.data)):h.data.call(this,j,d.proxy(function(m){m=this._parse_json(m,j);if(!m){if(j===-1||!j){if(h.correct_state){this.get_container().children("ul").empty()}}else{j.children("a.jstree-loading").removeClass("jstree-loading");j.removeData("jstree_is_loading");if(h.correct_state){this.correct_state(j)}}if(g){g.call(this)}}else{if(j===-1||!j){this.get_container().children("ul").empty().append(m.children())}else{j.append(m).children("a.jstree-loading").removeClass("jstree-loading");j.removeData("jstree_is_loading")}this.clean_node(j);if(e){e.call(this)}}},this));break;case (!!h.data&&!h.ajax)||(!!h.data&&!!h.ajax&&(!j||j===-1)):if(!j||j==-1){l=this._parse_json(h.data,j);if(l){this.get_container().children("ul").empty().append(l.children());this.clean_node()}else{if(h.correct_state){this.get_container().children("ul").empty()}}}if(e){e.call(this)}break;case (!h.data&&!!h.ajax)||(!!h.data&&!!h.ajax&&j&&j!==-1):f=function(n,o,p){var m=this.get_settings().json_data.ajax.error;if(m){m.call(this,n,o,p)}if(j!=-1&&j.length){j.children("a.jstree-loading").removeClass("jstree-loading");j.removeData("jstree_is_loading");if(o==="success"&&h.correct_state){this.correct_state(j)}}else{if(o==="success"&&h.correct_state){this.get_container().children("ul").empty()}}if(g){g.call(this)}};k=function(p,n,m){var o=this.get_settings().json_data.ajax.success;if(o){p=o.call(this,p,n,m)||p}if(p===""||(p&&p.toString&&p.toString().replace(/^[\s\n]+$/,"")==="")||(!d.isArray(p)&&!d.isPlainObject(p))){return f.call(this,m,n,"")}p=this._parse_json(p,j);if(p){if(j===-1||!j){this.get_container().children("ul").empty().append(p.children())}else{j.append(p).children("a.jstree-loading").removeClass("jstree-loading");j.removeData("jstree_is_loading")}this.clean_node(j);if(e){e.call(this)}}else{if(j===-1||!j){if(h.correct_state){this.get_container().children("ul").empty();if(e){e.call(this)}}}else{j.children("a.jstree-loading").removeClass("jstree-loading");j.removeData("jstree_is_loading");if(h.correct_state){this.correct_state(j);if(e){e.call(this)}}}}};h.ajax.context=this;h.ajax.error=f;h.ajax.success=k;if(!h.ajax.dataType){h.ajax.dataType="json"}if(d.isFunction(h.ajax.url)){h.ajax.url=h.ajax.url.call(this,j)}if(d.isFunction(h.ajax.data)){h.ajax.data=h.ajax.data.call(this,j)}d.ajax(h.ajax);break}},_parse_json:function(e,k,q){var m=false,f=this._get_settings(),u=f.json_data,r=f.core.html_titles,l,h,g,o,n;if(!e){return m}if(u.progressive_unload&&k&&k!==-1){k.data("jstree_children",m)}if(d.isArray(e)){m=d();if(!e.length){return false}for(h=0,g=e.length;h<g;h++){l=this._parse_json(e[h],k,true);if(l.length){m=m.add(l)}}}else{if(typeof e=="string"){e={data:e}}if(!e.data&&e.data!==""){return m}m=d("<li />");if(e.attr){m.attr(e.attr)}if(e.metadata){m.data(e.metadata)}if(e.state){m.addClass("jstree-"+e.state)}if(!d.isArray(e.data)){l=e.data;e.data=[];e.data.push(l)}d.each(e.data,function(p,j){l=d("<a />");if(d.isFunction(j)){j=j.call(this,e)}if(typeof j=="string"){l.attr("href","#")[r?"html":"text"](j)}else{if(!j.attr){j.attr={}}if(!j.attr.href){j.attr.href="#"}l.attr(j.attr)[r?"html":"text"](j.title);if(j.language){l.addClass(j.language)}}l.prepend("<ins class='jstree-icon'>&#160;</ins>");if(!j.icon&&e.icon){j.icon=e.icon}if(j.icon){if(j.icon.indexOf("/")===-1){l.children("ins").addClass(j.icon)}else{l.children("ins").css("background","url('"+j.icon+"') center center no-repeat")}}m.append(l)});m.prepend("<ins class='jstree-icon'>&#160;</ins>");if(e.children){if(u.progressive_render&&e.state!=="open"){m.addClass("jstree-closed").data("jstree_children",e.children)}else{if(u.progressive_unload){m.data("jstree_children",e.children)}if(d.isArray(e.children)&&e.children.length){l=this._parse_json(e.children,k,true);if(l.length){n=d("<ul />");n.append(l);m.append(n)}}}}}if(!q){o=d("<ul />");o.append(m);m=o}return m},get_json:function(k,g,e,o){var r=[],q=this._get_settings(),l=this,j,h,n,m,p,f;k=this._get_node(k);if(!k||k===-1){k=this.get_container().find("> ul > li")}g=d.isArray(g)?g:["id","class"];if(!o&&this.data.types){g.push(q.types.type_attr)}e=d.isArray(e)?e:[];k.each(function(){n=d(this);j={data:[]};if(g.length){j.attr={}}d.each(g,function(u,s){h=n.attr(s);if(h&&h.length&&h.replace(/jstree[^ ]*/ig,"").length){j.attr[s]=(" "+h).replace(/ jstree[^ ]*/ig,"").replace(/\s+$/ig," ").replace(/^ /,"").replace(/ $/,"")}});if(n.hasClass("jstree-open")){j.state="open"}if(n.hasClass("jstree-closed")){j.state="closed"}if(n.data()){j.metadata=n.data()}m=n.children("a");m.each(function(){p=d(this);if(e.length||d.inArray("languages",q.plugins)!==-1||p.children("ins").get(0).style.backgroundImage.length||(p.children("ins").get(0).className&&p.children("ins").get(0).className.replace(/jstree[^ ]*|$/ig,"").length)){f=false;if(d.inArray("languages",q.plugins)!==-1&&d.isArray(q.languages)&&q.languages.length){d.each(q.languages,function(s,u){if(p.hasClass(u)){f=u;return false}})}h={attr:{},title:l.get_text(p,f)};d.each(e,function(s,u){h.attr[u]=(" "+(p.attr(u)||"")).replace(/ jstree[^ ]*/ig,"").replace(/\s+$/ig," ").replace(/^ /,"").replace(/ $/,"")});if(d.inArray("languages",q.plugins)!==-1&&d.isArray(q.languages)&&q.languages.length){d.each(q.languages,function(s,u){if(p.hasClass(u)){h.language=u;return true}})}if(p.children("ins").get(0).className.replace(/jstree[^ ]*|$/ig,"").replace(/^\s+$/ig,"").length){h.icon=p.children("ins").get(0).className.replace(/jstree[^ ]*|$/ig,"").replace(/\s+$/ig," ").replace(/^ /,"").replace(/ $/,"")}if(p.children("ins").get(0).style.backgroundImage.length){h.icon=p.children("ins").get(0).style.backgroundImage.replace("url(","").replace(")","")}}else{h=l.get_text(p)}if(m.length>1){j.data.push(h)}else{j.data=h}});n=n.find("> ul > li");if(n.length){j.children=l.get_json(n,g,e,true)}r.push(j)});return r}}})})(jQuery);(function(d){d.jstree.plugin("languages",{__init:function(){this._load_css()},defaults:[],_fn:{set_lang:function(g){var h=this._get_settings().languages,f=false,e=".jstree-"+this.get_index()+" a";if(!d.isArray(h)||h.length===0){return false}if(d.inArray(g,h)==-1){if(!!h[g]){g=h[g]}else{return false}}if(g==this.data.languages.current_language){return true}f=d.vakata.css.get_css(e+"."+this.data.languages.current_language,false,this.data.languages.language_css);if(f!==false){f.style.display="none"}f=d.vakata.css.get_css(e+"."+g,false,this.data.languages.language_css);if(f!==false){f.style.display=""}this.data.languages.current_language=g;this.__callback(g);return true},get_lang:function(){return this.data.languages.current_language},_get_string:function(e,h){var g=this._get_settings().languages,f=this._get_settings().core.strings;if(d.isArray(g)&&g.length){h=(h&&d.inArray(h,g)!=-1)?h:this.data.languages.current_language}if(f[h]&&f[h][e]){return f[h][e]}if(f[e]){return f[e]}return e},get_text:function(g,h){g=this._get_node(g)||this.data.ui.last_selected;if(!g.size()){return false}var f=this._get_settings().languages,e=this._get_settings().core.html_titles;if(d.isArray(f)&&f.length){h=(h&&d.inArray(h,f)!=-1)?h:this.data.languages.current_language;g=g.children("a."+h)}else{g=g.children("a:eq(0)")}if(e){g=g.clone();g.children("INS").remove();return g.html()}else{g=g.contents().filter(function(){return this.nodeType==3})[0];return g.nodeValue}},set_text:function(h,k,j){h=this._get_node(h)||this.data.ui.last_selected;if(!h.size()){return false}var g=this._get_settings().languages,f=this._get_settings().core.html_titles,e;if(d.isArray(g)&&g.length){j=(j&&d.inArray(j,g)!=-1)?j:this.data.languages.current_language;h=h.children("a."+j)}else{h=h.children("a:eq(0)")}if(f){e=h.children("INS").clone();h.html(k).prepend(e);this.__callback({obj:h,name:k,lang:j});return true}else{h=h.contents().filter(function(){return this.nodeType==3})[0];this.__callback({obj:h,name:k,lang:j});return(h.nodeValue=k)}},_load_css:function(){var g=this._get_settings().languages,h="/* languages css */",e=".jstree-"+this.get_index()+" a",f;if(d.isArray(g)&&g.length){this.data.languages.current_language=g[0];for(f=0;f<g.length;f++){h+=e+"."+g[f]+" {";if(g[f]!=this.data.languages.current_language){h+=" display:none; "}h+=" } "}this.data.languages.language_css=d.vakata.css.add_sheet({str:h,title:"jstree-languages"})}},create_node:function(h,e,g,j){var f=this.__call_old(true,h,e,g,function(l){var n=this._get_settings().languages,k=l.children("a"),m;if(d.isArray(n)&&n.length){for(m=0;m<n.length;m++){if(!k.is("."+n[m])){l.append(k.eq(0).clone().removeClass(n.join(" ")).addClass(n[m]))}}k.not("."+n.join(", .")).remove()}if(j){j.call(this,l)}});return f}}})})(jQuery);(function(d){d.jstree.plugin("cookies",{__init:function(){if(typeof d.cookie==="undefined"){throw"jsTree cookie: jQuery cookie plugin not included."}var f=this._get_settings().cookies,e;if(!!f.save_loaded){e=d.cookie(f.save_loaded);if(e&&e.length){this.data.core.to_load=e.split(",")}}if(!!f.save_opened){e=d.cookie(f.save_opened);if(e&&e.length){this.data.core.to_open=e.split(",")}}if(!!f.save_selected){e=d.cookie(f.save_selected);if(e&&e.length&&this.data.ui){this.data.ui.to_select=e.split(",")}}this.get_container().one((this.data.ui?"reselect":"reopen")+".jstree",d.proxy(function(){this.get_container().bind("open_node.jstree close_node.jstree select_node.jstree deselect_node.jstree",d.proxy(function(g){if(this._get_settings().cookies.auto_save){this.save_cookie((g.handleObj.namespace+g.handleObj.type).replace("jstree",""))}},this))},this))},defaults:{save_loaded:"jstree_load",save_opened:"jstree_open",save_selected:"jstree_select",auto_save:true,cookie_options:{}},_fn:{save_cookie:function(f){if(this.data.core.refreshing){return}var e=this._get_settings().cookies;if(!f){if(e.save_loaded){this.save_loaded();d.cookie(e.save_loaded,this.data.core.to_load.join(","),e.cookie_options)}if(e.save_opened){this.save_opened();d.cookie(e.save_opened,this.data.core.to_open.join(","),e.cookie_options)}if(e.save_selected&&this.data.ui){this.save_selected();d.cookie(e.save_selected,this.data.ui.to_select.join(","),e.cookie_options)}return}switch(f){case"open_node":case"close_node":if(!!e.save_opened){this.save_opened();d.cookie(e.save_opened,this.data.core.to_open.join(","),e.cookie_options)}if(!!e.save_loaded){this.save_loaded();d.cookie(e.save_loaded,this.data.core.to_load.join(","),e.cookie_options)}break;case"select_node":case"deselect_node":if(!!e.save_selected&&this.data.ui){this.save_selected();d.cookie(e.save_selected,this.data.ui.to_select.join(","),e.cookie_options)}break}}}})})(jQuery);(function(d){d.jstree.plugin("sort",{__init:function(){this.get_container().bind("load_node.jstree",d.proxy(function(h,f){var g=this._get_node(f.rslt.obj);g=g===-1?this.get_container().children("ul"):g.children("ul");this.sort(g)},this)).bind("rename_node.jstree create_node.jstree create.jstree",d.proxy(function(g,f){this.sort(f.rslt.obj.parent())},this)).bind("move_node.jstree",d.proxy(function(h,g){var f=g.rslt.np==-1?this.get_container():g.rslt.np;this.sort(f.children("ul"))},this))},defaults:function(f,e){return this.get_text(f)>this.get_text(e)?1:-1},_fn:{sort:function(g){var f=this._get_settings().sort,e=this;g.append(d.makeArray(g.children("li")).sort(d.proxy(f,e)));g.find("> li > ul").each(function(){e.sort(d(this))});this.clean_node(g)}}})})(jQuery);(function(k){var f=false,d=false,g=false,h=false,l=false,e=false,p=false,n=false,j=false;k.vakata.dnd={is_down:false,is_drag:false,helper:false,scroll_spd:10,init_x:0,init_y:0,threshold:5,helper_left:5,helper_top:10,user_data:{},drag_start:function(r,q,m){if(k.vakata.dnd.is_drag){k.vakata.drag_stop({})}try{r.currentTarget.unselectable="on";r.currentTarget.onselectstart=function(){return false};if(r.currentTarget.style){r.currentTarget.style.MozUserSelect="none"}}catch(o){}k.vakata.dnd.init_x=r.pageX;k.vakata.dnd.init_y=r.pageY;k.vakata.dnd.user_data=q;k.vakata.dnd.is_down=true;k.vakata.dnd.helper=k("<div id='vakata-dragged' />").html(m);k(document).bind("mousemove",k.vakata.dnd.drag);k(document).bind("mouseup",k.vakata.dnd.drag_stop);return false},drag:function(q){if(!k.vakata.dnd.is_down){return}if(!k.vakata.dnd.is_drag){if(Math.abs(q.pageX-k.vakata.dnd.init_x)>5||Math.abs(q.pageY-k.vakata.dnd.init_y)>5){k.vakata.dnd.helper.appendTo("body");k.vakata.dnd.is_drag=true;k(document).triggerHandler("drag_start.vakata",{event:q,data:k.vakata.dnd.user_data})}else{return}}if(q.type==="mousemove"){var r=k(document),o=r.scrollTop(),m=r.scrollLeft();if(q.pageY-o<20){if(e&&p==="down"){clearInterval(e);e=false}if(!e){p="up";e=setInterval(function(){k(document).scrollTop(k(document).scrollTop()-k.vakata.dnd.scroll_spd)},150)}}else{if(e&&p==="up"){clearInterval(e);e=false}}if(k(window).height()-(q.pageY-o)<20){if(e&&p==="up"){clearInterval(e);e=false}if(!e){p="down";e=setInterval(function(){k(document).scrollTop(k(document).scrollTop()+k.vakata.dnd.scroll_spd)},150)}}else{if(e&&p==="down"){clearInterval(e);e=false}}if(q.pageX-m<20){if(l&&n==="right"){clearInterval(l);l=false}if(!l){n="left";l=setInterval(function(){k(document).scrollLeft(k(document).scrollLeft()-k.vakata.dnd.scroll_spd)},150)}}else{if(l&&n==="left"){clearInterval(l);l=false}}if(k(window).width()-(q.pageX-m)<20){if(l&&n==="left"){clearInterval(l);l=false}if(!l){n="right";l=setInterval(function(){k(document).scrollLeft(k(document).scrollLeft()+k.vakata.dnd.scroll_spd)},150)}}else{if(l&&n==="right"){clearInterval(l);l=false}}}k.vakata.dnd.helper.css({left:(q.pageX+k.vakata.dnd.helper_left)+"px",top:(q.pageY+k.vakata.dnd.helper_top)+"px"});k(document).triggerHandler("drag.vakata",{event:q,data:k.vakata.dnd.user_data})},drag_stop:function(m){if(l){clearInterval(l)}if(e){clearInterval(e)}k(document).unbind("mousemove",k.vakata.dnd.drag);k(document).unbind("mouseup",k.vakata.dnd.drag_stop);k(document).triggerHandler("drag_stop.vakata",{event:m,data:k.vakata.dnd.user_data});k.vakata.dnd.helper.remove();k.vakata.dnd.init_x=0;k.vakata.dnd.init_y=0;k.vakata.dnd.user_data={};k.vakata.dnd.is_down=false;k.vakata.dnd.is_drag=false}};k(function(){var m="#vakata-dragged { display:block; margin:0 0 0 0; padding:4px 4px 4px 24px; position:absolute; top:-2000px; line-height:16px; z-index:10000; } ";k.vakata.css.add_sheet({str:m,title:"vakata"})});k.jstree.plugin("dnd",{__init:function(){this.data.dnd={active:false,after:false,inside:false,before:false,off:false,prepared:false,w:0,to1:false,to2:false,cof:false,cw:false,ch:false,i1:false,i2:false,mto:false};this.get_container().bind("mouseenter.jstree",k.proxy(function(r){if(k.vakata.dnd.is_drag&&k.vakata.dnd.user_data.jstree){if(this.data.themes){g.attr("class","jstree-"+this.data.themes.theme);if(h){h.attr("class","jstree-"+this.data.themes.theme)}k.vakata.dnd.helper.attr("class","jstree-dnd-helper jstree-"+this.data.themes.theme)}if(r.currentTarget===r.target&&k.vakata.dnd.user_data.obj&&k(k.vakata.dnd.user_data.obj).length&&k(k.vakata.dnd.user_data.obj).parents(".jstree:eq(0)")[0]!==r.target){var q=k.jstree._reference(r.target),o;if(q.data.dnd.foreign){o=q._get_settings().dnd.drag_check.call(this,{o:f,r:q.get_container(),is_root:true});if(o===true||o.inside===true||o.before===true||o.after===true){k.vakata.dnd.helper.children("ins").attr("class","jstree-ok")}}else{q.prepare_move(f,q.get_container(),"last");if(q.check_move()){k.vakata.dnd.helper.children("ins").attr("class","jstree-ok")}}}}},this)).bind("mouseup.jstree",k.proxy(function(r){if(k.vakata.dnd.is_drag&&k.vakata.dnd.user_data.jstree&&r.currentTarget===r.target&&k.vakata.dnd.user_data.obj&&k(k.vakata.dnd.user_data.obj).length&&k(k.vakata.dnd.user_data.obj).parents(".jstree:eq(0)")[0]!==r.target){var q=k.jstree._reference(r.currentTarget),o;if(q.data.dnd.foreign){o=q._get_settings().dnd.drag_check.call(this,{o:f,r:q.get_container(),is_root:true});if(o===true||o.inside===true||o.before===true||o.after===true){q._get_settings().dnd.drag_finish.call(this,{o:f,r:q.get_container(),is_root:true})}}else{q.move_node(f,q.get_container(),"last",r[q._get_settings().dnd.copy_modifier+"Key"])}}},this)).bind("mouseleave.jstree",k.proxy(function(o){if(o.relatedTarget&&o.relatedTarget.id&&o.relatedTarget.id==="jstree-marker-line"){return false}if(k.vakata.dnd.is_drag&&k.vakata.dnd.user_data.jstree){if(this.data.dnd.i1){clearInterval(this.data.dnd.i1)}if(this.data.dnd.i2){clearInterval(this.data.dnd.i2)}if(this.data.dnd.to1){clearTimeout(this.data.dnd.to1)}if(this.data.dnd.to2){clearTimeout(this.data.dnd.to2)}if(k.vakata.dnd.helper.children("ins").hasClass("jstree-ok")){k.vakata.dnd.helper.children("ins").attr("class","jstree-invalid")}}},this)).bind("mousemove.jstree",k.proxy(function(q){if(k.vakata.dnd.is_drag&&k.vakata.dnd.user_data.jstree){var o=this.get_container()[0];if(q.pageX+24>this.data.dnd.cof.left+this.data.dnd.cw){if(this.data.dnd.i1){clearInterval(this.data.dnd.i1)}this.data.dnd.i1=setInterval(k.proxy(function(){this.scrollLeft+=k.vakata.dnd.scroll_spd},o),100)}else{if(q.pageX-24<this.data.dnd.cof.left){if(this.data.dnd.i1){clearInterval(this.data.dnd.i1)}this.data.dnd.i1=setInterval(k.proxy(function(){this.scrollLeft-=k.vakata.dnd.scroll_spd},o),100)}else{if(this.data.dnd.i1){clearInterval(this.data.dnd.i1)}}}if(q.pageY+24>this.data.dnd.cof.top+this.data.dnd.ch){if(this.data.dnd.i2){clearInterval(this.data.dnd.i2)}this.data.dnd.i2=setInterval(k.proxy(function(){this.scrollTop+=k.vakata.dnd.scroll_spd},o),100)}else{if(q.pageY-24<this.data.dnd.cof.top){if(this.data.dnd.i2){clearInterval(this.data.dnd.i2)}this.data.dnd.i2=setInterval(k.proxy(function(){this.scrollTop-=k.vakata.dnd.scroll_spd},o),100)}else{if(this.data.dnd.i2){clearInterval(this.data.dnd.i2)}}}}},this)).bind("scroll.jstree",k.proxy(function(o){if(k.vakata.dnd.is_drag&&k.vakata.dnd.user_data.jstree&&g&&h){g.hide();h.hide()}},this)).delegate("a","mousedown.jstree",k.proxy(function(o){if(o.which===1){this.start_drag(o.currentTarget,o);return false}},this)).delegate("a","mouseenter.jstree",k.proxy(function(o){if(k.vakata.dnd.is_drag&&k.vakata.dnd.user_data.jstree){this.dnd_enter(o.currentTarget)}},this)).delegate("a","mousemove.jstree",k.proxy(function(o){if(k.vakata.dnd.is_drag&&k.vakata.dnd.user_data.jstree){if(!d||!d.length||d.children("a")[0]!==o.currentTarget){this.dnd_enter(o.currentTarget)}if(typeof this.data.dnd.off.top==="undefined"){this.data.dnd.off=k(o.target).offset()}this.data.dnd.w=(o.pageY-(this.data.dnd.off.top||0))%this.data.core.li_height;if(this.data.dnd.w<0){this.data.dnd.w+=this.data.core.li_height}this.dnd_show()}},this)).delegate("a","mouseleave.jstree",k.proxy(function(o){if(k.vakata.dnd.is_drag&&k.vakata.dnd.user_data.jstree){if(o.relatedTarget&&o.relatedTarget.id&&o.relatedTarget.id==="jstree-marker-line"){return false}if(g){g.hide()}if(h){h.hide()}this.data.dnd.mto=setTimeout((function(q){return function(){q.dnd_leave(o)}})(this),0)}},this)).delegate("a","mouseup.jstree",k.proxy(function(o){if(k.vakata.dnd.is_drag&&k.vakata.dnd.user_data.jstree){this.dnd_finish(o)}},this));k(document).bind("drag_stop.vakata",k.proxy(function(){if(this.data.dnd.to1){clearTimeout(this.data.dnd.to1)}if(this.data.dnd.to2){clearTimeout(this.data.dnd.to2)}if(this.data.dnd.i1){clearInterval(this.data.dnd.i1)}if(this.data.dnd.i2){clearInterval(this.data.dnd.i2)}this.data.dnd.after=false;this.data.dnd.before=false;this.data.dnd.inside=false;this.data.dnd.off=false;this.data.dnd.prepared=false;this.data.dnd.w=false;this.data.dnd.to1=false;this.data.dnd.to2=false;this.data.dnd.i1=false;this.data.dnd.i2=false;this.data.dnd.active=false;this.data.dnd.foreign=false;if(g){g.css({top:"-2000px"})}if(h){h.css({top:"-2000px"})}},this)).bind("drag_start.vakata",k.proxy(function(r,o){if(o.data.jstree){var q=k(o.event.target);if(q.closest(".jstree").hasClass("jstree-"+this.get_index())){this.dnd_enter(q)}}},this));var m=this._get_settings().dnd;if(m.drag_target){k(document).delegate(m.drag_target,"mousedown.jstree-"+this.get_index(),k.proxy(function(q){f=q.target;k.vakata.dnd.drag_start(q,{jstree:true,obj:q.target},"<ins class='jstree-icon'></ins>"+k(q.target).text());if(this.data.themes){if(g){g.attr("class","jstree-"+this.data.themes.theme)}if(h){h.attr("class","jstree-"+this.data.themes.theme)}k.vakata.dnd.helper.attr("class","jstree-dnd-helper jstree-"+this.data.themes.theme)}k.vakata.dnd.helper.children("ins").attr("class","jstree-invalid");var o=this.get_container();this.data.dnd.cof=o.offset();this.data.dnd.cw=parseInt(o.width(),10);this.data.dnd.ch=parseInt(o.height(),10);this.data.dnd.foreign=true;q.preventDefault()},this))}if(m.drop_target){k(document).delegate(m.drop_target,"mouseenter.jstree-"+this.get_index(),k.proxy(function(o){if(this.data.dnd.active&&this._get_settings().dnd.drop_check.call(this,{o:f,r:k(o.target),e:o})){k.vakata.dnd.helper.children("ins").attr("class","jstree-ok")}},this)).delegate(m.drop_target,"mouseleave.jstree-"+this.get_index(),k.proxy(function(o){if(this.data.dnd.active){k.vakata.dnd.helper.children("ins").attr("class","jstree-invalid")}},this)).delegate(m.drop_target,"mouseup.jstree-"+this.get_index(),k.proxy(function(o){if(this.data.dnd.active&&k.vakata.dnd.helper.children("ins").hasClass("jstree-ok")){this._get_settings().dnd.drop_finish.call(this,{o:f,r:k(o.target),e:o})}},this))}},defaults:{copy_modifier:"ctrl",check_timeout:100,open_timeout:500,drop_target:".jstree-drop",drop_check:function(m){return true},drop_finish:k.noop,drag_target:".jstree-draggable",drag_finish:k.noop,drag_check:function(m){return{after:false,before:false,inside:true}}},_fn:{dnd_prepare:function(){if(!d||!d.length){return}this.data.dnd.off=d.offset();if(this._get_settings().core.rtl){this.data.dnd.off.right=this.data.dnd.off.left+d.width()}if(this.data.dnd.foreign){var m=this._get_settings().dnd.drag_check.call(this,{o:f,r:d});this.data.dnd.after=m.after;this.data.dnd.before=m.before;this.data.dnd.inside=m.inside;this.data.dnd.prepared=true;return this.dnd_show()}this.prepare_move(f,d,"before");this.data.dnd.before=this.check_move();this.prepare_move(f,d,"after");this.data.dnd.after=this.check_move();if(this._is_loaded(d)){this.prepare_move(f,d,"inside");this.data.dnd.inside=this.check_move()}else{this.data.dnd.inside=false}this.data.dnd.prepared=true;return this.dnd_show()},dnd_show:function(){if(!this.data.dnd.prepared){return}var s=["before","inside","after"],m=false,q=this._get_settings().core.rtl,u;if(this.data.dnd.w<this.data.core.li_height/3){s=["before","inside","after"]}else{if(this.data.dnd.w<=this.data.core.li_height*2/3){s=this.data.dnd.w<this.data.core.li_height/2?["inside","before","after"]:["inside","after","before"]}else{s=["after","inside","before"]}}k.each(s,k.proxy(function(o,r){if(this.data.dnd[r]){k.vakata.dnd.helper.children("ins").attr("class","jstree-ok");m=r;return false}},this));if(m===false){k.vakata.dnd.helper.children("ins").attr("class","jstree-invalid")}u=q?(this.data.dnd.off.right-18):(this.data.dnd.off.left+10);switch(m){case"before":g.css({left:u+"px",top:(this.data.dnd.off.top-6)+"px"}).show();if(h){h.css({left:(u+8)+"px",top:(this.data.dnd.off.top-1)+"px"}).show()}break;case"after":g.css({left:u+"px",top:(this.data.dnd.off.top+this.data.core.li_height-6)+"px"}).show();if(h){h.css({left:(u+8)+"px",top:(this.data.dnd.off.top+this.data.core.li_height-1)+"px"}).show()}break;case"inside":g.css({left:u+(q?-4:4)+"px",top:(this.data.dnd.off.top+this.data.core.li_height/2-5)+"px"}).show();if(h){h.hide()}break;default:g.hide();if(h){h.hide()}break}j=m;return m},dnd_open:function(){this.data.dnd.to2=false;this.open_node(d,k.proxy(this.dnd_prepare,this),true)},dnd_finish:function(m){if(this.data.dnd.foreign){if(this.data.dnd.after||this.data.dnd.before||this.data.dnd.inside){this._get_settings().dnd.drag_finish.call(this,{o:f,r:d,p:j})}}else{this.dnd_prepare();this.move_node(f,d,j,m[this._get_settings().dnd.copy_modifier+"Key"])}f=false;d=false;g.hide();if(h){h.hide()}},dnd_enter:function(o){if(this.data.dnd.mto){clearTimeout(this.data.dnd.mto);this.data.dnd.mto=false}var m=this._get_settings().dnd;this.data.dnd.prepared=false;d=this._get_node(o);if(m.check_timeout){if(this.data.dnd.to1){clearTimeout(this.data.dnd.to1)}this.data.dnd.to1=setTimeout(k.proxy(this.dnd_prepare,this),m.check_timeout)}else{this.dnd_prepare()}if(m.open_timeout){if(this.data.dnd.to2){clearTimeout(this.data.dnd.to2)}if(d&&d.length&&d.hasClass("jstree-closed")){this.data.dnd.to2=setTimeout(k.proxy(this.dnd_open,this),m.open_timeout)}}else{if(d&&d.length&&d.hasClass("jstree-closed")){this.dnd_open()}}},dnd_leave:function(m){this.data.dnd.after=false;this.data.dnd.before=false;this.data.dnd.inside=false;k.vakata.dnd.helper.children("ins").attr("class","jstree-invalid");g.hide();if(h){h.hide()}if(d&&d[0]===m.target.parentNode){if(this.data.dnd.to1){clearTimeout(this.data.dnd.to1);this.data.dnd.to1=false}if(this.data.dnd.to2){clearTimeout(this.data.dnd.to2);this.data.dnd.to2=false}}},start_drag:function(r,q){f=this._get_node(r);if(this.data.ui&&this.is_selected(f)){f=this._get_node(null,true)}var o=f.length>1?this._get_string("multiple_selection"):this.get_text(f),m=this.get_container();if(!this._get_settings().core.html_titles){o=o.replace(/</ig,"&lt;").replace(/>/ig,"&gt;")}k.vakata.dnd.drag_start(q,{jstree:true,obj:f},"<ins class='jstree-icon'></ins>"+o);if(this.data.themes){if(g){g.attr("class","jstree-"+this.data.themes.theme)}if(h){h.attr("class","jstree-"+this.data.themes.theme)}k.vakata.dnd.helper.attr("class","jstree-dnd-helper jstree-"+this.data.themes.theme)}this.data.dnd.cof=m.offset();this.data.dnd.cw=parseInt(m.width(),10);this.data.dnd.ch=parseInt(m.height(),10);this.data.dnd.active=true}}});k(function(){var m="#vakata-dragged ins { display:block; text-decoration:none; width:16px; height:16px; margin:0 0 0 0; padding:0; position:absolute; top:4px; left:4px;  -moz-border-radius:4px; border-radius:4px; -webkit-border-radius:4px; } #vakata-dragged .jstree-ok { background:green; } #vakata-dragged .jstree-invalid { background:red; } #jstree-marker { padding:0; margin:0; font-size:12px; overflow:hidden; height:12px; width:8px; position:absolute; top:-30px; z-index:10001; background-repeat:no-repeat; display:none; background-color:transparent; text-shadow:1px 1px 1px white; color:black; line-height:10px; } #jstree-marker-line { padding:0; margin:0; line-height:0%; font-size:1px; overflow:hidden; height:1px; width:100px; position:absolute; top:-30px; z-index:10000; background-repeat:no-repeat; display:none; background-color:#456c43;  cursor:pointer; border:1px solid #eeeeee; border-left:0; -moz-box-shadow: 0px 0px 2px #666; -webkit-box-shadow: 0px 0px 2px #666; box-shadow: 0px 0px 2px #666;  -moz-border-radius:1px; border-radius:1px; -webkit-border-radius:1px; }";k.vakata.css.add_sheet({str:m,title:"jstree"});g=k("<div />").attr({id:"jstree-marker"}).hide().html("&raquo;").bind("mouseleave mouseenter",function(o){g.hide();h.hide();o.preventDefault();o.stopImmediatePropagation();return false}).appendTo("body");h=k("<div />").attr({id:"jstree-marker-line"}).hide().bind("mouseup",function(o){if(d&&d.length){d.children("a").trigger(o);o.preventDefault();o.stopImmediatePropagation();return false}}).bind("mouseleave",function(q){var o=k(q.relatedTarget);if(o.is(".jstree")||o.closest(".jstree").length===0){if(d&&d.length){d.children("a").trigger(q);g.hide();h.hide();q.preventDefault();q.stopImmediatePropagation();return false}}}).appendTo("body");k(document).bind("drag_start.vakata",function(q,o){if(o.data.jstree){g.show();if(h){h.show()}}});k(document).bind("drag_stop.vakata",function(q,o){if(o.data.jstree){g.hide();if(h){h.hide()}}})})})(jQuery);(function(d){d.jstree.plugin("checkbox",{__init:function(){this.data.checkbox.noui=this._get_settings().checkbox.override_ui;if(this.data.ui&&this.data.checkbox.noui){this.select_node=this.deselect_node=this.deselect_all=d.noop;this.get_selected=this.get_checked}this.get_container().bind("open_node.jstree create_node.jstree clean_node.jstree refresh.jstree",d.proxy(function(g,f){this._prepare_checkboxes(f.rslt.obj)},this)).bind("loaded.jstree",d.proxy(function(f){this._prepare_checkboxes()},this)).delegate((this.data.ui&&this.data.checkbox.noui?"a":"ins.jstree-checkbox"),"click.jstree",d.proxy(function(f){f.preventDefault();if(this._get_node(f.target).hasClass("jstree-checked")){this.uncheck_node(f.target)}else{this.check_node(f.target)}if(this.data.ui&&this.data.checkbox.noui){this.save_selected();if(this.data.cookies){this.save_cookie("select_node")}}else{f.stopImmediatePropagation();return false}},this))},defaults:{override_ui:false,two_state:false,real_checkboxes:false,checked_parent_open:true,real_checkboxes_names:function(e){return[("check_"+(e[0].id||Math.ceil(Math.random()*10000))),1]}},__destroy:function(){this.get_container().find("input.jstree-real-checkbox").removeClass("jstree-real-checkbox").end().find("ins.jstree-checkbox").remove()},_fn:{_checkbox_notify:function(f,e){if(e.checked){this.check_node(f,false)}},_prepare_checkboxes:function(j){j=!j||j==-1?this.get_container().find("> ul > li"):this._get_node(j);if(j===false){return}var l,k=this,e,g=this._get_settings().checkbox.two_state,h=this._get_settings().checkbox.real_checkboxes,f=this._get_settings().checkbox.real_checkboxes_names;j.each(function(){e=d(this);l=e.is("li")&&(e.hasClass("jstree-checked")||(h&&e.children(":checked").length))?"jstree-checked":"jstree-unchecked";e.find("li").andSelf().each(function(){var n=d(this),m;n.children("a"+(k.data.languages?"":":eq(0)")).not(":has(.jstree-checkbox)").prepend("<ins class='jstree-checkbox'>&#160;</ins>").parent().not(".jstree-checked, .jstree-unchecked").addClass(g?"jstree-unchecked":l);if(h){if(!n.children(":checkbox").length){m=f.call(k,n);n.prepend("<input type='checkbox' class='jstree-real-checkbox' id='"+m[0]+"' name='"+m[0]+"' value='"+m[1]+"' />")}else{n.children(":checkbox").addClass("jstree-real-checkbox")}}if(!g){if(l==="jstree-checked"||n.hasClass("jstree-checked")||n.children(":checked").length){n.find("li").andSelf().addClass("jstree-checked").children(":checkbox").prop("checked",true)}}else{if(n.hasClass("jstree-checked")||n.children(":checked").length){n.addClass("jstree-checked").children(":checkbox").prop("checked",true)}}})});if(!g){j.find(".jstree-checked").parent().parent().each(function(){k._repair_state(this)})}},change_state:function(h,g){h=this._get_node(h);var e=false,f=this._get_settings().checkbox.real_checkboxes;if(!h||h===-1){return false}g=(g===false||g===true)?g:h.hasClass("jstree-checked");if(this._get_settings().checkbox.two_state){if(g){h.removeClass("jstree-checked").addClass("jstree-unchecked");if(f){h.children(":checkbox").prop("checked",false)}}else{h.removeClass("jstree-unchecked").addClass("jstree-checked");if(f){h.children(":checkbox").prop("checked",true)}}}else{if(g){e=h.find("li").andSelf();if(!e.filter(".jstree-checked, .jstree-undetermined").length){return false}e.removeClass("jstree-checked jstree-undetermined").addClass("jstree-unchecked");if(f){e.children(":checkbox").prop("checked",false)}}else{e=h.find("li").andSelf();if(!e.filter(".jstree-unchecked, .jstree-undetermined").length){return false}e.removeClass("jstree-unchecked jstree-undetermined").addClass("jstree-checked");if(f){e.children(":checkbox").prop("checked",true)}if(this.data.ui){this.data.ui.last_selected=h}this.data.checkbox.last_selected=h}h.parentsUntil(".jstree","li").each(function(){var j=d(this);if(g){if(j.children("ul").children("li.jstree-checked, li.jstree-undetermined").length){j.parentsUntil(".jstree","li").andSelf().removeClass("jstree-checked jstree-unchecked").addClass("jstree-undetermined");if(f){j.parentsUntil(".jstree","li").andSelf().children(":checkbox").prop("checked",false)}return false}else{j.removeClass("jstree-checked jstree-undetermined").addClass("jstree-unchecked");if(f){j.children(":checkbox").prop("checked",false)}}}else{if(j.children("ul").children("li.jstree-unchecked, li.jstree-undetermined").length){j.parentsUntil(".jstree","li").andSelf().removeClass("jstree-checked jstree-unchecked").addClass("jstree-undetermined");if(f){j.parentsUntil(".jstree","li").andSelf().children(":checkbox").prop("checked",false)}return false}else{j.removeClass("jstree-unchecked jstree-undetermined").addClass("jstree-checked");if(f){j.children(":checkbox").prop("checked",true)}}}})}if(this.data.ui&&this.data.checkbox.noui){this.data.ui.selected=this.get_checked()}this.__callback(h);return true},check_node:function(f){if(this.change_state(f,false)){f=this._get_node(f);if(this._get_settings().checkbox.checked_parent_open){var e=this;f.parents(".jstree-closed").each(function(){e.open_node(this,false,true)})}this.__callback({obj:f})}},uncheck_node:function(e){if(this.change_state(e,true)){this.__callback({obj:this._get_node(e)})}},check_all:function(){var f=this,e=this._get_settings().checkbox.two_state?this.get_container_ul().find("li"):this.get_container_ul().children("li");e.each(function(){f.change_state(this,false)});this.__callback()},uncheck_all:function(){var f=this,e=this._get_settings().checkbox.two_state?this.get_container_ul().find("li"):this.get_container_ul().children("li");e.each(function(){f.change_state(this,true)});this.__callback()},is_checked:function(e){e=this._get_node(e);return e.length?e.is(".jstree-checked"):false},get_checked:function(f,e){f=!f||f===-1?this.get_container():this._get_node(f);return e||this._get_settings().checkbox.two_state?f.find(".jstree-checked"):f.find("> ul > .jstree-checked, .jstree-undetermined > ul > .jstree-checked")},get_unchecked:function(f,e){f=!f||f===-1?this.get_container():this._get_node(f);return e||this._get_settings().checkbox.two_state?f.find(".jstree-unchecked"):f.find("> ul > .jstree-unchecked, .jstree-undetermined > ul > .jstree-unchecked")},show_checkboxes:function(){this.get_container().children("ul").removeClass("jstree-no-checkboxes")},hide_checkboxes:function(){this.get_container().children("ul").addClass("jstree-no-checkboxes")},_repair_state:function(h){h=this._get_node(h);if(!h.length){return}if(this._get_settings().checkbox.two_state){h.find("li").andSelf().not(".jstree-checked").removeClass("jstree-undetermined").addClass("jstree-unchecked").children(":checkbox").prop("checked",true);return}var g=this._get_settings().checkbox.real_checkboxes,f=h.find("> ul > .jstree-checked").length,e=h.find("> ul > .jstree-undetermined").length,j=h.find("> ul > li").length;if(j===0){if(h.hasClass("jstree-undetermined")){this.change_state(h,false)}}else{if(f===0&&e===0){this.change_state(h,true)}else{if(f===j){this.change_state(h,false)}else{h.parentsUntil(".jstree","li").andSelf().removeClass("jstree-checked jstree-unchecked").addClass("jstree-undetermined");if(g){h.parentsUntil(".jstree","li").andSelf().children(":checkbox").prop("checked",false)}}}}},reselect:function(){if(this.data.ui&&this.data.checkbox.noui){var f=this,e=this.data.ui.to_select;e=d.map(d.makeArray(e),function(g){return"#"+g.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:")});this.deselect_all();d.each(e,function(g,h){f.check_node(h)});this.__callback()}else{this.__call_old()}},save_loaded:function(){var e=this;this.data.core.to_load=[];this.get_container_ul().find("li.jstree-closed.jstree-undetermined").each(function(){if(this.id){e.data.core.to_load.push("#"+this.id)}})}}});d(function(){var e=".jstree .jstree-real-checkbox { display:none; } ";d.vakata.css.add_sheet({str:e,title:"jstree"})})})(jQuery);(function(f){f.vakata.xslt=function(j,k,o){var g="",n,h,m,l;if(document.recalc){n=document.createElement("xml");h=document.createElement("xml");n.innerHTML=j;h.innerHTML=k;f("body").append(n).append(h);setTimeout((function(q,p,r){return function(){r.call(null,q.transformNode(p.XMLDocument));setTimeout((function(u,s){return function(){f(u).remove();f(s).remove()}})(q,p),200)}})(n,h,o),100);return true}if(typeof window.DOMParser!=="undefined"&&typeof window.XMLHttpRequest!=="undefined"&&typeof window.XSLTProcessor==="undefined"){j=new DOMParser().parseFromString(j,"text/xml");k=new DOMParser().parseFromString(k,"text/xml")}if(typeof window.DOMParser!=="undefined"&&typeof window.XMLHttpRequest!=="undefined"&&typeof window.XSLTProcessor!=="undefined"){m=new XSLTProcessor();l=f.isFunction(m.transformDocument)?(typeof window.XMLSerializer!=="undefined"):true;if(!l){return false}j=new DOMParser().parseFromString(j,"text/xml");k=new DOMParser().parseFromString(k,"text/xml");if(f.isFunction(m.transformDocument)){g=document.implementation.createDocument("","",null);m.transformDocument(j,k,g,null);o.call(null,new XMLSerializer().serializeToString(g));return true}else{m.importStylesheet(k);g=m.transformToFragment(j,document);o.call(null,f("<div />").append(g).html());return true}}return false};var e={nest:'<?xml version="1.0" encoding="utf-8" ?><xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" ><xsl:output method="html" encoding="utf-8" omit-xml-declaration="yes" standalone="no" indent="no" media-type="text/html" /><xsl:template match="/">	<xsl:call-template name="nodes">		<xsl:with-param name="node" select="/root" />	</xsl:call-template></xsl:template><xsl:template name="nodes">	<xsl:param name="node" />	<ul>	<xsl:for-each select="$node/item">		<xsl:variable name="children" select="count(./item) &gt; 0" />		<li>			<xsl:attribute name="class">				<xsl:if test="position() = last()">jstree-last </xsl:if>				<xsl:choose>					<xsl:when test="@state = \'open\'">jstree-open </xsl:when>					<xsl:when test="$children or @hasChildren or @state = \'closed\'">jstree-closed </xsl:when>					<xsl:otherwise>jstree-leaf </xsl:otherwise>				</xsl:choose>				<xsl:value-of select="@class" />			</xsl:attribute>			<xsl:for-each select="@*">				<xsl:if test="name() != \'class\' and name() != \'state\' and name() != \'hasChildren\'">					<xsl:attribute name="{name()}"><xsl:value-of select="." /></xsl:attribute>				</xsl:if>			</xsl:for-each>	<ins class="jstree-icon"><xsl:text>&#xa0;</xsl:text></ins>			<xsl:for-each select="content/name">				<a>				<xsl:attribute name="href">					<xsl:choose>					<xsl:when test="@href"><xsl:value-of select="@href" /></xsl:when>					<xsl:otherwise>#</xsl:otherwise>					</xsl:choose>				</xsl:attribute>				<xsl:attribute name="class"><xsl:value-of select="@lang" /> <xsl:value-of select="@class" /></xsl:attribute>				<xsl:attribute name="style"><xsl:value-of select="@style" /></xsl:attribute>				<xsl:for-each select="@*">					<xsl:if test="name() != \'style\' and name() != \'class\' and name() != \'href\'">						<xsl:attribute name="{name()}"><xsl:value-of select="." /></xsl:attribute>					</xsl:if>				</xsl:for-each>					<ins>						<xsl:attribute name="class">jstree-icon 							<xsl:if test="string-length(attribute::icon) > 0 and not(contains(@icon,\'/\'))"><xsl:value-of select="@icon" /></xsl:if>						</xsl:attribute>						<xsl:if test="string-length(attribute::icon) > 0 and contains(@icon,\'/\')"><xsl:attribute name="style">background:url(<xsl:value-of select="@icon" />) center center no-repeat;</xsl:attribute></xsl:if>						<xsl:text>&#xa0;</xsl:text>					</ins>					<xsl:copy-of select="./child::node()" />				</a>			</xsl:for-each>			<xsl:if test="$children or @hasChildren"><xsl:call-template name="nodes"><xsl:with-param name="node" select="current()" /></xsl:call-template></xsl:if>		</li>	</xsl:for-each>	</ul></xsl:template></xsl:stylesheet>',flat:'<?xml version="1.0" encoding="utf-8" ?><xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" ><xsl:output method="html" encoding="utf-8" omit-xml-declaration="yes" standalone="no" indent="no" media-type="text/xml" /><xsl:template match="/">	<ul>	<xsl:for-each select="//item[not(@parent_id) or @parent_id=0 or not(@parent_id = //item/@id)]">		<xsl:call-template name="nodes">			<xsl:with-param name="node" select="." />			<xsl:with-param name="is_last" select="number(position() = last())" />		</xsl:call-template>	</xsl:for-each>	</ul></xsl:template><xsl:template name="nodes">	<xsl:param name="node" />	<xsl:param name="is_last" />	<xsl:variable name="children" select="count(//item[@parent_id=$node/attribute::id]) &gt; 0" />	<li>	<xsl:attribute name="class">		<xsl:if test="$is_last = true()">jstree-last </xsl:if>		<xsl:choose>			<xsl:when test="@state = \'open\'">jstree-open </xsl:when>			<xsl:when test="$children or @hasChildren or @state = \'closed\'">jstree-closed </xsl:when>			<xsl:otherwise>jstree-leaf </xsl:otherwise>		</xsl:choose>		<xsl:value-of select="@class" />	</xsl:attribute>	<xsl:for-each select="@*">		<xsl:if test="name() != \'parent_id\' and name() != \'hasChildren\' and name() != \'class\' and name() != \'state\'">		<xsl:attribute name="{name()}"><xsl:value-of select="." /></xsl:attribute>		</xsl:if>	</xsl:for-each>	<ins class="jstree-icon"><xsl:text>&#xa0;</xsl:text></ins>	<xsl:for-each select="content/name">		<a>		<xsl:attribute name="href">			<xsl:choose>			<xsl:when test="@href"><xsl:value-of select="@href" /></xsl:when>			<xsl:otherwise>#</xsl:otherwise>			</xsl:choose>		</xsl:attribute>		<xsl:attribute name="class"><xsl:value-of select="@lang" /> <xsl:value-of select="@class" /></xsl:attribute>		<xsl:attribute name="style"><xsl:value-of select="@style" /></xsl:attribute>		<xsl:for-each select="@*">			<xsl:if test="name() != \'style\' and name() != \'class\' and name() != \'href\'">				<xsl:attribute name="{name()}"><xsl:value-of select="." /></xsl:attribute>			</xsl:if>		</xsl:for-each>			<ins>				<xsl:attribute name="class">jstree-icon 					<xsl:if test="string-length(attribute::icon) > 0 and not(contains(@icon,\'/\'))"><xsl:value-of select="@icon" /></xsl:if>				</xsl:attribute>				<xsl:if test="string-length(attribute::icon) > 0 and contains(@icon,\'/\')"><xsl:attribute name="style">background:url(<xsl:value-of select="@icon" />) center center no-repeat;</xsl:attribute></xsl:if>				<xsl:text>&#xa0;</xsl:text>			</ins>			<xsl:copy-of select="./child::node()" />		</a>	</xsl:for-each>	<xsl:if test="$children">		<ul>		<xsl:for-each select="//item[@parent_id=$node/attribute::id]">			<xsl:call-template name="nodes">				<xsl:with-param name="node" select="." />				<xsl:with-param name="is_last" select="number(position() = last())" />			</xsl:call-template>		</xsl:for-each>		</ul>	</xsl:if>	</li></xsl:template></xsl:stylesheet>'},d=function(g){return g.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")};f.jstree.plugin("xml_data",{defaults:{data:false,ajax:false,xsl:"flat",clean_node:false,correct_state:true,get_skip_empty:false,get_include_preamble:true},_fn:{load_node:function(j,g,h){var k=this;this.load_node_xml(j,function(){k.__callback({obj:k._get_node(j)});g.call(this)},h)},_is_loaded:function(h){var g=this._get_settings().xml_data;h=this._get_node(h);return h==-1||!h||(!g.ajax&&!f.isFunction(g.data))||h.is(".jstree-open, .jstree-leaf")||h.children("ul").children("li").size()>0},load_node_xml:function(l,g,j){var k=this.get_settings().xml_data,h=function(){},m=function(){};l=this._get_node(l);if(l&&l!==-1){if(l.data("jstree_is_loading")){return}else{l.data("jstree_is_loading",true)}}switch(!0){case (!k.data&&!k.ajax):throw"Neither data nor ajax settings supplied.";case (f.isFunction(k.data)):k.data.call(this,l,f.proxy(function(n){this.parse_xml(n,f.proxy(function(o){if(o){o=o.replace(/ ?xmlns="[^"]*"/ig,"");if(o.length>10){o=f(o);if(l===-1||!l){this.get_container().children("ul").empty().append(o.children())}else{l.children("a.jstree-loading").removeClass("jstree-loading");l.append(o);l.removeData("jstree_is_loading")}if(k.clean_node){this.clean_node(l)}if(g){g.call(this)}}else{if(l&&l!==-1){l.children("a.jstree-loading").removeClass("jstree-loading");l.removeData("jstree_is_loading");if(k.correct_state){this.correct_state(l);if(g){g.call(this)}}}else{if(k.correct_state){this.get_container().children("ul").empty();if(g){g.call(this)}}}}}},this))},this));break;case (!!k.data&&!k.ajax)||(!!k.data&&!!k.ajax&&(!l||l===-1)):if(!l||l==-1){this.parse_xml(k.data,f.proxy(function(n){if(n){n=n.replace(/ ?xmlns="[^"]*"/ig,"");if(n.length>10){n=f(n);this.get_container().children("ul").empty().append(n.children());if(k.clean_node){this.clean_node(l)}if(g){g.call(this)}}}else{if(k.correct_state){this.get_container().children("ul").empty();if(g){g.call(this)}}}},this))}break;case (!k.data&&!!k.ajax)||(!!k.data&&!!k.ajax&&l&&l!==-1):h=function(o,p,q){var n=this.get_settings().xml_data.ajax.error;if(n){n.call(this,o,p,q)}if(l!==-1&&l.length){l.children("a.jstree-loading").removeClass("jstree-loading");l.removeData("jstree_is_loading");if(p==="success"&&k.correct_state){this.correct_state(l)}}else{if(p==="success"&&k.correct_state){this.get_container().children("ul").empty()}}if(j){j.call(this)}};m=function(q,o,n){q=n.responseText;var p=this.get_settings().xml_data.ajax.success;if(p){q=p.call(this,q,o,n)||q}if(q===""||(q&&q.toString&&q.toString().replace(/^[\s\n]+$/,"")==="")){return h.call(this,n,o,"")}this.parse_xml(q,f.proxy(function(r){if(r){r=r.replace(/ ?xmlns="[^"]*"/ig,"");if(r.length>10){r=f(r);if(l===-1||!l){this.get_container().children("ul").empty().append(r.children())}else{l.children("a.jstree-loading").removeClass("jstree-loading");l.append(r);l.removeData("jstree_is_loading")}if(k.clean_node){this.clean_node(l)}if(g){g.call(this)}}else{if(l&&l!==-1){l.children("a.jstree-loading").removeClass("jstree-loading");l.removeData("jstree_is_loading");if(k.correct_state){this.correct_state(l);if(g){g.call(this)}}}else{if(k.correct_state){this.get_container().children("ul").empty();if(g){g.call(this)}}}}}},this))};k.ajax.context=this;k.ajax.error=h;k.ajax.success=m;if(!k.ajax.dataType){k.ajax.dataType="xml"}if(f.isFunction(k.ajax.url)){k.ajax.url=k.ajax.url.call(this,l)}if(f.isFunction(k.ajax.data)){k.ajax.data=k.ajax.data.call(this,l)}f.ajax(k.ajax);break}},parse_xml:function(g,j){var h=this._get_settings().xml_data;f.vakata.xslt(g,e[h.xsl],j)},get_xml:function(p,m,j,g,r){var v="",u=this._get_settings(),n=this,l,k,q,o,h;if(!p){p="flat"}if(!r){r=0}m=this._get_node(m);if(!m||m===-1){m=this.get_container().find("> ul > li")}j=f.isArray(j)?j:["id","class"];if(!r&&this.data.types&&f.inArray(u.types.type_attr,j)===-1){j.push(u.types.type_attr)}g=f.isArray(g)?g:[];if(!r){if(u.xml_data.get_include_preamble){v+='<?xml version="1.0" encoding="UTF-8"?>'}v+="<root>"}m.each(function(){v+="<item";q=f(this);f.each(j,function(x,s){var w=q.attr(s);if(!u.xml_data.get_skip_empty||typeof w!=="undefined"){v+=" "+s+'="'+d((" "+(w||"")).replace(/ jstree[^ ]*/ig,"").replace(/\s+$/ig," ").replace(/^ /,"").replace(/ $/,""))+'"'}});if(q.hasClass("jstree-open")){v+=' state="open"'}if(q.hasClass("jstree-closed")){v+=' state="closed"'}if(p==="flat"){v+=' parent_id="'+d(r)+'"'}v+=">";v+="<content>";o=q.children("a");o.each(function(){l=f(this);h=false;v+="<name";if(f.inArray("languages",u.plugins)!==-1){f.each(u.languages,function(s,w){if(l.hasClass(w)){v+=' lang="'+d(w)+'"';h=w;return false}})}if(g.length){f.each(g,function(s,x){var w=l.attr(x);if(!u.xml_data.get_skip_empty||typeof w!=="undefined"){v+=" "+x+'="'+d((" "+w||"").replace(/ jstree[^ ]*/ig,"").replace(/\s+$/ig," ").replace(/^ /,"").replace(/ $/,""))+'"'}})}if(l.children("ins").get(0).className.replace(/jstree[^ ]*|$/ig,"").replace(/^\s+$/ig,"").length){v+=' icon="'+d(l.children("ins").get(0).className.replace(/jstree[^ ]*|$/ig,"").replace(/\s+$/ig," ").replace(/^ /,"").replace(/ $/,""))+'"'}if(l.children("ins").get(0).style.backgroundImage.length){v+=' icon="'+d(l.children("ins").get(0).style.backgroundImage.replace("url(","").replace(")","").replace(/'/ig,"").replace(/"/ig,""))+'"'}v+=">";v+="<![CDATA["+n.get_text(l,h)+"]]>";v+="</name>"});v+="</content>";k=q[0].id||true;q=q.find("> ul > li");if(q.length){k=n.get_xml(p,q,j,g,k)}else{k=""}if(p=="nest"){v+=k}v+="</item>";if(p=="flat"){v+=k}});if(!r){v+="</root>"}return v}}})})(jQuery);(function(d){d.expr[":"].jstree_contains=function(f,g,e){return(f.textContent||f.innerText||"").toLowerCase().indexOf(e[3].toLowerCase())>=0};d.expr[":"].jstree_title_contains=function(f,g,e){return(f.getAttribute("title")||"").toLowerCase().indexOf(e[3].toLowerCase())>=0};d.jstree.plugin("search",{__init:function(){this.data.search.str="";this.data.search.result=d();if(this._get_settings().search.show_only_matches){this.get_container().bind("search.jstree",function(g,f){d(this).children("ul").find("li").hide().removeClass("jstree-last");f.rslt.nodes.parentsUntil(".jstree").andSelf().show().filter("ul").each(function(){d(this).children("li:visible").eq(-1).addClass("jstree-last")})}).bind("clear_search.jstree",function(){d(this).children("ul").find("li").css("display","").end().end().jstree("clean_node",-1)})}},defaults:{ajax:false,search_method:"jstree_contains",show_only_matches:false},_fn:{search:function(k,e){if(d.trim(k)===""){this.clear_search();return}var h=this.get_settings().search,g=this,f=function(){},j=function(){};this.data.search.str=k;if(!e&&h.ajax!==false&&this.get_container_ul().find("li.jstree-closed:not(:has(ul)):eq(0)").length>0){this.search.supress_callback=true;f=function(){};j=function(o,m,l){var n=this.get_settings().search.ajax.success;if(n){o=n.call(this,o,m,l)||o}this.data.search.to_open=o;this._search_open()};h.ajax.context=this;h.ajax.error=f;h.ajax.success=j;if(d.isFunction(h.ajax.url)){h.ajax.url=h.ajax.url.call(this,k)}if(d.isFunction(h.ajax.data)){h.ajax.data=h.ajax.data.call(this,k)}if(!h.ajax.data){h.ajax.data={search_string:k}}if(!h.ajax.dataType||/^json/.exec(h.ajax.dataType)){h.ajax.dataType="json"}d.ajax(h.ajax);return}if(this.data.search.result.length){this.clear_search()}this.data.search.result=this.get_container().find("a"+(this.data.languages?"."+this.get_lang():"")+":"+(h.search_method)+"("+this.data.search.str+")");this.data.search.result.addClass("jstree-search").parent().parents(".jstree-closed").each(function(){g.open_node(this,false,true)});this.__callback({nodes:this.data.search.result,str:k})},clear_search:function(e){this.data.search.result.removeClass("jstree-search");this.__callback(this.data.search.result);this.data.search.result=d()},_search_open:function(f){var j=this,e=true,h=[],g=[];if(this.data.search.to_open.length){d.each(this.data.search.to_open,function(k,l){if(l=="#"){return true}if(d(l).length&&d(l).is(".jstree-closed")){h.push(l)}else{g.push(l)}});if(h.length){this.data.search.to_open=g;d.each(h,function(k,l){j.open_node(l,function(){j._search_open(true)})});e=false}}if(e){this.search(this.data.search.str,true)}}}})})(jQuery);(function(d){d.vakata.context={hide_on_mouseleave:false,cnt:d("<div id='vakata-contextmenu' />"),vis:false,tgt:false,par:false,func:false,data:false,rtl:false,show:function(q,o,m,k,j,e,l){d.vakata.context.rtl=!!l;var g=d.vakata.context.parse(q),f,n;if(!g){return}d.vakata.context.vis=true;d.vakata.context.tgt=o;d.vakata.context.par=e||o||null;d.vakata.context.data=j||null;d.vakata.context.cnt.html(g).css({visibility:"hidden",display:"block",left:0,top:0});if(d.vakata.context.hide_on_mouseleave){d.vakata.context.cnt.one("mouseleave",function(h){d.vakata.context.hide()})}f=d.vakata.context.cnt.height();n=d.vakata.context.cnt.width();if(m+n>d(document).width()){m=d(document).width()-(n+5);d.vakata.context.cnt.find("li > ul").addClass("right")}if(k+f>d(document).height()){k=k-(f+o[0].offsetHeight);d.vakata.context.cnt.find("li > ul").addClass("bottom")}d.vakata.context.cnt.css({left:m,top:k}).find("li:has(ul)").bind("mouseenter",function(u){var p=d(document).width(),s=d(document).height(),r=d(this).children("ul").show();if(p!==d(document).width()){r.toggleClass("right")}if(s!==d(document).height()){r.toggleClass("bottom")}}).bind("mouseleave",function(h){d(this).children("ul").hide()}).end().css({visibility:"visible"}).show();d(document).triggerHandler("context_show.vakata")},hide:function(){d.vakata.context.vis=false;d.vakata.context.cnt.attr("class","").css({visibility:"hidden"});d(document).triggerHandler("context_hide.vakata")},parse:function(h,g){if(!h){return false}var j="",f=false,e=true;if(!g){d.vakata.context.func={}}j+="<ul>";d.each(h,function(k,l){if(!l){return true}d.vakata.context.func[k]=l.action;if(!e&&l.separator_before){j+="<li class='vakata-separator vakata-separator-before'></li>"}e=false;j+="<li class='"+(l._class||"")+(l._disabled?" jstree-contextmenu-disabled ":"")+"'><ins ";if(l.icon&&l.icon.indexOf("/")===-1){j+=" class='"+l.icon+"' "}if(l.icon&&l.icon.indexOf("/")!==-1){j+=" style='background:url("+l.icon+") center center no-repeat;' "}j+=">&#160;</ins><a href='#' rel='"+k+"'>";if(l.submenu){j+="<span style='float:"+(d.vakata.context.rtl?"left":"right")+";'>&raquo;</span>"}j+=l.label+"</a>";if(l.submenu){f=d.vakata.context.parse(l.submenu,true);if(f){j+=f}}j+="</li>";if(l.separator_after){j+="<li class='vakata-separator vakata-separator-after'></li>";e=true}});j=j.replace(/<li class\='vakata-separator vakata-separator-after'\><\/li\>$/,"");j+="</ul>";d(document).triggerHandler("context_parse.vakata");return j.length>10?j:false},exec:function(e){if(d.isFunction(d.vakata.context.func[e])){d.vakata.context.func[e].call(d.vakata.context.data,d.vakata.context.par);return true}else{return false}}};d(function(){var e="#vakata-contextmenu { display:block; visibility:hidden; left:0; top:-200px; position:absolute; margin:0; padding:0; min-width:180px; background:#ebebeb; border:1px solid silver; z-index:10000; *width:180px; } #vakata-contextmenu ul { min-width:180px; *width:180px; } #vakata-contextmenu ul, #vakata-contextmenu li { margin:0; padding:0; list-style-type:none; display:block; } #vakata-contextmenu li { line-height:20px; min-height:20px; position:relative; padding:0px; } #vakata-contextmenu li a { padding:1px 6px; line-height:17px; display:block; text-decoration:none; margin:1px 1px 0 1px; } #vakata-contextmenu li ins { float:left; width:16px; height:16px; text-decoration:none; margin-right:2px; } #vakata-contextmenu li a:hover, #vakata-contextmenu li.vakata-hover > a { background:gray; color:white; } #vakata-contextmenu li ul { display:none; position:absolute; top:-2px; left:100%; background:#ebebeb; border:1px solid gray; } #vakata-contextmenu .right { right:100%; left:auto; } #vakata-contextmenu .bottom { bottom:-1px; top:auto; } #vakata-contextmenu li.vakata-separator { min-height:0; height:1px; line-height:1px; font-size:1px; overflow:hidden; margin:0 2px; background:silver; /* border-top:1px solid #fefefe; */ padding:0; } ";d.vakata.css.add_sheet({str:e,title:"vakata"});d.vakata.context.cnt.delegate("a","click",function(f){f.preventDefault()}).delegate("a","mouseup",function(f){if(!d(this).parent().hasClass("jstree-contextmenu-disabled")&&d.vakata.context.exec(d(this).attr("rel"))){d.vakata.context.hide()}else{d(this).blur()}}).delegate("a","mouseover",function(){d.vakata.context.cnt.find(".vakata-hover").removeClass("vakata-hover")}).appendTo("body");d(document).bind("mousedown",function(f){if(d.vakata.context.vis&&!d.contains(d.vakata.context.cnt[0],f.target)){d.vakata.context.hide()}});if(typeof d.hotkeys!=="undefined"){d(document).bind("keydown","up",function(f){if(d.vakata.context.vis){var g=d.vakata.context.cnt.find("ul:visible").last().children(".vakata-hover").removeClass("vakata-hover").prevAll("li:not(.vakata-separator)").first();if(!g.length){g=d.vakata.context.cnt.find("ul:visible").last().children("li:not(.vakata-separator)").last()}g.addClass("vakata-hover");f.stopImmediatePropagation();f.preventDefault()}}).bind("keydown","down",function(f){if(d.vakata.context.vis){var g=d.vakata.context.cnt.find("ul:visible").last().children(".vakata-hover").removeClass("vakata-hover").nextAll("li:not(.vakata-separator)").first();if(!g.length){g=d.vakata.context.cnt.find("ul:visible").last().children("li:not(.vakata-separator)").first()}g.addClass("vakata-hover");f.stopImmediatePropagation();f.preventDefault()}}).bind("keydown","right",function(f){if(d.vakata.context.vis){d.vakata.context.cnt.find(".vakata-hover").children("ul").show().children("li:not(.vakata-separator)").removeClass("vakata-hover").first().addClass("vakata-hover");f.stopImmediatePropagation();f.preventDefault()}}).bind("keydown","left",function(f){if(d.vakata.context.vis){d.vakata.context.cnt.find(".vakata-hover").children("ul").hide().children(".vakata-separator").removeClass("vakata-hover");f.stopImmediatePropagation();f.preventDefault()}}).bind("keydown","esc",function(f){d.vakata.context.hide();f.preventDefault()}).bind("keydown","space",function(f){d.vakata.context.cnt.find(".vakata-hover").last().children("a").click();f.preventDefault()})}});d.jstree.plugin("contextmenu",{__init:function(){this.get_container().delegate("a","contextmenu.jstree",d.proxy(function(f){f.preventDefault();if(!d(f.currentTarget).hasClass("jstree-loading")){this.show_contextmenu(f.currentTarget,f.pageX,f.pageY)}},this)).delegate("a","click.jstree",d.proxy(function(f){if(this.data.contextmenu){d.vakata.context.hide()}},this)).bind("destroy.jstree",d.proxy(function(){if(this.data.contextmenu){d.vakata.context.hide()}},this));d(document).bind("context_hide.vakata",d.proxy(function(){this.data.contextmenu=false},this))},defaults:{select_node:false,show_at_node:true,items:{create:{separator_before:false,separator_after:true,label:"Create",action:function(e){this.create(e)}},rename:{separator_before:false,separator_after:false,label:"Rename",action:function(e){this.rename(e)}},remove:{separator_before:false,icon:false,separator_after:false,label:"Delete",action:function(e){if(this.is_selected(e)){this.remove()}else{this.remove(e)}}},ccp:{separator_before:true,icon:false,separator_after:false,label:"Edit",action:false,submenu:{cut:{separator_before:false,separator_after:false,label:"Cut",action:function(e){this.cut(e)}},copy:{separator_before:false,icon:false,separator_after:false,label:"Copy",action:function(e){this.copy(e)}},paste:{separator_before:false,icon:false,separator_after:false,label:"Paste",action:function(e){this.paste(e)}}}}}},_fn:{show_contextmenu:function(j,e,l){j=this._get_node(j);var h=this.get_settings().contextmenu,f=j.children("a:visible:eq(0)"),k=false,g=false;if(h.select_node&&this.data.ui&&!this.is_selected(j)){this.deselect_all();this.select_node(j,true)}if(h.show_at_node||typeof e==="undefined"||typeof l==="undefined"){k=f.offset();e=k.left;l=k.top+this.data.core.li_height}g=j.data("jstree")&&j.data("jstree").contextmenu?j.data("jstree").contextmenu:h.items;if(d.isFunction(g)){g=g.call(this,j)}this.data.contextmenu=true;d.vakata.context.show(g,f,e,l,this,j,this._get_settings().core.rtl);if(this.data.themes){d.vakata.context.cnt.attr("class","jstree-"+this.data.themes.theme+"-context")}}}})})(jQuery);(function(d){d.jstree.plugin("types",{__init:function(){var e=this._get_settings().types;this.data.types.attach_to=[];this.get_container().bind("init.jstree",d.proxy(function(){var h=e.types,g=e.type_attr,f="",j=this;d.each(h,function(k,l){d.each(l,function(n,m){if(!/^(max_depth|max_children|icon|valid_children)$/.test(n)){j.data.types.attach_to.push(n)}});if(!l.icon){return true}if(l.icon.image||l.icon.position){if(k=="default"){f+=".jstree-"+j.get_index()+" a > .jstree-icon { "}else{f+=".jstree-"+j.get_index()+" li["+g+'="'+k+'"] > a > .jstree-icon { '}if(l.icon.image){f+=" background-image:url("+l.icon.image+"); "}if(l.icon.position){f+=" background-position:"+l.icon.position+"; "}else{f+=" background-position:0 0; "}f+="} "}});if(f!==""){d.vakata.css.add_sheet({str:f,title:"jstree-types"})}},this)).bind("before.jstree",d.proxy(function(j,h){var g,f,l=this._get_settings().types.use_data?this._get_node(h.args[0]):false,k=l&&l!==-1&&l.length?l.data("jstree"):false;if(k&&k.types&&k.types[h.func]===false){j.stopImmediatePropagation();return false}if(d.inArray(h.func,this.data.types.attach_to)!==-1){if(!h.args[0]||(!h.args[0].tagName&&!h.args[0].jquery)){return}g=this._get_settings().types.types;f=this._get_type(h.args[0]);if(((g[f]&&typeof g[f][h.func]!=="undefined")||(g["default"]&&typeof g["default"][h.func]!=="undefined"))&&this._check(h.func,h.args[0])===false){j.stopImmediatePropagation();return false}}},this));if(c){this.get_container().bind("load_node.jstree set_type.jstree",d.proxy(function(j,h){var g=h&&h.rslt&&h.rslt.obj&&h.rslt.obj!==-1?this._get_node(h.rslt.obj).parent():this.get_container_ul(),k=false,f=this._get_settings().types;d.each(f.types,function(l,m){if(m.icon&&(m.icon.image||m.icon.position)){k=l==="default"?g.find("li > a > .jstree-icon"):g.find("li["+f.type_attr+"='"+l+"'] > a > .jstree-icon");if(m.icon.image){k.css("backgroundImage","url("+m.icon.image+")")}k.css("backgroundPosition",m.icon.position||"0 0")}})},this))}},defaults:{max_children:-1,max_depth:-1,valid_children:"all",use_data:false,type_attr:"rel",types:{"default":{max_children:-1,max_depth:-1,valid_children:"all"}}},_fn:{_types_notify:function(f,e){if(e.type&&this._get_settings().types.use_data){this.set_type(e.type,f)}},_get_type:function(e){e=this._get_node(e);return(!e||!e.length)?false:e.attr(this._get_settings().types.type_attr)||"default"},set_type:function(g,f){f=this._get_node(f);var e=(!f.length||!g)?false:f.attr(this._get_settings().types.type_attr,g);if(e){this.__callback({obj:f,type:g})}return e},_check:function(k,g,e){g=this._get_node(g);var l=false,m=this._get_type(g),j=0,h=this,n=this._get_settings().types,f=false;if(g===-1){if(!!n[k]){l=n[k]}else{return}}else{if(m===false){return}f=n.use_data?g.data("jstree"):false;if(f&&f.types&&typeof f.types[k]!=="undefined"){l=f.types[k]}else{if(!!n.types[m]&&typeof n.types[m][k]!=="undefined"){l=n.types[m][k]}else{if(!!n.types["default"]&&typeof n.types["default"][k]!=="undefined"){l=n.types["default"][k]}}}}if(d.isFunction(l)){l=l.call(this,g)}if(k==="max_depth"&&g!==-1&&e!==false&&n.max_depth!==-2&&l!==0){g.children("a:eq(0)").parentsUntil(".jstree","li").each(function(o){if(n.max_depth!==-1&&n.max_depth-(o+1)<=0){l=0;return false}j=(o===0)?l:h._check(k,this,false);if(j!==-1&&j-(o+1)<=0){l=0;return false}if(j>=0&&(j-(o+1)<l||l<0)){l=j-(o+1)}if(n.max_depth>=0&&(n.max_depth-(o+1)<l||l<0)){l=n.max_depth-(o+1)}})}return l},check_move:function(){if(!this.__call_old()){return false}var e=this._get_move(),j=e.rt._get_settings().types,l=e.rt._check("max_children",e.cr),k=e.rt._check("max_depth",e.cr),g=e.rt._check("valid_children",e.cr),h=0,n=1,f;if(g==="none"){return false}if(d.isArray(g)&&e.ot&&e.ot._get_type){e.o.each(function(){if(d.inArray(e.ot._get_type(this),g)===-1){n=false;return false}});if(n===false){return false}}if(j.max_children!==-2&&l!==-1){h=e.cr===-1?this.get_container().find("> ul > li").not(e.o).length:e.cr.find("> ul > li").not(e.o).length;if(h+e.o.length>l){return false}}if(j.max_depth!==-2&&k!==-1){n=0;if(k===0){return false}if(typeof e.o.d==="undefined"){f=e.o;while(f.length>0){f=f.find("> ul > li");n++}e.o.d=n}if(k-e.o.d<0){return false}}return true},create_node:function(h,j,f,q,l,o){if(!o&&(l||this._is_loaded(h))){var g=(typeof j=="string"&&j.match(/^before|after$/i)&&h!==-1)?this._get_parent(h):this._get_node(h),r=this._get_settings().types,n=this._check("max_children",g),m=this._check("max_depth",g),k=this._check("valid_children",g),e;if(typeof f==="string"){f={data:f}}if(!f){f={}}if(k==="none"){return false}if(d.isArray(k)){if(!f.attr||!f.attr[r.type_attr]){if(!f.attr){f.attr={}}f.attr[r.type_attr]=k[0]}else{if(d.inArray(f.attr[r.type_attr],k)===-1){return false}}}if(r.max_children!==-2&&n!==-1){e=g===-1?this.get_container().find("> ul > li").length:g.find("> ul > li").length;if(e+1>n){return false}}if(r.max_depth!==-2&&m!==-1&&(m-1)<0){return false}}return this.__call_old(true,h,j,f,q,l,o)}}})})(jQuery);(function(d){d.jstree.plugin("html_data",{__init:function(){this.data.html_data.original_container_html=this.get_container().find(" > ul > li").clone(true);this.data.html_data.original_container_html.find("li").andSelf().contents().filter(function(){return this.nodeType==3}).remove()},defaults:{data:false,ajax:false,correct_state:true},_fn:{load_node:function(g,e,f){var h=this;this.load_node_html(g,function(){h.__callback({obj:h._get_node(g)});e.call(this)},f)},_is_loaded:function(e){e=this._get_node(e);return e==-1||!e||(!this._get_settings().html_data.ajax&&!d.isFunction(this._get_settings().html_data.data))||e.is(".jstree-open, .jstree-leaf")||e.children("ul").children("li").size()>0},load_node_html:function(j,e,g){var l,h=this.get_settings().html_data,f=function(){},k=function(){};j=this._get_node(j);if(j&&j!==-1){if(j.data("jstree_is_loading")){return}else{j.data("jstree_is_loading",true)}}switch(!0){case (d.isFunction(h.data)):h.data.call(this,j,d.proxy(function(m){if(m&&m!==""&&m.toString&&m.toString().replace(/^[\s\n]+$/,"")!==""){m=d(m);if(!m.is("ul")){m=d("<ul />").append(m)}if(j==-1||!j){this.get_container().children("ul").empty().append(m.children()).find("li, a").filter(function(){return !this.firstChild||!this.firstChild.tagName||this.firstChild.tagName!=="INS"}).prepend("<ins class='jstree-icon'>&#160;</ins>").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon")}else{j.children("a.jstree-loading").removeClass("jstree-loading");j.append(m).children("ul").find("li, a").filter(function(){return !this.firstChild||!this.firstChild.tagName||this.firstChild.tagName!=="INS"}).prepend("<ins class='jstree-icon'>&#160;</ins>").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon");j.removeData("jstree_is_loading")}this.clean_node(j);if(e){e.call(this)}}else{if(j&&j!==-1){j.children("a.jstree-loading").removeClass("jstree-loading");j.removeData("jstree_is_loading");if(h.correct_state){this.correct_state(j);if(e){e.call(this)}}}else{if(h.correct_state){this.get_container().children("ul").empty();if(e){e.call(this)}}}}},this));break;case (!h.data&&!h.ajax):if(!j||j==-1){this.get_container().children("ul").empty().append(this.data.html_data.original_container_html).find("li, a").filter(function(){return !this.firstChild||!this.firstChild.tagName||this.firstChild.tagName!=="INS"}).prepend("<ins class='jstree-icon'>&#160;</ins>").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon");this.clean_node()}if(e){e.call(this)}break;case (!!h.data&&!h.ajax)||(!!h.data&&!!h.ajax&&(!j||j===-1)):if(!j||j==-1){l=d(h.data);if(!l.is("ul")){l=d("<ul />").append(l)}this.get_container().children("ul").empty().append(l.children()).find("li, a").filter(function(){return !this.firstChild||!this.firstChild.tagName||this.firstChild.tagName!=="INS"}).prepend("<ins class='jstree-icon'>&#160;</ins>").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon");this.clean_node()}if(e){e.call(this)}break;case (!h.data&&!!h.ajax)||(!!h.data&&!!h.ajax&&j&&j!==-1):j=this._get_node(j);f=function(n,o,p){var m=this.get_settings().html_data.ajax.error;if(m){m.call(this,n,o,p)}if(j!=-1&&j.length){j.children("a.jstree-loading").removeClass("jstree-loading");j.removeData("jstree_is_loading");if(o==="success"&&h.correct_state){this.correct_state(j)}}else{if(o==="success"&&h.correct_state){this.get_container().children("ul").empty()}}if(g){g.call(this)}};k=function(p,n,m){var o=this.get_settings().html_data.ajax.success;if(o){p=o.call(this,p,n,m)||p}if(p===""||(p&&p.toString&&p.toString().replace(/^[\s\n]+$/,"")==="")){return f.call(this,m,n,"")}if(p){p=d(p);if(!p.is("ul")){p=d("<ul />").append(p)}if(j==-1||!j){this.get_container().children("ul").empty().append(p.children()).find("li, a").filter(function(){return !this.firstChild||!this.firstChild.tagName||this.firstChild.tagName!=="INS"}).prepend("<ins class='jstree-icon'>&#160;</ins>").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon")}else{j.children("a.jstree-loading").removeClass("jstree-loading");j.append(p).children("ul").find("li, a").filter(function(){return !this.firstChild||!this.firstChild.tagName||this.firstChild.tagName!=="INS"}).prepend("<ins class='jstree-icon'>&#160;</ins>").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon");j.removeData("jstree_is_loading")}this.clean_node(j);if(e){e.call(this)}}else{if(j&&j!==-1){j.children("a.jstree-loading").removeClass("jstree-loading");j.removeData("jstree_is_loading");if(h.correct_state){this.correct_state(j);if(e){e.call(this)}}}else{if(h.correct_state){this.get_container().children("ul").empty();if(e){e.call(this)}}}}};h.ajax.context=this;h.ajax.error=f;h.ajax.success=k;if(!h.ajax.dataType){h.ajax.dataType="html"}if(d.isFunction(h.ajax.url)){h.ajax.url=h.ajax.url.call(this,j)}if(d.isFunction(h.ajax.data)){h.ajax.data=h.ajax.data.call(this,j)}d.ajax(h.ajax);break}}}});d.jstree.defaults.plugins.push("html_data")})(jQuery);(function(d){d.jstree.plugin("themeroller",{__init:function(){var e=this._get_settings().themeroller;this.get_container().addClass("ui-widget-content").addClass("jstree-themeroller").delegate("a","mouseenter.jstree",function(f){if(!d(f.currentTarget).hasClass("jstree-loading")){d(this).addClass(e.item_h)}}).delegate("a","mouseleave.jstree",function(){d(this).removeClass(e.item_h)}).bind("init.jstree",d.proxy(function(g,f){f.inst.get_container().find("> ul > li > .jstree-loading > ins").addClass("ui-icon-refresh");this._themeroller(f.inst.get_container().find("> ul > li"))},this)).bind("open_node.jstree create_node.jstree",d.proxy(function(g,f){this._themeroller(f.rslt.obj)},this)).bind("loaded.jstree refresh.jstree",d.proxy(function(f){this._themeroller()},this)).bind("close_node.jstree",d.proxy(function(g,f){this._themeroller(f.rslt.obj)},this)).bind("delete_node.jstree",d.proxy(function(g,f){this._themeroller(f.rslt.parent)},this)).bind("correct_state.jstree",d.proxy(function(g,f){f.rslt.obj.children("ins.jstree-icon").removeClass(e.opened+" "+e.closed+" ui-icon").end().find("> a > ins.ui-icon").filter(function(){return this.className.toString().replace(e.item_clsd,"").replace(e.item_open,"").replace(e.item_leaf,"").indexOf("ui-icon-")===-1}).removeClass(e.item_open+" "+e.item_clsd).addClass(e.item_leaf||"jstree-no-icon")},this)).bind("select_node.jstree",d.proxy(function(g,f){f.rslt.obj.children("a").addClass(e.item_a)},this)).bind("deselect_node.jstree deselect_all.jstree",d.proxy(function(g,f){this.get_container().find("a."+e.item_a).removeClass(e.item_a).end().find("a.jstree-clicked").addClass(e.item_a)},this)).bind("dehover_node.jstree",d.proxy(function(g,f){f.rslt.obj.children("a").removeClass(e.item_h)},this)).bind("hover_node.jstree",d.proxy(function(g,f){this.get_container().find("a."+e.item_h).not(f.rslt.obj).removeClass(e.item_h);f.rslt.obj.children("a").addClass(e.item_h)},this)).bind("move_node.jstree",d.proxy(function(g,f){this._themeroller(f.rslt.o);this._themeroller(f.rslt.op)},this))},__destroy:function(){var e=this._get_settings().themeroller,f=["ui-icon"];d.each(e,function(h,g){g=g.split(" ");if(g.length){f=f.concat(g)}});this.get_container().removeClass("ui-widget-content").find("."+f.join(", .")).removeClass(f.join(" "))},_fn:{_themeroller:function(f){var e=this._get_settings().themeroller;f=!f||f==-1?this.get_container_ul():this._get_node(f).parent();f.find("li.jstree-closed").children("ins.jstree-icon").removeClass(e.opened).addClass("ui-icon "+e.closed).end().children("a").addClass(e.item).children("ins.jstree-icon").addClass("ui-icon").filter(function(){return this.className.toString().replace(e.item_clsd,"").replace(e.item_open,"").replace(e.item_leaf,"").indexOf("ui-icon-")===-1}).removeClass(e.item_leaf+" "+e.item_open).addClass(e.item_clsd||"jstree-no-icon").end().end().end().end().find("li.jstree-open").children("ins.jstree-icon").removeClass(e.closed).addClass("ui-icon "+e.opened).end().children("a").addClass(e.item).children("ins.jstree-icon").addClass("ui-icon").filter(function(){return this.className.toString().replace(e.item_clsd,"").replace(e.item_open,"").replace(e.item_leaf,"").indexOf("ui-icon-")===-1}).removeClass(e.item_leaf+" "+e.item_clsd).addClass(e.item_open||"jstree-no-icon").end().end().end().end().find("li.jstree-leaf").children("ins.jstree-icon").removeClass(e.closed+" ui-icon "+e.opened).end().children("a").addClass(e.item).children("ins.jstree-icon").addClass("ui-icon").filter(function(){return this.className.toString().replace(e.item_clsd,"").replace(e.item_open,"").replace(e.item_leaf,"").indexOf("ui-icon-")===-1}).removeClass(e.item_clsd+" "+e.item_open).addClass(e.item_leaf||"jstree-no-icon")}},defaults:{opened:"ui-icon-triangle-1-se",closed:"ui-icon-triangle-1-e",item:"ui-state-default",item_h:"ui-state-hover",item_a:"ui-state-active",item_open:"ui-icon-folder-open",item_clsd:"ui-icon-folder-collapsed",item_leaf:"ui-icon-document"}});d(function(){var e=".jstree-themeroller .ui-icon { overflow:visible; } .jstree-themeroller a { padding:0 2px; } .jstree-themeroller .jstree-no-icon { display:none; }";d.vakata.css.add_sheet({str:e,title:"jstree"})})})(jQuery);(function(d){d.jstree.plugin("unique",{__init:function(){this.get_container().bind("before.jstree",d.proxy(function(l,j){var f=[],h=true,k,g;if(j.func=="move_node"){if(j.args[4]===true){if(j.args[0].o&&j.args[0].o.length){j.args[0].o.children("a").each(function(){f.push(d(this).text().replace(/^\s+/g,""))});h=this._check_unique(f,j.args[0].np.find("> ul > li").not(j.args[0].o),"move_node")}}}if(j.func=="create_node"){if(j.args[4]||this._is_loaded(j.args[0])){k=this._get_node(j.args[0]);if(j.args[1]&&(j.args[1]==="before"||j.args[1]==="after")){k=this._get_parent(j.args[0]);if(!k||k===-1){k=this.get_container()}}if(typeof j.args[2]==="string"){f.push(j.args[2])}else{if(!j.args[2]||!j.args[2].data){f.push(this._get_string("new_node"))}else{f.push(j.args[2].data)}}h=this._check_unique(f,k.find("> ul > li"),"create_node")}}if(j.func=="rename_node"){f.push(j.args[1]);g=this._get_node(j.args[0]);k=this._get_parent(g);if(!k||k===-1){k=this.get_container()}h=this._check_unique(f,k.find("> ul > li").not(g),"rename_node")}if(!h){l.stopPropagation();return false}},this))},defaults:{error_callback:d.noop},_fn:{_check_unique:function(f,h,g){var e=[];h.children("a").each(function(){e.push(d(this).text().replace(/^\s+/g,""))});if(!e.length||!f.length){return true}e=e.sort().join(",,").replace(/(,|^)([^,]+)(,,\2)+(,|$)/g,"$1$2$4").replace(/,,+/g,",").replace(/,$/,"").split(",");if((e.length+f.length)!=e.concat(f).sort().join(",,").replace(/(,|^)([^,]+)(,,\2)+(,|$)/g,"$1$2$4").replace(/,,+/g,",").replace(/,$/,"").split(",").length){this._get_settings().unique.error_callback.call(null,f,h,g);return false}return true},check_move:function(){if(!this.__call_old()){return false}var f=this._get_move(),e=[];if(f.o&&f.o.length){f.o.children("a").each(function(){e.push(d(this).text().replace(/^\s+/g,""))});return this._check_unique(e,f.np.find("> ul > li").not(f.o),"check_move")}return true}}})})(jQuery);(function(d){d.jstree.plugin("wholerow",{__init:function(){if(!this.data.ui){throw"jsTree wholerow: jsTree UI plugin not included."}this.data.wholerow.html=false;this.data.wholerow.to=false;this.get_container().bind("init.jstree",d.proxy(function(g,f){this._get_settings().core.animation=0},this)).bind("open_node.jstree create_node.jstree clean_node.jstree loaded.jstree",d.proxy(function(g,f){this._prepare_wholerow_span(f&&f.rslt&&f.rslt.obj?f.rslt.obj:-1)},this)).bind("search.jstree clear_search.jstree reopen.jstree after_open.jstree after_close.jstree create_node.jstree delete_node.jstree clean_node.jstree",d.proxy(function(g,f){if(this.data.to){clearTimeout(this.data.to)}this.data.to=setTimeout((function(e,h){return function(){e._prepare_wholerow_ul(h)}})(this,f&&f.rslt&&f.rslt.obj?f.rslt.obj:-1),0)},this)).bind("deselect_all.jstree",d.proxy(function(g,f){this.get_container().find(" > .jstree-wholerow .jstree-clicked").removeClass("jstree-clicked "+(this.data.themeroller?this._get_settings().themeroller.item_a:""))},this)).bind("select_node.jstree deselect_node.jstree ",d.proxy(function(g,f){f.rslt.obj.each(function(){var e=f.inst.get_container().find(" > .jstree-wholerow li:visible:eq("+(parseInt(((d(this).offset().top-f.inst.get_container().offset().top+f.inst.get_container()[0].scrollTop)/f.inst.data.core.li_height),10))+")");e.children("a").attr("class",f.rslt.obj.children("a").attr("class"))})},this)).bind("hover_node.jstree dehover_node.jstree",d.proxy(function(h,g){this.get_container().find(" > .jstree-wholerow .jstree-hovered").removeClass("jstree-hovered "+(this.data.themeroller?this._get_settings().themeroller.item_h:""));if(h.type==="hover_node"){var f=this.get_container().find(" > .jstree-wholerow li:visible:eq("+(parseInt(((g.rslt.obj.offset().top-this.get_container().offset().top+this.get_container()[0].scrollTop)/this.data.core.li_height),10))+")");f.children("a").attr("class",g.rslt.obj.children(".jstree-hovered").attr("class"))}},this)).delegate(".jstree-wholerow-span, ins.jstree-icon, li","click.jstree",function(f){var g=d(f.currentTarget);if(f.target.tagName==="A"||(f.target.tagName==="INS"&&g.closest("li").is(".jstree-open, .jstree-closed"))){return}g.closest("li").children("a:visible:eq(0)").click();f.stopImmediatePropagation()}).delegate("li","mouseover.jstree",d.proxy(function(f){f.stopImmediatePropagation();if(d(f.currentTarget).children(".jstree-hovered, .jstree-clicked").length){return false}this.hover_node(f.currentTarget);return false},this)).delegate("li","mouseleave.jstree",d.proxy(function(f){if(d(f.currentTarget).children("a").hasClass("jstree-hovered").length){return}this.dehover_node(f.currentTarget)},this));if(b||c){d.vakata.css.add_sheet({str:".jstree-"+this.get_index()+" { position:relative; } ",title:"jstree"})}},defaults:{},__destroy:function(){this.get_container().children(".jstree-wholerow").remove();this.get_container().find(".jstree-wholerow-span").remove()},_fn:{_prepare_wholerow_span:function(e){e=!e||e==-1?this.get_container().find("> ul > li"):this._get_node(e);if(e===false){return}e.each(function(){d(this).find("li").andSelf().each(function(){var f=d(this);if(f.children(".jstree-wholerow-span").length){return true}f.prepend("<span class='jstree-wholerow-span' style='width:"+(f.parentsUntil(".jstree","li").length*18)+"px;'>&#160;</span>")})})},_prepare_wholerow_ul:function(){var f=this.get_container().children("ul").eq(0),e=f.html();f.addClass("jstree-wholerow-real");if(this.data.wholerow.last_html!==e){this.data.wholerow.last_html=e;this.get_container().children(".jstree-wholerow").remove();this.get_container().append(f.clone().removeClass("jstree-wholerow-real").wrapAll("<div class='jstree-wholerow' />").parent().width(f.parent()[0].scrollWidth).css("top",(f.height()+(b?5:0))*-1).find("li[id]").each(function(){this.removeAttribute("id")}).end())}}}});d(function(){var e=".jstree .jstree-wholerow-real { position:relative; z-index:1; } .jstree .jstree-wholerow-real li { cursor:pointer; } .jstree .jstree-wholerow-real a { border-left-color:transparent !important; border-right-color:transparent !important; } .jstree .jstree-wholerow { position:relative; z-index:0; height:0; } .jstree .jstree-wholerow ul, .jstree .jstree-wholerow li { width:100%; } .jstree .jstree-wholerow, .jstree .jstree-wholerow ul, .jstree .jstree-wholerow li, .jstree .jstree-wholerow a { margin:0 !important; padding:0 !important; } .jstree .jstree-wholerow, .jstree .jstree-wholerow ul, .jstree .jstree-wholerow li { background:transparent !important; }.jstree .jstree-wholerow ins, .jstree .jstree-wholerow span, .jstree .jstree-wholerow input { display:none !important; }.jstree .jstree-wholerow a, .jstree .jstree-wholerow a:hover { text-indent:-9999px; !important; width:100%; padding:0 !important; border-right-width:0px !important; border-left-width:0px !important; } .jstree .jstree-wholerow-span { position:absolute; left:0; margin:0px; padding:0; height:18px; border-width:0; padding:0; z-index:0; }";if(a){e+=".jstree .jstree-wholerow a { display:block; height:18px; margin:0; padding:0; border:0; } .jstree .jstree-wholerow-real a { border-color:transparent !important; } "}if(b||c){e+=".jstree .jstree-wholerow, .jstree .jstree-wholerow li, .jstree .jstree-wholerow ul, .jstree .jstree-wholerow a { margin:0; padding:0; line-height:18px; } .jstree .jstree-wholerow a { display:block; height:18px; line-height:18px; overflow:hidden; } "}d.vakata.css.add_sheet({str:e,title:"jstree"})})})(jQuery);(function(d){var e=["getChildren","getChildrenCount","getAttr","getName","getProps"],f=function(j,g){var h=true;j=j||{};g=[].concat(g);d.each(g,function(l,k){if(!d.isFunction(j[k])){h=false;return false}});return h};d.jstree.plugin("model",{__init:function(){if(!this.data.json_data){throw"jsTree model: jsTree json_data plugin not included."}this._get_settings().json_data.data=function(j,g){var h=(j==-1)?this._get_settings().model.object:j.data("jstree_model");if(!f(h,e)){return g.call(null,false)}if(this._get_settings().model.async){h.getChildren(d.proxy(function(k){this.model_done(k,g)},this))}else{this.model_done(h.getChildren(),g)}}},defaults:{object:false,id_prefix:false,async:false},_fn:{model_done:function(j,l){var g=[],h=this._get_settings(),k=this;if(!d.isArray(j)){j=[j]}d.each(j,function(m,o){var n=o.getProps()||{};n.attr=o.getAttr()||{};if(o.getChildrenCount()){n.state="closed"}n.data=o.getName();if(!d.isArray(n.data)){n.data=[n.data]}if(k.data.types&&d.isFunction(o.getType)){n.attr[h.types.type_attr]=o.getType()}if(n.attr.id&&h.model.id_prefix){n.attr.id=h.model.id_prefix+n.attr.id}if(!n.metadata){n.metadata={}}n.metadata.jstree_model=o;g.push(n)});l.call(null,g)}}})})(jQuery)})();(function(c){var a=c.scrollTo=function(d,f,g){c(window).scrollTo(d,f,g)};a.defaults={axis:"xy",duration:parseFloat(c.fn.jquery)>=1.3?0:1};a.window=function(d){return c(window)._scrollable()};c.fn._scrollable=function(){return this.map(function(){var d=this,f=!d.nodeName||c.inArray(d.nodeName.toLowerCase(),["iframe","#document","html","body"])!=-1;if(!f){return d}var g=(d.contentWindow||d).document||d.ownerDocument||d;return c.browser.safari||g.compatMode=="BackCompat"?g.body:g.documentElement})};c.fn.scrollTo=function(f,e,d){if(typeof e=="object"){d=e;e=0}if(typeof d=="function"){d={onAfter:d}}if(f=="max"){f=9000000000}d=c.extend({},a.defaults,d);e=e||d.speed||d.duration;d.queue=d.queue&&d.axis.length>1;if(d.queue){e/=2}d.offset=b(d.offset);d.over=b(d.over);return this._scrollable().each(function(){var o=this,m=c(o),n=f,k,l={},h=m.is("html,body");switch(typeof n){case"number":case"string":if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(n)){n=b(n);break}n=c(n,this);case"object":if(n.is||n.style){k=(n=c(n)).offset()}}c.each(d.axis.split(""),function(q,r){var u=r=="x"?"Left":"Top",s=u.toLowerCase(),w="scroll"+u,p=o[w],g=a.max(o,r);if(k){l[w]=k[s]+(h?0:p-m.offset()[s]);if(d.margin){l[w]-=parseInt(n.css("margin"+u))||0;l[w]-=parseInt(n.css("border"+u+"Width"))||0}l[w]+=d.offset[s]||0;if(d.over[s]){l[w]+=n[r=="x"?"width":"height"]()*d.over[s]}}else{var v=n[s];l[w]=v.slice&&v.slice(-1)=="%"?parseFloat(v)/100*g:v}if(/^\d+$/.test(l[w])){l[w]=l[w]<=0?0:Math.min(l[w],g)}if(!q&&d.queue){if(p!=l[w]){j(d.onAfterFirst)}delete l[w]}});j(d.onAfter);function j(g){m.animate(l,e,d.easing,g&&function(){g.call(this,f,d)})}}).end()};a.max=function(g,j){var n=j=="x"?"Width":"Height",k="scroll"+n;if(!c(g).is("html,body")){return g[k]-c(g)[n.toLowerCase()]()}var o="client"+n,f=g.ownerDocument.documentElement,d=g.ownerDocument.body;return Math.max(f[k],d[k])-Math.min(f[o],d[o])};function b(d){return typeof d=="object"?d:{top:d,left:d}}})(jQuery);(function(a){a.extend(a.fn,{validate:function(b){if(!this.length){b&&b.debug&&window.console&&console.warn("nothing selected, can't validate, returning nothing");return}var c=a.data(this[0],"validator");if(c){return c}c=new a.validator(b,this[0]);a.data(this[0],"validator",c);if(c.settings.onsubmit){this.find("input, button").filter(".cancel").click(function(){c.cancelSubmit=true});if(c.settings.submitHandler){this.find("input, button").filter(":submit").click(function(){c.submitButton=this})}this.submit(function(d){if(c.settings.debug){d.preventDefault()}function e(){if(c.settings.submitHandler){if(c.submitButton){var f=a("<input type='hidden'/>").attr("name",c.submitButton.name).val(c.submitButton.value).appendTo(c.currentForm)}c.settings.submitHandler.call(c,c.currentForm);if(c.submitButton){f.remove()}return false}return true}if(c.cancelSubmit){c.cancelSubmit=false;return e()}if(c.form()){if(c.pendingRequest){c.formSubmitted=true;return false}return e()}else{c.focusInvalid();return false}})}return c},valid:function(){if(a(this[0]).is("form")){return this.validate().form()}else{var c=true;var b=a(this[0].form).validate();this.each(function(){c&=b.element(this)});return c}},removeAttrs:function(d){var b={},c=this;a.each(d.split(/\s/),function(e,f){b[f]=c.attr(f);c.removeAttr(f)});return b},rules:function(e,b){var g=this[0];if(e){var d=a.data(g.form,"validator").settings;var j=d.rules;var k=a.validator.staticRules(g);switch(e){case"add":a.extend(k,a.validator.normalizeRule(b));j[g.name]=k;if(b.messages){d.messages[g.name]=a.extend(d.messages[g.name],b.messages)}break;case"remove":if(!b){delete j[g.name];return k}var h={};a.each(b.split(/\s/),function(l,m){h[m]=k[m];delete k[m]});return h}}var f=a.validator.normalizeRules(a.extend({},a.validator.metadataRules(g),a.validator.classRules(g),a.validator.attributeRules(g),a.validator.staticRules(g)),g);if(f.required){var c=f.required;delete f.required;f=a.extend({required:c},f)}return f}});a.extend(a.expr[":"],{blank:function(b){return !a.trim(""+b.value)},filled:function(b){return !!a.trim(""+b.value)},unchecked:function(b){return !b.checked}});a.validator=function(b,c){this.settings=a.extend(true,{},a.validator.defaults,b);this.currentForm=c;this.init()};a.validator.format=function(b,c){if(arguments.length==1){return function(){var d=a.makeArray(arguments);d.unshift(b);return a.validator.format.apply(this,d)}}if(arguments.length>2&&c.constructor!=Array){c=a.makeArray(arguments).slice(1)}if(c.constructor!=Array){c=[c]}a.each(c,function(d,e){b=b.replace(new RegExp("\\{"+d+"\\}","g"),e)});return b};a.extend(a.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:true,errorContainer:a([]),errorLabelContainer:a([]),onsubmit:true,ignore:[],ignoreTitle:false,onfocusin:function(b){this.lastActive=b;if(this.settings.focusCleanup&&!this.blockFocusCleanup){this.settings.unhighlight&&this.settings.unhighlight.call(this,b,this.settings.errorClass,this.settings.validClass);this.addWrapper(this.errorsFor(b)).hide()}},onfocusout:function(b){if(!this.checkable(b)&&(b.name in this.submitted||!this.optional(b))){this.element(b)}},onkeyup:function(b){if(b.name in this.submitted||b==this.lastElement){this.element(b)}},onclick:function(b){if(b.name in this.submitted){this.element(b)}else{if(b.parentNode.name in this.submitted){this.element(b.parentNode)}}},highlight:function(d,b,c){if(d.type==="radio"){this.findByName(d.name).addClass(b).removeClass(c)}else{a(d).addClass(b).removeClass(c)}},unhighlight:function(d,b,c){if(d.type==="radio"){this.findByName(d.name).removeClass(b).addClass(c)}else{a(d).removeClass(b).addClass(c)}}},setDefaults:function(b){a.extend(a.validator.defaults,b)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",accept:"Please enter a value with a valid extension.",maxlength:a.validator.format("Please enter no more than {0} characters."),minlength:a.validator.format("Please enter at least {0} characters."),rangelength:a.validator.format("Please enter a value between {0} and {1} characters long."),range:a.validator.format("Please enter a value between {0} and {1}."),max:a.validator.format("Please enter a value less than or equal to {0}."),min:a.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:false,prototype:{init:function(){this.labelContainer=a(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||a(this.currentForm);this.containers=a(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();var b=(this.groups={});a.each(this.settings.groups,function(e,f){a.each(f.split(/\s/),function(h,g){b[g]=e})});var d=this.settings.rules;a.each(d,function(e,f){d[e]=a.validator.normalizeRule(f)});function c(g){var f=a.data(this[0].form,"validator"),e="on"+g.type.replace(/^validate/,"");f.settings[e]&&f.settings[e].call(f,this[0])}a(this.currentForm).validateDelegate(":text, :password, :file, select, textarea","focusin focusout keyup",c).validateDelegate(":radio, :checkbox, select, option","click",c);if(this.settings.invalidHandler){a(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)}},form:function(){this.checkForm();a.extend(this.submitted,this.errorMap);this.invalid=a.extend({},this.errorMap);if(!this.valid()){a(this.currentForm).triggerHandler("invalid-form",[this])}this.showErrors();return this.valid()},checkForm:function(){this.prepareForm();for(var b=0,c=(this.currentElements=this.elements());c[b];b++){this.check(c[b])}return this.valid()},element:function(c){c=this.clean(c);this.lastElement=c;this.prepareElement(c);this.currentElements=a(c);var b=this.check(c);if(b){delete this.invalid[c.name]}else{this.invalid[c.name]=true}if(!this.numberOfInvalids()){this.toHide=this.toHide.add(this.containers)}this.showErrors();return b},showErrors:function(c){if(c){a.extend(this.errorMap,c);this.errorList=[];for(var b in c){this.errorList.push({message:c[b],element:this.findByName(b)[0]})}this.successList=a.grep(this.successList,function(d){return !(d.name in c)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){if(a.fn.resetForm){a(this.currentForm).resetForm()}this.submitted={};this.prepareForm();this.hideErrors();this.elements().removeClass(this.settings.errorClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(d){var c=0;for(var b in d){c++}return c},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return this.size()==0},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid){try{a(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(b){}}},findLastActive:function(){var b=this.lastActive;return b&&a.grep(this.errorList,function(c){return c.element.name==b.name}).length==1&&b},elements:function(){var c=this,b={};return a(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){!this.name&&c.settings.debug&&window.console&&console.error("%o has no name assigned",this);if(this.name in b||!c.objectLength(a(this).rules())){return false}b[this.name]=true;return true})},clean:function(b){return a(b)[0]},errors:function(){return a(this.settings.errorElement+"."+this.settings.errorClass,this.errorContext)},reset:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=a([]);this.toHide=a([]);this.currentElements=a([])},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers)},prepareElement:function(b){this.reset();this.toHide=this.errorsFor(b)},check:function(c){c=this.clean(c);if(this.checkable(c)){c=this.findByName(c.name).not(this.settings.ignore)[0]}var h=a(c).rules();var d=false;for(var j in h){var g={method:j,parameters:h[j]};try{var b=a.validator.methods[j].call(this,c.value.replace(/\r/g,""),c,g.parameters);if(b=="dependency-mismatch"){d=true;continue}d=false;if(b=="pending"){this.toHide=this.toHide.not(this.errorsFor(c));return}if(!b){this.formatAndAdd(c,g);return false}}catch(f){this.settings.debug&&window.console&&console.log("exception occured when checking element "+c.id+", check the '"+g.method+"' method",f);throw f}}if(d){return}if(this.objectLength(h)){this.successList.push(c)}return true},customMetaMessage:function(b,d){if(!a.metadata){return}var c=this.settings.meta?a(b).metadata()[this.settings.meta]:a(b).metadata();return c&&c.messages&&c.messages[d]},customMessage:function(c,d){var b=this.settings.messages[c];return b&&(b.constructor==String?b:b[d])},findDefined:function(){for(var b=0;b<arguments.length;b++){if(arguments[b]!==undefined){return arguments[b]}}return undefined},defaultMessage:function(b,c){return this.findDefined(this.customMessage(b.name,c),this.customMetaMessage(b,c),!this.settings.ignoreTitle&&b.title||undefined,a.validator.messages[c],"<strong>Warning: No message defined for "+b.name+"</strong>")},formatAndAdd:function(c,e){var d=this.defaultMessage(c,e.method),b=/\$?\{(\d+)\}/g;if(typeof d=="function"){d=d.call(this,e.parameters,c)}else{if(b.test(d)){d=jQuery.format(d.replace(b,"{$1}"),e.parameters)}}this.errorList.push({message:d,element:c});this.errorMap[c.name]=d;this.submitted[c.name]=d},addWrapper:function(b){if(this.settings.wrapper){b=b.add(b.parent(this.settings.wrapper))}return b},defaultShowErrors:function(){for(var c=0;this.errorList[c];c++){var b=this.errorList[c];this.settings.highlight&&this.settings.highlight.call(this,b.element,this.settings.errorClass,this.settings.validClass);this.showLabel(b.element,b.message)}if(this.errorList.length){this.toShow=this.toShow.add(this.containers)}if(this.settings.success){for(var c=0;this.successList[c];c++){this.showLabel(this.successList[c])}}if(this.settings.unhighlight){for(var c=0,d=this.validElements();d[c];c++){this.settings.unhighlight.call(this,d[c],this.settings.errorClass,this.settings.validClass)}}this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return a(this.errorList).map(function(){return this.element})},showLabel:function(c,d){var b=this.errorsFor(c);if(b.length){b.removeClass().addClass(this.settings.errorClass);b.attr("generated")&&b.html(d)}else{b=a("<"+this.settings.errorElement+"/>").attr({"for":this.idOrName(c),generated:true}).addClass(this.settings.errorClass).html(d||"");if(this.settings.wrapper){b=b.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()}if(!this.labelContainer.append(b).length){this.settings.errorPlacement?this.settings.errorPlacement(b,a(c)):b.insertAfter(c)}}if(!d&&this.settings.success){b.text("");typeof this.settings.success=="string"?b.addClass(this.settings.success):this.settings.success(b)}this.toShow=this.toShow.add(b)},errorsFor:function(c){var b=this.idOrName(c);return this.errors().filter(function(){return a(this).attr("for")==b})},idOrName:function(b){return this.groups[b.name]||(this.checkable(b)?b.name:b.id||b.name)},checkable:function(b){return/radio|checkbox/i.test(b.type)},findByName:function(b){var c=this.currentForm;return a(document.getElementsByName(b)).map(function(d,e){return e.form==c&&e.name==b&&e||null})},getLength:function(c,b){switch(b.nodeName.toLowerCase()){case"select":return a("option:selected",b).length;case"input":if(this.checkable(b)){return this.findByName(b.name).filter(":checked").length}}return c.length},depend:function(c,b){return this.dependTypes[typeof c]?this.dependTypes[typeof c](c,b):true},dependTypes:{"boolean":function(c,b){return c},string:function(c,b){return !!a(c,b.form).length},"function":function(c,b){return c(b)}},optional:function(b){return !a.validator.methods.required.call(this,a.trim(b.value),b)&&"dependency-mismatch"},startRequest:function(b){if(!this.pending[b.name]){this.pendingRequest++;this.pending[b.name]=true}},stopRequest:function(b,c){this.pendingRequest--;if(this.pendingRequest<0){this.pendingRequest=0}delete this.pending[b.name];if(c&&this.pendingRequest==0&&this.formSubmitted&&this.form()){a(this.currentForm).submit();this.formSubmitted=false}else{if(!c&&this.pendingRequest==0&&this.formSubmitted){a(this.currentForm).triggerHandler("invalid-form",[this]);this.formSubmitted=false}}},previousValue:function(b){return a.data(b,"previousValue")||a.data(b,"previousValue",{old:null,valid:true,message:this.defaultMessage(b,"remote")})}},classRuleSettings:{required:{required:true},email:{email:true},url:{url:true},date:{date:true},dateISO:{dateISO:true},dateDE:{dateDE:true},number:{number:true},numberDE:{numberDE:true},digits:{digits:true},creditcard:{creditcard:true}},addClassRules:function(b,c){b.constructor==String?this.classRuleSettings[b]=c:a.extend(this.classRuleSettings,b)},classRules:function(c){var d={};var b=a(c).attr("class");b&&a.each(b.split(" "),function(){if(this in a.validator.classRuleSettings){a.extend(d,a.validator.classRuleSettings[this])}});return d},attributeRules:function(c){var e={};var b=a(c);for(var f in a.validator.methods){var d=b.attr(f);if(d){e[f]=d}}if(e.maxlength&&/-1|2147483647|524288/.test(e.maxlength)){delete e.maxlength}return e},metadataRules:function(b){if(!a.metadata){return{}}var c=a.data(b.form,"validator").settings.meta;return c?a(b).metadata()[c]:a(b).metadata()},staticRules:function(c){var d={};var b=a.data(c.form,"validator");if(b.settings.rules){d=a.validator.normalizeRule(b.settings.rules[c.name])||{}}return d},normalizeRules:function(c,b){a.each(c,function(f,e){if(e===false){delete c[f];return}if(e.param||e.depends){var d=true;switch(typeof e.depends){case"string":d=!!a(e.depends,b.form).length;break;case"function":d=e.depends.call(b,b);break}if(d){c[f]=e.param!==undefined?e.param:true}else{delete c[f]}}});a.each(c,function(d,e){c[d]=a.isFunction(e)?e(b):e});a.each(["minlength","maxlength","min","max"],function(){if(c[this]){c[this]=Number(c[this])}});a.each(["rangelength","range"],function(){if(c[this]){c[this]=[Number(c[this][0]),Number(c[this][1])]}});if(a.validator.autoCreateRanges){if(c.min&&c.max){c.range=[c.min,c.max];delete c.min;delete c.max}if(c.minlength&&c.maxlength){c.rangelength=[c.minlength,c.maxlength];delete c.minlength;delete c.maxlength}}if(c.messages){delete c.messages}return c},normalizeRule:function(c){if(typeof c=="string"){var b={};a.each(c.split(/\s/),function(){b[this]=true});c=b}return c},addMethod:function(b,d,c){a.validator.methods[b]=d;a.validator.messages[b]=c!=undefined?c:a.validator.messages[b];if(d.length<3){a.validator.addClassRules(b,a.validator.normalizeRule(b))}},methods:{required:function(c,b,e){if(!this.depend(e,b)){return"dependency-mismatch"}switch(b.nodeName.toLowerCase()){case"select":var d=a(b).val();return d&&d.length>0;case"input":if(this.checkable(b)){return this.getLength(c,b)>0}default:return a.trim(c).length>0}},remote:function(f,c,g){if(this.optional(c)){return"dependency-mismatch"}var d=this.previousValue(c);if(!this.settings.messages[c.name]){this.settings.messages[c.name]={}}d.originalMessage=this.settings.messages[c.name].remote;this.settings.messages[c.name].remote=d.message;g=typeof g=="string"&&{url:g}||g;if(this.pending[c.name]){return"pending"}if(d.old===f){return d.valid}d.old=f;var b=this;this.startRequest(c);var e={};e[c.name]=f;a.ajax(a.extend(true,{url:g,mode:"abort",port:"validate"+c.name,dataType:"json",data:e,success:function(j){b.settings.messages[c.name].remote=d.originalMessage;var l=j===true;if(l){var h=b.formSubmitted;b.prepareElement(c);b.formSubmitted=h;b.successList.push(c);b.showErrors()}else{var m={};var k=j||b.defaultMessage(c,"remote");m[c.name]=d.message=a.isFunction(k)?k(f):k;b.showErrors(m)}d.valid=l;b.stopRequest(c,l)}},g));return"pending"},minlength:function(c,b,d){return this.optional(b)||this.getLength(a.trim(c),b)>=d},maxlength:function(c,b,d){return this.optional(b)||this.getLength(a.trim(c),b)<=d},rangelength:function(d,b,e){var c=this.getLength(a.trim(d),b);return this.optional(b)||(c>=e[0]&&c<=e[1])},min:function(c,b,d){return this.optional(b)||c>=d},max:function(c,b,d){return this.optional(b)||c<=d},range:function(c,b,d){return this.optional(b)||(c>=d[0]&&c<=d[1])},email:function(c,b){return this.optional(b)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(c)},url:function(c,b){return this.optional(b)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(c)},date:function(c,b){return this.optional(b)||!/Invalid|NaN/.test(new Date(c))},dateISO:function(c,b){return this.optional(b)||/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(c)},number:function(c,b){return this.optional(b)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/.test(c)},digits:function(c,b){return this.optional(b)||/^\d+$/.test(c)},creditcard:function(f,c){if(this.optional(c)){return"dependency-mismatch"}if(/[^0-9-]+/.test(f)){return false}var g=0,e=0,b=false;f=f.replace(/\D/g,"");for(var h=f.length-1;h>=0;h--){var d=f.charAt(h);var e=parseInt(d,10);if(b){if((e*=2)>9){e-=9}}g+=e;b=!b}return(g%10)==0},accept:function(c,b,d){d=typeof d=="string"?d.replace(/,/g,"|"):"png|jpe?g|gif";return this.optional(b)||c.match(new RegExp(".("+d+")$","i"))},equalTo:function(c,b,e){var d=a(e).unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){a(b).valid()});return c==d.val()}}});a.format=a.validator.format})(jQuery);(function(c){var a={};if(c.ajaxPrefilter){c.ajaxPrefilter(function(f,e,g){var d=f.port;if(f.mode=="abort"){if(a[d]){a[d].abort()}a[d]=g}})}else{var b=c.ajax;c.ajax=function(e){var f=("mode" in e?e:c.ajaxSettings).mode,d=("port" in e?e:c.ajaxSettings).port;if(f=="abort"){if(a[d]){a[d].abort()}return(a[d]=b.apply(this,arguments))}return b.apply(this,arguments)}}})(jQuery);(function(a){if(!jQuery.event.special.focusin&&!jQuery.event.special.focusout&&document.addEventListener){a.each({focus:"focusin",blur:"focusout"},function(c,b){a.event.special[b]={setup:function(){this.addEventListener(c,d,true)},teardown:function(){this.removeEventListener(c,d,true)},handler:function(f){arguments[0]=a.event.fix(f);arguments[0].type=b;return a.event.handle.apply(this,arguments)}};function d(f){f=a.event.fix(f);f.type=b;return a.event.handle.call(this,f)}})}a.extend(a.fn,{validateDelegate:function(d,c,b){return this.bind(c,function(e){var f=a(e.target);if(f.is(d)){return b.apply(f,arguments)}})}})})(jQuery);(function(f,k,d){var n="watermark",h="watermarkClass",c="watermarkFocus",j="watermarkSubmit",e="watermarkMaxLength",g="watermarkPassword",q="watermarkText",m=/\r/g,b=":data("+n+")",l=":text,:password,:search,textarea",p=["Page_ClientValidate"],o=false,a=("placeholder" in document.createElement("input"));f.watermark=f.watermark||{version:"3.1.1",runOnce:true,options:{className:"watermark",useNative:true,hideBeforeUnload:true},hide:function(r){f(r).filter(b).each(function(){f.watermark._hide(f(this))})},_hide:function(y,A){var u=y[0],r=(u.value||"").replace(m,""),w=y.data(q)||"",v=y.data(e)||0,x=y.data(h);if((w.length)&&(r==w)){u.value="";if(y.data(g)){if((y.attr("type")||"")==="text"){var s=y.data(g)||[],z=y.parent()||[];if((s.length)&&(z.length)){z[0].removeChild(y[0]);z[0].appendChild(s[0]);y=s}}}if(v){y.attr("maxLength",v);y.removeData(e)}if(A){y.attr("autocomplete","off");k.setTimeout(function(){y.select()},1)}}x&&y.removeClass(x)},show:function(r){f(r).filter(b).each(function(){f.watermark._show(f(this))})},_show:function(y){var u=y[0],s=(u.value||"").replace(m,""),z=y.data(q)||"",x=y.attr("type")||"",w=y.data(h);if(((s.length==0)||(s==z))&&(!y.data(c))){o=true;if(y.data(g)){if(x==="password"){var r=y.data(g)||[],A=y.parent()||[];if((r.length)&&(A.length)){A[0].removeChild(y[0]);A[0].appendChild(r[0]);y=r;y.attr("maxLength",z.length);u=y[0]}}}if((x==="text")||(x==="search")){var v=y.attr("maxLength")||0;if((v>0)&&(z.length>v)){y.data(e,v);y.attr("maxLength",z.length)}}w&&y.addClass(w);u.value=z}else{f.watermark._hide(y)}},hideAll:function(){if(o){f.watermark.hide(l);o=false}},showAll:function(){f.watermark.show(l)}};f.fn.watermark=f.fn.watermark||function(v,r){if(!this.length){return this}var u=false,s=(typeof(v)==="string");if(s){v=v.replace(m,"")}if(typeof(r)==="object"){u=(typeof(r.className)==="string");r=f.extend({},f.watermark.options,r)}else{if(typeof(r)==="string"){u=true;r=f.extend({},f.watermark.options,{className:r})}else{r=f.watermark.options}}if(typeof(r.useNative)!=="function"){r.useNative=r.useNative?function(){return true}:function(){return false}}return this.each(function(){var A=f(this);if(!A.is(l)){return}if(A.data(n)){if(s||u){f.watermark._hide(A);if(s){A.data(q,v)}if(u){A.data(h,r.className)}}}else{if((a)&&(r.useNative.call(this,A))&&((A.attr("tagName")||"")!=="TEXTAREA")){if(s){A.attr("placeholder",v)}return}A.data(q,s?v:"");A.data(h,r.className);A.data(n,1);if((A.attr("type")||"")==="password"){var w=A.wrap("<span>").parent(),z=f(w.html().replace(/type=["']?password["']?/i,'type="text"'));z.data(q,A.data(q));z.data(h,A.data(h));z.data(n,1);z.attr("maxLength",v.length);z.focus(function(){f.watermark._hide(z,true)}).bind("dragenter",function(){f.watermark._hide(z)}).bind("dragend",function(){k.setTimeout(function(){z.blur()},1)});A.blur(function(){f.watermark._show(A)}).bind("dragleave",function(){f.watermark._show(A)});z.data(g,A);A.data(g,z)}else{A.focus(function(){A.data(c,1);f.watermark._hide(A,true)}).blur(function(){A.data(c,0);f.watermark._show(A)}).bind("dragenter",function(){f.watermark._hide(A)}).bind("dragleave",function(){f.watermark._show(A)}).bind("dragend",function(){k.setTimeout(function(){f.watermark._show(A)},1)}).bind("drop",function(B){var D=A[0],C=B.originalEvent.dataTransfer.getData("Text");if((D.value||"").replace(m,"").replace(C,"")===A.data(q)){D.value=C}A.focus()})}if(this.form){var y=this.form,x=f(y);if(!x.data(j)){x.submit(f.watermark.hideAll);if(y.submit){x.data(j,y.submit);y.submit=(function(C,B){return function(){var D=B.data(j);f.watermark.hideAll();if(D.apply){D.apply(C,Array.prototype.slice.call(arguments))}else{D()}}})(y,x)}else{x.data(j,1);y.submit=(function(B){return function(){f.watermark.hideAll();delete B.submit;B.submit()}})(y)}}}}f.watermark._show(A)})};if(f.watermark.runOnce){f.watermark.runOnce=false;f.extend(f.expr[":"],{search:function(r){return"search"===(r.type||"")},data:function(u,s,r){return !!f.data(u,r[3])}});(function(r){f.fn.val=function(){if(!this.length){return arguments.length?this:d}if(!arguments.length){if(this.data(n)){var s=(this[0].value||"").replace(m,"");return(s===(this.data(q)||""))?"":s}else{return r.apply(this,arguments)}}else{r.apply(this,arguments);f.watermark.show(this);return this}}})(f.fn.val);if(p.length){f(function(){var s,r,u;for(s=p.length-1;s>=0;s--){r=p[s];u=k[r];if(typeof(u)==="function"){k[r]=(function(v){return function(){f.watermark.hideAll();return v.apply(null,Array.prototype.slice.call(arguments))}})(u)}}})}f(k).bind("beforeunload",function(){if(f.watermark.options.hideBeforeUnload){f.watermark.hideAll()}})}})(jQuery,window);function ajaxSubmitForm(j,b,c,h){var f;if(j!=null){f={methodToCall:j,renderFullView:false}}else{var k=jq("input[name='methodToCall']");if(k.length>0){j=jq("input[name='methodToCall']").val()}if(j==null||j===""){f={renderFullView:false}}else{f={methodToCall:j,renderFullView:false}}}jq("input[name='methodToCall']").remove();if(c!=null){jq.extend(f,c)}var g=jq(document).data("ViewState");if(!jq.isEmptyObject(g)){var e=jq.toJSON(g);e=e.replace(/"/g,"'");jq.extend(f,{clientViewState:e})}var l={data:f,success:function(n){var o=document.createElement("div");o.innerHTML=n;var m=handleIncidentReport(n);if(!m){var p=jq("#errorsFieldForPage_div",o).clone();b(o);if(b!==replacePage){jq("#errorsFieldForPage_div").replaceWith(p);runHiddenScripts("errorsFieldForPage_div")}}jq("#formComplete").html("")},error:function(m,n){alert("Request failed: "+n)}};if(h!=null&&h.length){var d={beforeSend:function(){if(h.hasClass("unrendered")){h.append('<img src="'+getConfigParam("kradImageLocation")+'loader.gif" alt="working..." /> Loading...');h.show()}else{h.block({message:'<img src="'+getConfigParam("kradImageLocation")+'loader.gif" alt="working..." /> Updating...',fadeIn:400,fadeOut:800})}},complete:function(){h.unblock()},error:function(){if(h.hasClass("unrendered")){h.hide()}else{h.unblock()}}}}jq.extend(l,d);var a=jq("#kualiForm");a.ajaxSubmit(l)}function validateAndSubmit(c,a){jq.watermark.hideAll();var b=true;if(validateClient){b=jq("#kualiForm").valid()}if(b){jq.watermark.showAll();ajaxSubmitForm(c,a,null,null)}else{jq.watermark.showAll();jq("#formComplete").html("");jumpToTop();alert("The form contains errors.  Please correct these errors and try again.")}}function validateAndSubmitUsingFormMethodToCall(){validateAndSubmit(null,replacePage)}function submitForm(){var a=jq("input[name='methodToCall']").val();ajaxSubmitForm(a,replacePage,null,null)}function replacePage(a){var b=jq("#viewpage_div",a);b.hide();jq("#viewpage_div").replaceWith(b);setPageBreadcrumb();pageValidatorReady=false;runHiddenScripts("viewpage_div");jq("#viewpage_div").show()}function handleActionLink(b,a){ajaxSubmitForm(b,replacePage,{navigateToPageId:a},null)}function retrieveComponent(e,b,d){var a=jq("#"+e+"_refreshWrapper");var c=function(j){var f=jq("#"+e+"_refreshWrapper",j);var h=e;if(e.indexOf("_attribute")>0){h=e.replace("_attribute","")}var g=jq("#"+h+"_label_span",j);if(jq(".displayWith-"+h).length&&g.length){g.addClass("displayWith-"+h);jq("span.displayWith-"+h).replaceWith(g);f.remove("#"+h+"_label_span")}a.unblock({onUnblock:function(){var k=jq(f).css("background-color");jq(f).css("background-color","");jq(f).addClass("uif-progressiveDisclosure-highlight");if(jq("#"+e+"_refreshWrapper").length){jq("#"+e+"_refreshWrapper").replaceWith(f)}runHiddenScripts(e+"_refreshWrapper");if(k==""){k="transparent"}jq("#"+e+"_refreshWrapper").animate({backgroundColor:k},5000)}});jq(".displayWith-"+h).show()};if(!d){d="updateComponent"}ajaxSubmitForm(d,c,{reqComponentId:e,skipViewInit:"true"},a)}function toggleInactiveRecordDisplay(c,d){var b=jq("#"+c+"_div");var a=function(f){var e=jq("#"+c+"_div",f);b.unblock({onUnblock:function(){if(jq("#"+c+"_div").length){jq("#"+c+"_div").replaceWith(e)}runHiddenScripts(c+"_div")}})};ajaxSubmitForm("toggleInactiveRecordDisplay",a,{reqComponentId:c,skipViewInit:"true",showInactiveRecords:d},b)}function performCollectionAction(d){if(d){var b=jq("#"+d+"_div");var a=function(f){var e=jq("#"+d+"_div",f);b.unblock({onUnblock:function(){if(jq("#"+d+"_div").length){jq("#"+d+"_div").replaceWith(e)}runHiddenScripts(d+"_div")}})};var c=jq("input[name='methodToCall']").val();ajaxSubmitForm(c,a,{reqComponentId:d,skipViewInit:"true"},b)}}function addLineToCollection(d,b){if(b){var a=jq("."+b+"-addField:visible");jq.watermark.hideAll();var c=true;a.each(function(){jq(this).removeClass("ignoreValid");jq(this).valid();if(jq(this).hasClass("error")){c=false}jq(this).addClass("ignoreValid")});jq.watermark.showAll();if(c){performCollectionAction(d)}else{jq("#formComplete").html("");alert("This addition contains errors.  Please correct these errors and try again.")}}}function setupOnChangeRefresh(d,b,a,c){setupRefreshCheck(d,b,a,function(){return true},c)}function setupRefreshCheck(d,b,a,e,c){jq("[name='"+escapeName(d)+"']").live("change",function(){var f=jq("#"+b+"_refreshWrapper");if(f.length){if(e()){retrieveComponent(b,a,c)}}})}function setupProgressiveCheck(e,b,a,f,c,d){if(!a.match("_c0$")){jq("[name='"+escapeName(e)+"']").live("change",function(){var j=jq("#"+b+"_refreshWrapper");if(j.length){var h=b;if(b.indexOf("_attribute")>0){h=b.replace("_attribute","")}if(f()){if(j.hasClass("unrendered")||c){retrieveComponent(b,a,d)}else{var g=j.css("background-color");j.css("background-color","");j.addClass("uif-progressiveDisclosure-highlight");j.show();if(g==""){g="transparent"}j.animate({backgroundColor:g},5000);hiddenInputValidationToggle(b+"_refreshWrapper");jq(".displayWith-"+h).show()}}else{j.hide();hiddenInputValidationToggle(b+"_refreshWrapper");jq(".displayWith-"+h).hide()}}})}}function hiddenInputValidationToggle(b){var a=jq("#"+b);if(a.length){if(a.css("display")=="none"){jq(":input:hidden",a).each(function(){jq(this).addClass("ignoreValid")})}else{jq(":input:visible",a).each(function(){jq(this).removeClass("ignoreValid")})}}}function clearServerSideForm(){var b=jq("[name='methodToCall']").val();if(b==null){var a={};a.methodToCall="clearForm";a.skipViewInit="true";a.formKey=jq("input#formKey").val();var c=getConfigParam("kradUrl")+"/listener";jq.ajax({url:c,dataType:"json",data:a,async:false,beforeSend:null,complete:null,error:null,success:null})}}var $dialog=null;var jq=jQuery.noConflict();jQuery.blockUI.defaults.css={};jQuery.blockUI.defaults.overlayCSS={};var pageValidatorReady=false;var validateClient=true;function setupPage(a){jq("#kualiForm").dirty_form({changedClass:"dirty"});validateClient=a;jq(window).bind("beforeunload",function(b){var c=jq("[name='validateDirty']").val();if(c=="true"){var d=jq(".uif-field").find("input.dirty");var e=jq("[name='methodToCall']").val();if(d.length>0&&e==null){return"Form has unsaved data. Do you want to leave anyway?"}}});jq("#kualiForm").validate({onsubmit:false,ignore:".ignoreValid",onclick:function(b){if(validateClient){if(b.type!="select-one"){var c=jq(b).valid();dependsOnCheck(b,new Array())}}},onfocusout:function(b){if(validateClient){var c=jq(b).valid();dependsOnCheck(b,new Array());if((b.type=="select-one"||b.type=="select-multiple")&&jq(b).hasClass("valid")){applyErrorColors(getAttributeId(b.id,b.type)+"_errors_div",0,0,0,true);showFieldIcon(getAttributeId(b.id,b.type)+"_errors_div",0)}}},wrapper:"li",highlight:function(d,b,c){jq(d).addClass(b).removeClass(c);jq(d).attr("aria-invalid","true");applyErrorColors(getAttributeId(d.id,d.type)+"_errors_div",1,0,0,true);showFieldIcon(getAttributeId(d.id,d.type)+"_errors_div",1)},unhighlight:function(d,b,c){jq(d).removeClass(b).addClass(c);jq(d).attr("aria-invalid","false");applyErrorColors(getAttributeId(d.id,d.type)+"_errors_div",0,0,0,true);showFieldIcon(getAttributeId(d.id,d.type)+"_errors_div",0)},errorPlacement:function(c,d){var f=getAttributeId(d.attr("id"),d[0].type);if(!jq("#"+f+"_errors_div").hasClass("noLabels")){var b=getLabel(f);b=jq.trim(b);if(b){if(b.charAt(b.length-1)==":"){b=b.slice(0,-1)}c.find("label").before(b+" - ")}}jq("#"+f+"_errors_div").show();jq("#"+f+"_errors_errorMessages").show();var e=jq("#"+f+"_errors_errorMessages ul");c.appendTo(e)}});jq(".required").each(function(){jq(this).attr("aria-required","true")});jq(document).trigger("validationSetup");pageValidatorReady=true;jq.watermark.showAll()}jQuery.validator.addMethod("minExclusive",function(b,a,c){if(c.length==1||c[1]()){return this.optional(a)||b>c[0]}else{return true}});jQuery.validator.addMethod("maxInclusive",function(b,a,c){if(c.length==1||c[1]()){return this.optional(a)||b<=c[0]}else{return true}});jQuery.validator.addMethod("minLengthConditional",function(b,a,c){if(c.length==1||c[1]()){return this.optional(a)||this.getLength(jq.trim(b),a)>=c[0]}else{return true}});jQuery.validator.addMethod("maxLengthConditional",function(b,a,c){if(c.length==1||c[1]()){return this.optional(a)||this.getLength(jq.trim(b),a)<=c[0]}else{return true}});jQuery.fn.dataTableExt.oSort["kuali_date-asc"]=function(e,d){var g=e.split("/");var f=d.split("/");var c=(g[2]+g[0]+g[1])*1;var h=(f[2]+f[0]+f[1])*1;return((c<h)?-1:((c>h)?1:0))};jQuery.fn.dataTableExt.oSort["kuali_date-desc"]=function(e,d){var g=e.split("/");var f=d.split("/");var c=(g[2]+g[0]+g[1])*1;var h=(f[2]+f[0]+f[1])*1;return((c<h)?1:((c>h)?-1:0))};jQuery.fn.dataTableExt.oSort["kuali_percent-asc"]=function(d,c){var f=d.replace(/[^0-9]/g,"");var e=c.replace(/[^0-9]/g,"");f=(f=="-"||f===""||isNaN(f))?0:f*1;e=(e=="-"||e===""||isNaN(e))?0:e*1;return f-e};jQuery.fn.dataTableExt.oSort["kuali_percent-desc"]=function(d,c){var f=d.replace(/[^0-9]/g,"");var e=c.replace(/[^0-9]/g,"");f=(f=="-"||f===""||isNaN(f))?0:f*1;e=(e=="-"||e===""||isNaN(e))?0:e*1;return e-f};jQuery.fn.dataTableExt.oSort["kuali_currency-asc"]=function(e,d){var c=e=="-"?0:e.replace(/,/g,"");var f=d=="-"?0:d.replace(/,/g,"");c=c.substring(1);f=f.substring(1);c=parseFloat(c);f=parseFloat(f);c=isNaN(c)?0:c*1;f=isNaN(f)?0:f*1;return c-f};jQuery.fn.dataTableExt.oSort["kuali_currency-desc"]=function(e,d){var c=e=="-"?0:e.replace(/,/g,"");var f=d=="-"?0:d.replace(/,/g,"");c=c.substring(1);f=f.substring(1);c=parseFloat(c);f=parseFloat(f);c=isNaN(c)?0:c;f=isNaN(f)?0:f;return f-c};jQuery.fn.dataTableExt.afnSortData["dom-text"]=function(c,b){var a=[];jq("td:eq("+b+")",c.oApi._fnGetTrNodes(c)).each(function(){var e=jq(this).find("input:text");if(e.length!=0){a.push(e.val())}else{var d=jq(this).find(".uif-field");if(d.length!=0){a.push(jq.trim(d.find("span:first").text()))}else{a.push("")}}});return a};jQuery.fn.dataTableExt.afnSortData["dom-select"]=function(c,b){var a=[];jq("td:eq("+b+")",c.oApi._fnGetTrNodes(c)).each(function(){var e=jq(this).find("select option:selected:first");if(e.length!=0){a.push(e.text())}else{var d=jq(this).find(".uif-inputField");if(d.length!=0){a.push(jq.trim(d.text()))}else{a.push("")}}});return a};jQuery.fn.dataTableExt.afnSortData["dom-checkbox"]=function(c,b){var a=[];jq("td:eq("+b+")",c.oApi._fnGetTrNodes(c)).each(function(){var f=jq(this).find("input:checkbox");if(f.length!=0){var g="";for(i=0;i<f.length;i++){var e=f[i];if(e.checked==true&&e.value.length>0){g+=e.value+" "}}a.push(g)}else{var d=jq(this).find(".uif-inputField");if(d.length!=0){a.push(jq.trim(d.text()))}else{a.push("")}}});return a};jQuery.fn.dataTableExt.afnSortData["dom-radio"]=function(c,b){var a=[];jq("td:eq("+b+")",c.oApi._fnGetTrNodes(c)).each(function(){var f=jq(this).find("input:radio");if(f.length!=0){var g="";for(i=0;i<f.length;i++){var e=f[i];if(e.checked==true){g=e.value;break}}a.push(g)}else{var d=jq(this).find(".uif-inputField");if(d.length!=0){a.push(jq.trim(d.text()))}else{a.push("")}}});return a};window.onerror=errorHandler;function errorHandler(d,a,c){jq("#view_div").show();jq("#viewpage_div").show();var b=getContext();b.unblockUI();showGrowl(d+"<br/>"+a+"<br/>"+c,"Javascript Error","errorGrowl");return false}jq(document).ready(function(){setPageBreadcrumb();jq("input:submit").button();jq("input:button").button();jq("a.button").button();jq.ajaxSetup({beforeSend:function(){createLoading(true)},complete:function(){createLoading(false)},error:function(a,c,b){createLoading(false);showGrowl("Status: "+c+"<br/>"+b,"Server Response Error","errorGrowl")}});runHiddenScripts("");jq("#view_div").show();createLoading(false);jq(window).unload(function(){createLoading(false)})});jq(window).bind("beforeunload",function(a){});function showGrowl(b,d,c){var a=getContext();if(c){a.jGrowl(b,{header:d,theme:c})}else{a.jGrowl(b,{header:d})}}function setGrowlDefaults(a){var b=getContext();b.jGrowl.defaults=b.extend(b.jGrowl.defaults,a)}function createLoading(b){var e='<h1><img src="'+getConfigParam("kradImageLocation")+'loading.gif" alt="working..." />Loading...</h1>';var a='<h1><img src="'+getConfigParam("kradImageLocation")+'loading.gif" alt="working..." />Saving...</h1>';var d=jq("input[name='methodToCall']").val();var c=jq("input[name='unblockUIOnLoading']").val();if(c==null||c.toUpperCase()=="false".toUpperCase()){if(b){if(d&&d.toUpperCase()=="save".toUpperCase()){getContext().blockUI({message:a})}else{getContext().blockUI({message:e})}}else{getContext().unblockUI()}}}function clearServerErrorColors(b){if(b){var d=jq("#"+b);var a=jq("#"+b.replace("errors_div","label"));var c="";if(d.length>0&&!d.hasClass("noHighlight")){if(d.parent().is("td")||(d.parent().is(".refreshWrapper")&&d.parent().parent().is("td"))){c=d.closest("td")}else{c=d.closest(".fieldLine")}if(c.length>0){c.removeClass("kr-serverError")}}}}function applyErrorColors(b,n,d,e,q){if(b){var a=jq("#"+b);var m=jq("#"+b.replace("errors_div","label"));var j="";if(a.length>0&&!a.hasClass("noHighlight")){if(a.parent().is("td")||(a.parent().is(".refreshWrapper")&&a.parent().parent().is("td"))){j=a.closest("td")}else{j=a.closest(".fieldLine")}if(j.length>0){if(n&&!q){j.addClass("kr-serverError");m.addClass("kr-serverError")}else{if(n){j.addClass("kr-clientError");m.addClass("kr-clientError")}else{if(d){j.addClass("kr-warning");m.addClass("kr-warning")}else{if(e){j.addClass("kr-information");m.addClass("kr-information")}else{if(a.parent().hasClass("kr-errorsField")){var h=a.parent().find(".kr-errorMessages").find("ul.errorLines");var p=false;h.each(function(){jq(this).children().each(function(){if(jq(this).css("display")!="none"){p=true;return false}});if(p){return false}});m.removeClass("kr-clientError");if(!p){j.removeClass("kr-clientError")}}else{j.removeClass("kr-clientError");m.removeClass("kr-clientError")}}}}}}}var k=a.closest(".ui-tabs-panel");if(k.length>0){var c=k.attr("id");var g=jq("a[href='#"+c+"']");var f=jq("#"+c+"_errorIcon");if(g.length>0){var o=false;if(n){o=true}else{var l=k.find(".kr-errorMessages").find("li");l.each(function(){if(jq(this).css("display")!="none"){o=true}})}if(o){g.addClass("kr-clientError");if(f.length==0){g.append("<img id='"+c+"_errorIcon' alt='error' src='"+getConfigParam("kradImageLocation")+"errormark.gif'>")}}else{if(!o){g.removeClass("kr-clientError");f.remove()}}}}}}function showFieldIcon(d,f){if(d){var e=jq("#"+d);var b=d.replace("_errors_div","");if(b){var a=jq("#"+b);var c=jq("#"+b+"_errorIcon");if(e.length>0&&e.hasClass("addFieldIcon")&&f&&c.length==0){if(a.length>0){a.after("<img id='"+b+"_errorIcon' alt='error' src='"+getConfigParam("kradImageLocation")+"errormark.gif'>")}else{a=jq("#"+errorDivId.replace("errors_div","attribute1"));if(a.length>0){a.after("<img id='"+b+"_errorIcon' alt='error' src='"+getConfigParam("kradImageLocation")+"errormark.gif'>")}}}else{if(e.length>0&&e.hasClass("addFieldIcon")&&f==0){if(c.length>0){c.remove()}}}}}}function showChangeIcon(b){var c=jq("#"+b+"_attribute_markers");var a=jq("#"+b+"_changeIcon");if(c.length>0&&a.length==0){c.append("<img id='"+b+"_changeIcon' alt='change' src='"+getConfigParam("kradImageLocation")+"asterisk_orange.png'>")}}function showChangeIconOnHeader(a){var c=jq("#"+a+"_header");var b=jq("#"+a+"_changeIcon");if(c.length>0&&b.length==0){c.append("<img id='"+a+"_changeIcon' alt='change' src='"+getConfigParam("kradImageLocation")+"asterisk_orange.png'>")}}function createWatermark(b,a){jq("#"+b).watermark(a)}function handleIncidentReport(b){var a=jq("#viewId",b);if(a.length&&a.val()==="Uif-IncidentReportView"){jq("#view_div").replaceWith(b);runHiddenScriptsAgain("");return true}else{return false}}(function(a){a.fn.selectMenuItem=function(b){return this.each(function(){b=b||{};b=a.extend({selectPage:""},b);if(b.selectPage){var c=a(this).find("a[name='"+b.selectPage+"']");if(c){c.addClass("current")}}})};a.fn.navMenu=function(b){return this.each(function(){b=b||{};b=a.extend({parent_div:"viewlayout_div",nav_div:"viewnavigation_div",defaultSelectFirst:true,currentPage:"",animate:false,slideout:true,pad_out:25,pad_in:18},b);var f=a(this).parent().attr("id");var d="#"+f+" li";var c=d+" a";a(this).parent().addClass("navigation-block");a("#"+b.parent_div).addClass("navigation-parent-div");a("#"+b.nav_div).addClass("navigation-div");if(b.animate){a("li",this).addClass("animated-element");a(this).addClass("animated-navigation")}else{a("li",this).addClass("basic-element");a(this).addClass("basic-navigation")}if(b.slideout){a(this).before("<a id='collapseLink' class='collapseLink' alt='Close Navigation'>Collapse Navigation</a>");a(".navigation-block").after("<a id='controlbtn' class='slideLink' alt='Close Navigation'><<</a>")}if(b.defaultSelectFirst&&!b.currentPage){a(c).first().addClass("current")}if(b.currentPage){var e=a(this).find("a[name='"+b.currentPage+"']");if(e){e.addClass("current")}}a(document).ready(function(){if(b.animate){a(c).each(function(g){a(this).click(function(){a("li.animated-element a").removeClass("current");a(this).addClass("current")})})}else{a(c).each(function(g){a(this).click(function(){a("li.basic-element a").removeClass("current");a(this).addClass("current")})})}if(b.slideout){a("a#controlbtn",this).click(function(h){h.preventDefault();var g=a(".navigation-block").width();if(!a("#"+b.parent_div).is(":animated")){if(a(this).hasClass("closed")){a(this).removeClass("closed").html("<<");margin="+="+g}else{a(this).addClass("closed").html(">>");margin="-="+g}a("#"+b.parent_div).animate({marginLeft:margin},"slow")}});a("a#collapseLink",this).click(function(h){h.preventDefault();var g=a(".navigation-block").width();if(!a("#"+b.parent_div).is(":animated")){if(a("a#controlbtn").hasClass("closed")){a("a#controlbtn").removeClass("closed").html("<<");margin="+="+g}else{a("a#controlbtn").addClass("closed").html(">>");margin="-="+g}a("#"+b.parent_div).animate({marginLeft:margin},"slow")}})}})})}})(jQuery);(function(a){a.fn.selectTab=function(b){return this.each(function(){b=b||{};b=a.extend({selectPage:""},b);if(b.selectPage){var c=a(this).find("a[name='"+b.selectPage+"']");if(c){c.parent().addClass("ui-state-active")}}})};a.fn.tabMenu=function(b){return this.each(function(){b=b||{};b=a.extend({defaultSelectFirst:true,currentPage:""},b);var f=a(this).parent().attr("id");var d="#"+f+" li";var c=d+" a";a(this).parent().addClass("ui-tabs tab-navigation-block");a(this).addClass("ui-helper-reset ui-helper-clearfix tabMenu");a(d).addClass("ui-state-default ui-corner-top");if(b.currentPage){var e=a(this).find("a[name='"+b.currentPage+"']");if(e){e.closest("li").addClass("ui-state-active")}}a(document).ready(function(){a(c).each(function(g){if(g==0&&b.defaultSelectFirst&&!b.currentPage){a(this).closest("li").addClass("ui-state-active")}a(this).focus(function(){a(this).closest("li").addClass("ui-state-focus")});a(this).click(function(){a(c).each(function(){a(this).closest("li").removeClass("ui-state-active")});a(this).closest("li").addClass("ui-state-active")});a(this).hover(function(){a(this).closest("li").addClass("ui-state-hover")},function(){a(this).closest("li").removeClass("ui-state-hover")});a(this).blur(function(){a(this).closest("li").removeClass("ui-state-focus")})})})})}})(jQuery);(function(a){a.fn.initPopoutText=function(c,b){return this.each(function(){c=c||{};c=a.extend({label:"",summary:"",constraint:""},c);var j=a(this).attr("id");var g=a(this);var f;if(top==self){f=jq}else{f=parent.$}var d="";var h="";var e="";if(c.label){d="<label for='textarea_popout_control'>"+c.label+"</label>"}if(c.summary){h="<span class='summary'>"+c.summary+"</span>"}if(c.constraint){e="<span class='constraint'>"+c.constraint+"</span>"}a(this).after('<a id="expand_btn_'+j+'" title="Expand"><img src="'+b+'pencil_add.png" alt="Expand"/></a>');a(document).ready(function(){a("a#expand_btn_"+j).click(function(m){m.preventDefault();var l=g.val();if(!l){l=""}var k={content:"<div class='textarea_popout'>"+d+h+"<textarea id='textarea_popout_control'>"+l+"</textarea>"+e+"<input id='done_btn' class='done' type='button' value='Done'/></div>",onComplete:function(){f("textarea#textarea_popout_control").focus();f("#done_btn").click(function(n){n.preventDefault();g.val(f("textarea#textarea_popout_control").val());f.fancybox.close();g.valid();g.focus()})},autoDimensions:true,hideOnOverlayClick:false,centerOnScroll:true};f.fancybox(k)})})})}})(jQuery);function escapeName(a){if(a!=undefined&&a!=null&&a!=""){a=a.replace(/\\'/g,"'");a=a.replace(/'/g,"\\'");a=a.replace(/\\"/g,'"');a=a.replace(/"/g,'\\"');a=a.replace(/\./g,"\\.");a=a.replace(/\[/g,"\\[");a=a.replace(/\]/g,"\\]")}return a}function getContext(){if(usePortalForContext()){return top.jQuery}else{return jq}}function usePortalForContext(){var a=false;try{a=(top!=self)&&(top.location.host==location.host)}catch(b){a=false}return a}function setConfigParam(b,c){var a=jq(document).data("ConfigParameters");if(!a){a=new Object();jq(document).data("ConfigParameters",a)}a[b]=c}function getConfigParam(b){var a=jq(document).data("ConfigParameters");if(a){return a[b]}return""}function initializeViewState(a){jq(document).data("ViewState",a)}function updateViewState(b){var a=jq(document).data("ViewState");if(a){jq.extend(a,b)}else{jq(document).data("ViewState",b)}}function setViewState(a,c){var b=jq(document).data("ViewState");if(!b){b=new Object();jq(document).data("ViewState",b)}b[a]=c}function getViewState(a){var b=jq(document).data("ViewState");if(b&&b.hasOwnProperty(a)){return b[a]}return""}function setComponentState(a,c,d){var b=getViewState(a);if(!b){b=new Object();setViewState(a,b)}b[c]=d}function getComponentState(a,c){var b=getViewState(a);if(b&&b.hasOwnProperty(c)){return b[c]}return""}function getLabel(b){var a=jq("#"+b+"_label");if(a){return a.text()}else{return""}}function runHiddenScripts(id){if(id){jq("#"+id).find("input[name='script']").each(function(){eval(jq(this).val());jq(this).attr("script","first_run");jq(this).removeAttr("name")})}else{jq("input[name='script']").each(function(){eval(jq(this).val());jq(this).attr("script","first_run");jq(this).removeAttr("name")})}}function runHiddenScriptsAgain(id){if(id){jq("#"+id).find("script[name='first_run']").each(function(){eval(jq(this).val());jq(this).removeAttr("script")})}else{jq("input[script='first_run']").each(function(){eval(jq(this).val());jq(this).removeAttr("script")})}}function setMethodToCall(a){jq("<input type='hidden' name='methodToCall' value='"+a+"'/>").appendTo(jq("#formComplete"))}function writeHiddenToForm(b,a){jq('input[name="'+escapeName(b)+'"]').remove();if(a.indexOf("'")!=-1){jq("<input type='hidden' name='"+b+"' value=\""+a+'"/>').appendTo(jq("#formComplete"))}else{jq("<input type='hidden' name='"+b+"' value='"+a+"'/>").appendTo(jq("#formComplete"))}}function coerceValue(b){var c="";var a="[name='"+escapeName(b)+"']";if(jq(a+":checkbox").length){c=jq(a+":checked").val()}else{if(jq(a+":radio").length){c=jq(a+":checked").val()}else{if(jq(a).length){if(jq(a).hasClass("watermark")){jq.watermark.hide(a);c=jq(a).val();jq.watermark.show(a)}else{c=jq(a).val()}}}}if(c==null){c=""}return c}function setValue(b,c){var a="[name='"+escapeName(b)+"']";jq(a).val(c)}function isValueEmpty(a){if(a!=undefined&&a!=null&&a!=""){return false}else{return true}}function occursBefore(d,c){var b=jq("[name='"+escapeName(d)+"']");var e=jq("[name='"+escapeName(c)+"']");b.addClass("prereqcheck");e.addClass("prereqcheck");var a=jq(".prereqcheck");b.removeClass("prereqcheck");e.removeClass("prereqcheck");if(a.index(b)<a.index(e)){return true}else{return false}}function checkDirty(e){var b=jq("[name='validateDirty']").val();var d=jq(".uif-field").find("input.dirty");if(b=="true"&&d.length>0){var f=confirm("Form has unsaved data. Do you want to leave anyway?");if(f==false){e.preventDefault();e.stopImmediatePropagation();var c=jq("#"+e.target.id).closest("ul");if(c.length>0){var a=jq("[name='pageId']").val();if(c.hasClass("tabMenu")){jq("#"+c.attr("id")).selectTab({selectPage:a})}else{jq("#"+c.attr("id")).selectMenuItem({selectPage:a})}}return true}}return false}function getAttributeId(b,a){var c=b;if(a=="radio"||a=="checkbox"||a=="select-one"||a=="select-multiple"){c=b.replace(/_attribute\S*/,"")}return c}function performJumpTo(){var a=jq("[name='jumpToId']").val();var b=jq("[name='jumpToName']").val();if(a){if(a.toUpperCase()==="TOP"){jumpToTop()}else{if(a.toUpperCase()==="BOTTOM"){jumpToBottom()}else{jumpToElementById(a)}}}else{if(b){jumpToElementByName(b)}else{jumpToTop()}}}function performFocus(){var a=jq("[name='focusId']").val();if(a){jq("#"+a).focus()}else{jq("input:not(input[type='button'], input[type='submit']):visible:first","#kualiForm").focus()}}function focusOnElementByName(a){var b=jq("[name='"+escapeName(a)+"']");if(b.length!=0){b.focus()}}function focusOnElementById(a){if(a){jq("#"+a).focus()}}function jumpToElementByName(a){var b=jq("[name='"+escapeName(a)+"']");if(b.length!=0){if(!usePortalForContext()||jQuery("#fancybox-frame",parent.document).length){jQuery.scrollTo(b,0)}else{var c=top.jQuery("#header").outerHeight(true)+top.jQuery(".header2").outerHeight(true);top.jQuery.scrollTo(b,0,{offset:{top:c}})}}}function jumpToElementById(c){var a=jq("#"+c);if(a.length!=0){if(!usePortalForContext()||jQuery("#fancybox-frame",parent.document).length){jQuery.scrollTo(a,0)}else{var b=top.jQuery("#header").outerHeight(true)+top.jQuery(".header2").outerHeight(true);top.jQuery.scrollTo(a,0,{offset:{top:b}})}}}function jumpToTop(){if(!usePortalForContext()||jQuery("#fancybox-frame",parent.document).length){jQuery.scrollTo(jQuery("html"),0)}else{top.jQuery.scrollTo(top.jQuery("html"),0)}}function jumpToBottom(){if(!usePortalForContext()||jQuery("#fancybox-frame",parent.document).length){jQuery.scrollTo("max",0)}else{top.jQuery.scrollTo("max",0)}}var routeLogResizeTimer="";var currentHeight=500;var safari=navigator.userAgent.toLowerCase().indexOf("safari");function setRouteLogIframeDimensions(){var a=document.getElementById("routeLogIFrame");var a=document.getElementById("routeLogIFrame");var c=window.frames.routeLogIFrame;var b=0;try{b=c.document.documentElement.scrollHeight}catch(d){b=0}if(b>0){if(a&&c){if((Math.abs(b-currentHeight))>30){if(safari>-1){if((Math.abs(b-currentHeight))>59){a.style.height=(b+30)+"px";currentHeight=b}}else{a.style.height=(b+30)+"px";currentHeight=b}}}}if(routeLogResizeTimer==""){routeLogResizeTimer=setInterval("resizeTheRouteLogFrame()",300)}}function resizeTheRouteLogFrame(){setRouteLogIframeDimensions()}function runValidationScript(a){if(pageValidatorReady){a()}else{jq(document).bind("validationSetup",function(b){jq(this).unbind(b);a()})}}function dependsOnCheck(c,b){var a;if(jq(c).is("option")){a=jq(c).parent().attr("name")}else{a=jq(c).attr("name")}a=escapeName(a);jq("[name='"+a+"']").trigger("checkReq");b.push(a);jq(".dependsOn-"+a).each(function(){var d;if(jq(this).is("option")){d=jq(this).parent().attr("name")}else{d=jq(this).attr("name")}d=escapeName(d);if(jq(this).hasClass("valid")||jq(this).hasClass("error")){jq.watermark.hide(this);var e=jq(this).valid();jq(this).attr("aria-invalid",!e);jq.watermark.show(this);var f=jq.inArray(d,b);if(f==undefined||f==-1){dependsOnCheck(this,b)}}})}function setupShowReqIndicatorCheck(e,d,c){if(jq("[name='"+escapeName(e)+"']").length){var f=jq("[name='"+escapeName(d)+"']").attr("id");var a;if(f){var b=jq("#"+f+"_label_span");if(b.length){a=b.find(".required")}}if(a!=null&&a.length&&a.is(":hidden")){checkForRequiredness(e,d,c,a)}jq("[name='"+escapeName(e)+"']").change(function(){checkForRequiredness(e,d,c,a)});jq("[name='"+escapeName(e)+"']").bind("checkReq",function(){checkForRequiredness(e,d,c,a)})}}function checkForRequiredness(d,c,b,a){if(a!=null&&a.length){if(b()){a.show();jq("[name='"+escapeName(c)+"']").attr("aria-required","true")}else{a.hide();jq("[name='"+escapeName(c)+"']").attr("aria-required","false")}}}function mustOccurTotal(b,c,a){var d=0;for(i=0;i<b.length;i++){if(coerceValue(b[i])){d++}}return d}function mustOccurCheck(c,b,a){if(c>=b&&c<=a){return 1}else{return 0}}function setPageBreadcrumb(){if(jq("#viewnavigation_div").html()&&jq("#breadcrumbs").length){var d=jq("#currentPageTitle").val();var b=jq("#pageId").val();jq("#breadcrumbs").find("#page_breadcrumb").remove();var a=false;if(d&&d!="&nbsp;"){jq("#breadcrumbs").append("<li id='page_breadcrumb'><span role='presentation'>&raquo;</span> <span class='kr-current'>"+d+"</span></li>");jq("#current_breadcrumb_span").hide();if(jq("#current_breadcrumb_span").parent("li").length){jq("#current_breadcrumb_span").unwrap()}var c=jq("#current_breadcrumb_anchor");jq("#current_breadcrumb_anchor").wrap("<li/>");jq("#current_breadcrumb_anchor").show();a=true}else{if(b){d=jq("a[name='"+escapeName(b)+"']").text();if(d&&d!="&nbsp;"){jq("#breadcrumbs").append("<li id='page_breadcrumb'><span role='presentation'>&raquo;</span> <span class='kr-current'>"+d+"</span></li>");jq("#current_breadcrumb_span").hide();if(jq("#current_breadcrumb_span").parent("li").length){jq("#current_breadcrumb_span").unwrap()}jq("#current_breadcrumb_anchor").wrap();jq("#current_breadcrumb_anchor").show();a=true}}}if(!a){jq("#current_breadcrumb_anchor").hide();if(jq("#current_breadcrumb_anchor").parent("li").length){jq("#current_breadcrumb_anchor").unwrap()}jq("#current_breadcrumb_span").wrap("<li/>");jq("#current_breadcrumb_span").show()}}}function createNavigation(a,c,b){if(c=="VERTICAL_MENU"){createVerticalMenu(a,b)}else{if(c=="TAB_MENU"){createTabMenu(a,b)}}}function createTabMenu(a,b){jq(document).ready(function(){jq("#"+a).tabMenu(b)})}function createVerticalMenu(a,b){jq(document).ready(function(){jq("#"+a).navMenu(b)})}function setupTextPopout(f,d,c,e,b){var a={label:d,summary:c,constraint:e};jq("#"+f).initPopoutText(a,b)}function createLightBoxLink(b,a){jq(function(){var c=false;if(!isCalledWithinLightbox()){jQuery("#"+b).click(function(d){d.preventDefault();a.href=jQuery("#"+b).attr("href");getContext().fancybox(a)})}else{jQuery("#"+b).attr("target","_self");c=true}if(jQuery("#"+b).attr("href").indexOf("&dialogMode=true")==-1){jQuery("#"+b).attr("href",jq("#"+b).attr("href")+"&dialogMode=true&showHome=false&showHistory="+c+"&history="+jq("#formHistory\\.historyParameterString").val())}})}function createLightBoxPost(d,b,a,c){jq(function(){if(!isCalledWithinLightbox()){jQuery("#"+d).click(function(g){g.preventDefault();jQuery("[name='jumpToId']").val(d);a["actionParameters[dialogMode]"]="true";a["actionParameters[lightBoxCall]"]="true";a["actionParameters[showHistory]"]="false";a["actionParameters[showHome]"]="false";a["actionParameters[returnByScript]"]=""+c;if(top==self){a["actionParameters[returnTarget]"]="_parent"}else{a["actionParameters[returnTarget]"]="iframeportlet"}for(var f in a){writeHiddenToForm(f,a[f])}jQuery("#kualiForm").ajaxSubmit({success:function(e){b.href=e;getContext().fancybox(b)}})})}else{jQuery("#"+d).click(function(g){a["actionParameters[dialogMode]"]="true";a["actionParameters[returnTarget]"]="_self";a["actionParameters[showHistory]"]="true";a["actionParameters[showHome]"]="false";for(var f in a){writeHiddenToForm(f,a[f])}})}})}function isCalledWithinLightbox(){try{if(jQuery("#fancybox-frame",parent.document).length){return true}}catch(a){}return false}function returnLookupResultReload(a){if(parent.jQuery("iframe[id*=easyXDM_]").length>0){top.jQuery("iframe[id*=easyXDM_]").contents().find("#iframeportlet").attr("src",a.attr("href"))}else{if(parent.parent.jQuery("#iframeportlet").length>0){parent.parent.jQuery("#iframeportlet").attr("src",a.attr("href"))}else{window.open(a.attr("href"),a.attr("target"))}}}function returnLookupResultByScript(c,b){var a;if(parent.jQuery("iframe[id*=easyXDM_]").length>0){a=top.jQuery("iframe[id*=easyXDM_]").contents().find("#iframeportlet").contents().find('[name="'+escapeName(c)+'"]')}else{if(parent.parent.jQuery("#iframeportlet").length>0){a=parent.parent.jQuery("#iframeportlet").contents().find('[name="'+escapeName(c)+'"]')}else{a=top.jq('[name="'+escapeName(c)+'"]')}}a.val(b);a.focus();a.blur();a.focus();a.change()}function setMultiValueReturnTarget(){if(parent.jQuery("iframe[id*=easyXDM_]").length>0){top.jQuery("iframe[id*=easyXDM_]").contents().find("#iframeportlet").contents().find("#kualiForm").attr("target","iframeportlet")}else{if(parent.parent.jQuery("#iframeportlet").length>0){parent.jQuery("#kualiForm").attr("target","iframeportlet")}else{top.jQuery("#kualiForm").attr("target","_parent")}}}function showDirectInquiry(b,d,f,a){var c=d.split(",");var e="&showHome=false";for(i in c){parameters=c[i].split(":");if(jQuery('[name="'+escapeName(parameters[0])+'"]').val()==""){alert("Please enter a value in the appropriate field.");return false}else{e=e+"&"+parameters[1]+"="+jQuery('[name="'+escapeName(parameters[0])+'"]').val()}}if(f){if(!getContext().find(".fancybox-inner").length){e=e+"&showHistory=false&dialogMode=true";a.href=b+e;getContext().fancybox(a)}else{e=e+"&showHistory=true&dialogMode=true";window.open(b+e,"_self")}}else{e=e+"&showHistory=false";window.open(b+e,"_blank","width=640, height=600, scrollbars=yes")}}function closeLightbox(){if(usePortalForContext()){getContext().fancybox.close()}else{parent.jQuery.fancybox.close()}}function createDatePicker(b,a){jq(function(){jq("#"+b).datepicker(a)});jq.datepicker._gotoToday=function(f){var e=jq(f);var d=this._getInst(e[0]);if(this._get(d,"gotoCurrent")&&d.currentDay){d.selectedDay=d.currentDay;d.drawMonth=d.selectedMonth=d.currentMonth;d.drawYear=d.selectedYear=d.currentYear}else{var c=new Date();d.selectedDay=c.getDate();d.drawMonth=d.selectedMonth=c.getMonth();d.drawYear=d.selectedYear=c.getFullYear()}this._notifyChange(d);this._adjustDate(e);this._setDateDatepicker(e,new Date());this._selectDate(f,this._getDateDatepicker(e))}}function createDisclosure(c,b,d,g,a,e,f,h){jq(document).ready(function(){var n=c+"_toggle";var l="";var m="";if(h){var l="<img id='"+c+"_exp' src='"+e+"' alt='expand' class='expand_collapse-buttons'/>";var m="<img id='"+c+"_col' src='"+a+"' alt='collapse' class='expand_collapse-buttons'/>"}var j=c+"_group";var k=jq("#"+b+"_div > :header, #"+b+"_div > label").html();if(g){jq("#"+j).slideDown(0);k=l+k}else{jq("#"+j).slideUp(0);k=m+k}jq("#"+b+"_div > :header, #"+b+"_div > label").html(k);jq("#"+b+"_div > :header, #"+b+"_div > label").wrap("<a href='#' id='"+n+"'>");if(g){jq("#"+n).toggle(function(){jq("#"+j).slideUp(f);jq("#"+c+"_exp").replaceWith(m);setComponentState(d,"defaultOpen",false)},function(){jq("#"+j).slideDown(f);jq("#"+c+"_col").replaceWith(l);setComponentState(d,"defaultOpen",true)})}else{jq("#"+n).toggle(function(){jq("#"+j).slideDown(f);jq("#"+c+"_col").replaceWith(l);setComponentState(d,"defaultOpen",true)},function(){jq("#"+j).slideUp(f);jq("#"+c+"_exp").replaceWith(m);setComponentState(d,"defaultOpen",false)})}})}function expandDisclosures(){jq('img[alt="collapse"]').click()}function collapseDisclosures(){jq('img[alt="expand"]').click()}function createTable(b,a){jq(document).ready(function(){var c=jq("#"+b).dataTable(a);jq(window).bind("resize",function(){c.fnAdjustColumnSizing()})})}function selectAllLines(a){jq("#"+a+"_div input:checkbox.kr-select-line").attr("checked",true)}function deselectAllLines(a){jq("#"+a+"_div input:checkbox.kr-select-line").attr("checked",false)}function createTree(a,b){jq(document).ready(function(){jq("#"+a).jstree(b)})}function createTabs(b,a){jq("#"+b+"_tabs").tabs(a)}function createSuggest(d,c,a,b){c.source=function(g,f){var e={};e.methodToCall="performFieldSuggest";e.skipViewInit="true";e.formKey=jq("input#formKey").val();e.queryTerm=g.term;e.queryFieldId=a;for(var h in b){e["queryParameter."+h]=coerceValue(b[h])}jq.ajax({url:jq("form#kualiForm").attr("action"),dataType:"json",beforeSend:null,complete:null,error:null,data:e,success:function(j){f(j.resultData)}})};jq(document).ready(function(){jq("#"+d).autocomplete(c)})}function createReorderer(a,b){fluid.reorderGrid(jq("#"+a+"_div"),b)}function createSpinner(b,a){jq("#"+b).spinit(a)}function executeFieldQuery(g,c,e,b,a){var d={};d.methodToCall="performFieldQuery";d.skipViewInit="true";d.formKey=jq("input#formKey").val();d.queryFieldId=c;for(var h in e){d["queryParameter."+e[h]]=coerceValue(h)}for(var f=0;f<b.length;f++){var h=b[f];d["queryParameter."+h]=coerceValue(h)}jq.ajax({url:jq("form#kualiForm").attr("action"),dataType:"json",data:d,beforeSend:null,complete:null,error:null,success:function(o){var j=jq("#"+c+"_info_message");if(j.length>0){j.html(o.resultMessage);if(o.resultMessageStyleClasses){j.addClass(o.resultMessageStyleClasses)}}for(var l in a){var n=o.resultFieldData[l];if(!n){n=""}var m=jq("[name='"+escapeName(l)+"']");if(m.length>0){m.val(n);m.change()}var k=l.replace(/\./g,"_").replace(/\[/g,"-lbrak-").replace(/\]/g,"-rbrak-").replace(/\'/g,"-quot-");m=jq("#"+c+"_info_"+k);if(m.length>0){m.html(n)}}}})}jQuery.blockUI.defaults.css={};jQuery.blockUI.defaults.overlayCSS={};(function(a){a.fn.extend({spinit:function(b){var c=a.extend({min:0,max:100,callback:null,stepInc:1,pageInc:10,width:50,height:15,btnWidth:10,mask:""},b);return this.each(function(){var v=38;var q=40;var k=33;var j=34;var m=false;var r=false;var f;var p="none";var u=false;var s=Number(a(this).val());var e=a(this).css("width",(c.width)+"px").css("height",c.height+"px").addClass("smartspinner");if(c.initValue){s=Math.max(c.initValue,c.min);a(this).val(s);l(s)}if(c.mask!=""){e.val(c.mask)}a.fn.reset=function(w){if(isNaN(w)){w=0}s=Math.max(w,c.min);a(this).val(s);l(s)};function d(w){p=w;u=false;switch(w){case"up":o("up");break;case"down":o("down");break;case"pup":u=true;o("up");break;case"pdown":u=true;o("down");break;case"none":o("");break}}e.focusin(function(){e.val(s)});e.click(function(w){m=true;u=false;clearInterval(f);g()});e.mouseenter(function(w){e.val(s)});e.mousemove(function(w){if(w.pageX>(e.offset().left+c.width)-c.btnWidth-4){if(w.pageY<e.offset().top+c.height/2){d("up")}else{d("down")}}else{d("none")}});e.mousedown(function(w){u=false});e.mouseup(function(w){m=false;u=false});e.mouseleave(function(w){d("none");if(c.mask!=""){e.val(c.mask)}});e.keydown(function(w){switch(w.which){case v:d("up");g();break;case q:d("down");g();break;case k:d("pup");g();break;case j:d("pdown");g();break;default:d("none");break}});e.keyup(function(w){d("none")});e.keypress(function(y){if(e.val()==c.mask){e.val(s)}if(y.which>=48&&y.which<=57){var x=n();if(x!=""){x=e.val().replace(x,"");e.val(x)}var w=parseFloat(e.val()+(y.which-48));if(w>=c.min&&w<=c.max){s=w;l(s)}else{y.preventDefault()}}else{if(y.which!=0&&y.which!=13&&y.which!=8){return false}}});e.blur(function(){if(c.mask==""){if(e.val()==""){e.val(c.min)}else{s=parseFloat(e.val())}}else{e.val(c.mask)}});e.bind("mousewheel",function(w){if(w.wheelDelta>=120){d("down");g()}else{if(w.wheelDelta<=-120){d("up");g()}}w.preventDefault()});if(this.addEventListener){this.addEventListener("DOMMouseScroll",function(w){if(w.detail>0){d("down");g()}else{if(w.detail<0){d("up");g()}}w.preventDefault()},false)}function l(w){if(c.callback!=null){c.callback(w)}}function n(){var x=e.get(0).selectionStart;var w=e.get(0).selectionEnd;var y=document.selection;if(y&&y.createRange().text.length!=0){return y.createRange().text}else{if(!y&&e.val().substring(x,w).length!=0){return e.val().substring(x,w)}}return""}function h(x,w){if(x>=c.min&&x<=c.max){s=w}e.val(s)}function g(){if(p=="up"){s+=c.stepInc;if(s>c.max){s=c.max}h(parseFloat(e.val()),s)}if(p=="down"){s-=c.stepInc;if(s<c.min){s=c.min}h(parseFloat(e.val()),s)}if(p=="pup"){s+=c.pageInc;if(s>c.max){s=c.max}h(parseFloat(e.val()),s)}if(p=="pdown"){s-=c.pageInc;if(s<c.min){s=c.min}h(parseFloat(e.val()),s)}l(s)}function o(w){e.removeClass("up").removeClass("down");if(w!=""){e.addClass(w)}}})}})})(jQuery);var TableTools;(function(c,b,a){TableTools=function(d,e){if(!this.CLASS||this.CLASS!="TableTools"){alert("Warning: TableTools must be initialised with the keyword 'new'")}this.s={that:this,dt:null,print:{saveStart:-1,saveLength:-1,saveScroll:-1,funcEnd:function(){}},buttonCounter:0,select:{type:"",selected:[],preRowSelect:null,postSelected:null,postDeselected:null,all:false},custom:{},swfPath:"",buttonSet:[],master:false};this.dom={container:null,table:null,print:{hidden:[],message:null},collection:{collection:null,background:null}};this.fnSettings=function(){return this.s};if(typeof e=="undefined"){e={}}this.s.dt=d.fnSettings();this._fnConstruct(e);return this};TableTools.prototype={fnGetSelected:function(){var d=this._fnGetMasterSettings();return d.select.selected},fnIsSelected:function(g){var f=this.fnGetSelected();for(var e=0,d=f.length;e<d;e++){if(g==f[e]){return true}}return false},fnSelectAll:function(){var d=this._fnGetMasterSettings();d.that._fnRowSelectAll()},fnSelectNone:function(){var d=this._fnGetMasterSettings();d.that._fnRowDeselectAll()},fnGetTitle:function(f){var d="";if(typeof f.sTitle!="undefined"&&f.sTitle!==""){d=f.sTitle}else{var e=a.getElementsByTagName("title");if(e.length>0){d=e[0].innerHTML}}if("\u00A1".toString().length<4){return d.replace(/[^a-zA-Z0-9_\u00A1-\uFFFF\.,\-_ !\(\)]/g,"")}else{return d.replace(/[^a-zA-Z0-9_\.,\-_ !\(\)]/g,"")}},fnCalcColRatios:function(j){var h=this.s.dt.aoColumns,e=this._fnColumnTargets(j.mColumns),g=[],k=0,l=0,f,d;for(f=0,d=e.length;f<d;f++){if(e[f]){k=h[f].nTh.offsetWidth;l+=k;g.push(k)}}for(f=0,d=g.length;f<d;f++){g[f]=g[f]/l}return g.join("\t")},fnGetTableData:function(d){if(this.s.dt){return this._fnGetDataTablesData(d)}},fnSetText:function(d,e){this._fnFlashSetText(d,e)},_fnConstruct:function(d){this._fnCustomiseSettings(d);this.dom.container=a.createElement("div");this.dom.container.style.position="relative";this.dom.container.className=!this.s.dt.bJUI?"DTTT_container":"DTTT_container ui-buttonset ui-buttonset-multi";if(this.s.select.type!="none"){this._fnRowSelectConfig()}this._fnButtonDefinations(this.s.buttonSet,this.dom.container)},_fnCustomiseSettings:function(d){if(typeof this.s.dt._TableToolsInit=="undefined"){this.s.master=true;this.s.dt._TableToolsInit=true}this.dom.table=this.s.dt.nTable;this.s.custom=c.extend({},TableTools.DEFAULTS,d);this.s.swfPath=this.s.custom.sSwfPath;if(typeof ZeroClipboard!="undefined"){ZeroClipboard.moviePath=this.s.swfPath}this.s.select.type=this.s.custom.sRowSelect;this.s.select.preRowSelect=this.s.custom.fnPreRowSelect;this.s.select.postSelected=this.s.custom.fnRowSelected;this.s.select.postDeselected=this.s.custom.fnRowDeselected;this.s.buttonSet=this.s.custom.aButtons},_fnButtonDefinations:function(g,j){var e;for(var f=0,d=g.length;f<d;f++){if(typeof g[f]=="string"){if(typeof TableTools.BUTTONS[g[f]]=="undefined"){alert("TableTools: Warning - unknown button type: "+g[f]);continue}e=c.extend({},TableTools.BUTTONS[g[f]],true)}else{if(typeof TableTools.BUTTONS[g[f].sExtends]=="undefined"){alert("TableTools: Warning - unknown button type: "+g[f].sExtends);continue}var h=c.extend({},TableTools.BUTTONS[g[f].sExtends],true);e=c.extend(h,g[f],true)}if(this.s.dt.bJUI){e.sButtonClass+=" ui-button ui-state-default";e.sButtonClassHover+=" ui-button ui-state-default ui-state-hover"}j.appendChild(this._fnCreateButton(e))}},_fnCreateButton:function(e){var d=this._fnButtonBase(e);if(e.sAction=="print"){this._fnPrintConfig(d,e)}else{if(e.sAction.match(/flash/)){this._fnFlashConfig(d,e)}else{if(e.sAction=="text"){this._fnTextConfig(d,e)}else{if(e.sAction=="collection"){this._fnTextConfig(d,e);this._fnCollectionConfig(d,e)}}}}return d},_fnButtonBase:function(g){var e=a.createElement("button"),d=a.createElement("span"),f=this._fnGetMasterSettings();e.className="DTTT_button "+g.sButtonClass;e.setAttribute("id","ToolTables_"+this.s.dt.sInstance+"_"+f.buttonCounter);e.appendChild(d);d.innerHTML=g.sButtonText;f.buttonCounter++;return e},_fnGetMasterSettings:function(){if(this.s.master){return this.s}else{var f=TableTools._aInstances;for(var e=0,d=f.length;e<d;e++){if(this.dom.table==f[e].s.dt.nTable){return f[e].s}}}},_fnCollectionConfig:function(d,e){var f=a.createElement("div");f.style.display="none";f.className=!this.s.dt.bJUI?"DTTT_collection":"DTTT_collection ui-buttonset ui-buttonset-multi";e._collection=f;this._fnButtonDefinations(e.aButtons,f)},_fnCollectionShow:function(h,l){var o=this,q=c(h).offset(),j=l._collection,e=q.left,d=q.top+c(h).outerHeight(),n=c(b).height(),k=c(a).height(),m=c(b).width(),p=c(a).width();j.style.position="absolute";j.style.left=e+"px";j.style.top=d+"px";j.style.display="block";c(j).css("opacity",0);var f=a.createElement("div");f.style.position="absolute";f.style.left="0px";f.style.top="0px";f.style.height=((n>k)?n:k)+"px";f.style.width=((m>p)?m:p)+"px";f.className="DTTT_collection_background";c(f).css("opacity",0);a.body.appendChild(f);a.body.appendChild(j);var g=c(j).outerWidth();var r=c(j).outerHeight();if(e+g>p){j.style.left=(p-g)+"px"}if(d+r>k){j.style.top=(d-r-c(h).outerHeight())+"px"}this.dom.collection.collection=j;this.dom.collection.background=f;setTimeout(function(){c(j).animate({opacity:1},500);c(f).animate({opacity:0.25},500)},10);c(f).click(function(){o._fnCollectionHide.call(o,null,null)})},_fnCollectionHide:function(d,e){if(e!==null&&e.sExtends=="collection"){return}if(this.dom.collection.collection!==null){c(this.dom.collection.collection).animate({opacity:0},500,function(f){this.style.display="none"});c(this.dom.collection.background).animate({opacity:0},500,function(f){this.parentNode.removeChild(this)});this.dom.collection.collection=null;this.dom.collection.background=null}},_fnRowSelectConfig:function(){if(this.s.master){var f=this,e,d,g=this.s.dt.aoOpenRows;c(f.s.dt.nTable).addClass("DTTT_selectable");c("tr",f.s.dt.nTBody).live("click",function(h){if(this.parentNode!=f.s.dt.nTBody){return}for(e=0,d=g.length;e<d;e++){if(this==g[e].nTr){return}}if(f.s.select.preRowSelect!==null&&!f.s.select.preRowSelect.call(f,h)){return}if(f.s.select.type=="single"){f._fnRowSelectSingle.call(f,this)}else{f._fnRowSelectMulti.call(f,this)}});f.s.dt.aoDrawCallback.push({fn:function(){if(f.s.select.all&&f.s.dt.oFeatures.bServerSide){f.fnSelectAll()}},sName:"TableTools_select"})}},_fnRowSelectSingle:function(d){if(this.s.master){if(c("td",d).hasClass(this.s.dt.oClasses.sRowEmpty)){return}if(c(d).hasClass("DTTT_selected")){this._fnRowDeselect(d)}else{if(this.s.select.selected.length!==0){this._fnRowDeselectAll()}this.s.select.selected.push(d);c(d).addClass("DTTT_selected");if(this.s.select.postSelected!==null){this.s.select.postSelected.call(this,d)}}TableTools._fnEventDispatch(this,"select",d)}},_fnRowSelectMulti:function(d){if(this.s.master){if(c("td",d).hasClass(this.s.dt.oClasses.sRowEmpty)){return}if(c(d).hasClass("DTTT_selected")){this._fnRowDeselect(d)}else{this.s.select.selected.push(d);c(d).addClass("DTTT_selected");if(this.s.select.postSelected!==null){this.s.select.postSelected.call(this,d)}}TableTools._fnEventDispatch(this,"select",d)}},_fnRowSelectAll:function(){if(this.s.master){var f;for(var e=0,d=this.s.dt.aiDisplayMaster.length;e<d;e++){f=this.s.dt.aoData[this.s.dt.aiDisplayMaster[e]].nTr;if(!c(f).hasClass("DTTT_selected")){this.s.select.selected.push(f);c(f).addClass("DTTT_selected")}}this.s.select.all=true;TableTools._fnEventDispatch(this,"select",null)}},_fnRowDeselectAll:function(){if(this.s.master){for(var d=this.s.select.selected.length-1;d>=0;d--){this._fnRowDeselect(d)}this.s.select.all=false;TableTools._fnEventDispatch(this,"select",null)}},_fnRowDeselect:function(e){if(typeof e.nodeName!="undefined"){e=c.inArray(e,this.s.select.selected)}var d=this.s.select.selected[e];c(d).removeClass("DTTT_selected");this.s.select.selected.splice(e,1);if(this.s.select.postDeselected!==null){this.s.select.postDeselected.call(this,d)}this.s.select.all=false},_fnTextConfig:function(d,f){var e=this;if(f.fnInit!==null){f.fnInit.call(this,d,f)}if(f.sToolTip!=""){d.title=f.sToolTip}c(d).hover(function(){c(d).removeClass(f.sButtonClass).addClass(f.sButtonClassHover);if(f.fnMouseover!==null){f.fnMouseover.call(this,d,f,null)}},function(){c(d).removeClass(f.sButtonClassHover).addClass(f.sButtonClass);if(f.fnMouseout!==null){f.fnMouseout.call(this,d,f,null)}});if(f.fnSelect!==null){TableTools._fnEventListen(this,"select",function(g){f.fnSelect.call(e,d,f,g)})}c(d).click(function(g){g.preventDefault();if(f.fnClick!==null){f.fnClick.call(e,d,f,null)}if(f.fnComplete!==null){f.fnComplete.call(e,d,f,null,null)}e._fnCollectionHide(d,f)})},_fnFlashConfig:function(e,g){var f=this;var d=new ZeroClipboard.Client();if(g.fnInit!==null){g.fnInit.call(this,e,g)}d.setHandCursor(true);if(g.sAction=="flash_save"){d.setAction("save");d.setCharSet((g.sCharSet=="utf16le")?"UTF16LE":"UTF8");d.setBomInc(g.bBomInc);d.setFileName(g.sFileName.replace("*",this.fnGetTitle(g)))}else{if(g.sAction=="flash_pdf"){d.setAction("pdf");d.setFileName(g.sFileName.replace("*",this.fnGetTitle(g)))}else{d.setAction("copy")}}d.addEventListener("mouseOver",function(h){c(e).removeClass(g.sButtonClass).addClass(g.sButtonClassHover);if(g.fnMouseover!==null){g.fnMouseover.call(f,e,g,d)}});d.addEventListener("mouseOut",function(h){c(e).removeClass(g.sButtonClassHover).addClass(g.sButtonClass);if(g.fnMouseout!==null){g.fnMouseout.call(f,e,g,d)}});d.addEventListener("mouseDown",function(h){if(g.fnClick!==null){g.fnClick.call(f,e,g,d)}});d.addEventListener("complete",function(h,j){if(g.fnComplete!==null){g.fnComplete.call(f,e,g,d,j)}f._fnCollectionHide(e,g)});this._fnFlashGlue(d,e,g.sToolTip)},_fnFlashGlue:function(d,f,g){var e=this;var h=f.getAttribute("id");if(a.getElementById(h)){d.glue(f,g)}else{setTimeout(function(){e._fnFlashGlue(d,f,g)},100)}},_fnFlashSetText:function(h,e){var g=this._fnChunkData(e,8192);h.clearText();for(var f=0,d=g.length;f<d;f++){h.appendText(g[f])}},_fnColumnTargets:function(d){var f=[];var e=this.s.dt;if(typeof d=="object"){for(i=0,iLen=e.aoColumns.length;i<iLen;i++){f.push(false)}for(i=0,iLen=d.length;i<iLen;i++){f[d[i]]=true}}else{if(d=="visible"){for(i=0,iLen=e.aoColumns.length;i<iLen;i++){f.push(e.aoColumns[i].bVisible?true:false)}}else{if(d=="hidden"){for(i=0,iLen=e.aoColumns.length;i<iLen;i++){f.push(e.aoColumns[i].bVisible?false:true)}}else{for(i=0,iLen=e.aoColumns.length;i<iLen;i++){f.push(true)}}}}return f},_fnNewline:function(d){if(d.sNewLine=="auto"){return navigator.userAgent.match(/Windows/)?"\r\n":"\n"}else{return d.sNewLine}},_fnGetDataTablesData:function(l){var k,f,h,q;var o="",m="";var e=this.s.dt;var n=new RegExp(l.sFieldBoundary,"g");var g=this._fnColumnTargets(l.mColumns);var d=this._fnNewline(l);if(l.bHeader){for(k=0,f=e.aoColumns.length;k<f;k++){if(g[k]){m=e.aoColumns[k].sTitle.replace(/\n/g," ").replace(/<.*?>/g,"");m=this._fnHtmlDecode(m);o+=this._fnBoundData(m,l.sFieldBoundary,n)+l.sFieldSeperator}}o=o.slice(0,l.sFieldSeperator.length*-1);o+=d}for(h=0,q=e.aiDisplay.length;h<q;h++){for(k=0,f=e.aoColumns.length;k<f;k++){if(g[k]){var p=e.aoData[e.aiDisplay[h]]._aData[k];if(typeof p=="string"){m=p.replace(/\n/g," ");m=m.replace(/<img.*?\s+alt\s*=\s*(?:"([^"]+)"|'([^']+)'|([^\s>]+)).*?>/gi,"$1$2$3");m=m.replace(/<.*?>/g,"")}else{m=p+""}m=m.replace(/^\s+/,"").replace(/\s+$/,"");m=this._fnHtmlDecode(m);o+=this._fnBoundData(m,l.sFieldBoundary,n)+l.sFieldSeperator}}o=o.slice(0,l.sFieldSeperator.length*-1);o+=d}o.slice(0,-1);if(l.bFooter){for(k=0,f=e.aoColumns.length;k<f;k++){if(g[k]&&e.aoColumns[k].nTf!==null){m=e.aoColumns[k].nTf.innerHTML.replace(/\n/g," ").replace(/<.*?>/g,"");m=this._fnHtmlDecode(m);o+=this._fnBoundData(m,l.sFieldBoundary,n)+l.sFieldSeperator}}o=o.slice(0,l.sFieldSeperator.length*-1)}_sLastData=o;return o},_fnBoundData:function(d,f,e){if(f===""){return d}else{return f+d.replace(e,"\\"+f)+f}},_fnChunkData:function(d,f){var g=[];var h=d.length;for(var e=0;e<h;e+=f){if(e+f<h){g.push(d.substring(e,e+f))}else{g.push(d.substring(e,h))}}return g},_fnHtmlDecode:function(e){if(e.indexOf("&")==-1){return e}var f=this._fnChunkData(e,2048),l=a.createElement("div"),g,d,j,k="",h;for(g=0,d=f.length;g<d;g++){j=f[g].lastIndexOf("&");if(j!=-1&&f[g].length>=8&&j>f[g].length-8){h=f[g].substr(j);f[g]=f[g].substr(0,j)}l.innerHTML=f[g];k+=l.childNodes[0].nodeValue}return k},_fnPrintConfig:function(d,f){var e=this;if(f.fnInit!==null){f.fnInit.call(this,d,f)}c(d).hover(function(){c(d).removeClass(f.sButtonClass).addClass(f.sButtonClassHover)},function(){c(d).removeClass(f.sButtonClassHover).addClass(f.sButtonClass)});if(f.fnSelect!==null){TableTools._fnEventListen(this,"select",function(g){f.fnSelect.call(e,d,f,g)})}c(d).click(function(g){g.preventDefault();e._fnPrintStart.call(e,g,f);if(f.fnClick!==null){f.fnClick.call(e,d,f,null)}if(f.fnComplete!==null){f.fnComplete.call(e,d,f,null,null)}e._fnCollectionHide(d,f)})},_fnPrintStart:function(k,h){var j=this;var f=this.s.dt;this._fnPrintHideNodes(f.nTable);this.s.print.saveStart=f._iDisplayStart;this.s.print.saveLength=f._iDisplayLength;if(h.bShowAll){f._iDisplayStart=0;f._iDisplayLength=-1;f.oApi._fnCalculateEnd(f);f.oApi._fnDraw(f)}if(f.oScroll.sX!==""||f.oScroll.sY!==""){this._fnPrintScrollStart(f)}var l=f.aanFeatures;for(var m in l){if(m!="i"&&m!="t"&&m.length==1){for(var g=0,d=l[m].length;g<d;g++){this.dom.print.hidden.push({node:l[m][g],display:"block"});l[m][g].style.display="none"}}}c(a.body).addClass("DTTT_Print");if(h.sInfo!==""){var n=a.createElement("div");n.className="DTTT_print_info";n.innerHTML=h.sInfo;a.body.appendChild(n);setTimeout(function(){c(n).fadeOut("normal",function(){a.body.removeChild(n)})},2000)}if(h.sMessage!==""){this.dom.print.message=a.createElement("div");this.dom.print.message.className="DTTT_PrintMessage";this.dom.print.message.innerHTML=h.sMessage;a.body.insertBefore(this.dom.print.message,a.body.childNodes[0])}this.s.print.saveScroll=c(b).scrollTop();b.scrollTo(0,0);this.s.print.funcEnd=function(o){j._fnPrintEnd.call(j,o)};c(a).bind("keydown",null,this.s.print.funcEnd)},_fnPrintEnd:function(j){if(j.keyCode==27){j.preventDefault();var g=this;var d=this.s.dt;var h=this.s.print;var f=this.dom.print;this._fnPrintShowNodes();if(d.oScroll.sX!==""||d.oScroll.sY!==""){this._fnPrintScrollEnd()}b.scrollTo(0,h.saveScroll);if(f.message!==null){a.body.removeChild(f.message);f.message=null}c(a.body).removeClass("DTTT_Print");d._iDisplayStart=h.saveStart;d._iDisplayLength=h.saveLength;d.oApi._fnCalculateEnd(d);d.oApi._fnDraw(d);c(a).unbind("keydown",this.s.print.funcEnd);this.s.print.funcEnd=null}},_fnPrintScrollStart:function(){var f=this.s.dt,h=f.nScrollHead.getElementsByTagName("div")[0],d=h.getElementsByTagName("table")[0],j=f.nTable.parentNode;var e=f.nTable.getElementsByTagName("thead");if(e.length>0){f.nTable.removeChild(e[0])}if(f.nTFoot!==null){var g=f.nTable.getElementsByTagName("tfoot");if(g.length>0){f.nTable.removeChild(g[0])}}e=f.nTHead.cloneNode(true);f.nTable.insertBefore(e,f.nTable.childNodes[0]);if(f.nTFoot!==null){g=f.nTFoot.cloneNode(true);f.nTable.insertBefore(g,f.nTable.childNodes[1])}if(f.oScroll.sX!==""){f.nTable.style.width=c(f.nTable).outerWidth()+"px";j.style.width=c(f.nTable).outerWidth()+"px";j.style.overflow="visible"}if(f.oScroll.sY!==""){j.style.height=c(f.nTable).outerHeight()+"px";j.style.overflow="visible"}},_fnPrintScrollEnd:function(){var d=this.s.dt,e=d.nTable.parentNode;if(d.oScroll.sX!==""){e.style.width=d.oApi._fnStringToCss(d.oScroll.sX);e.style.overflow="auto"}if(d.oScroll.sY!==""){e.style.height=d.oApi._fnStringToCss(d.oScroll.sY);e.style.overflow="auto"}},_fnPrintShowNodes:function(){var f=this.dom.print.hidden;for(var e=0,d=f.length;e<d;e++){f[e].node.style.display=f[e].display}f.splice(0,f.length)},_fnPrintHideNodes:function(e){var g=this.dom.print.hidden;var j=e.parentNode;var k=j.childNodes;for(var f=0,d=k.length;f<d;f++){if(k[f]!=e&&k[f].nodeType==1){var h=c(k[f]).css("display");if(h!="none"){g.push({node:k[f],display:h});k[f].style.display="none"}}}if(j.nodeName!="BODY"){this._fnPrintHideNodes(j)}}};TableTools._aInstances=[];TableTools._aListeners=[];TableTools.fnGetMasters=function(){var e=[];for(var f=0,d=TableTools._aInstances.length;f<d;f++){if(TableTools._aInstances[f].s.master){e.push(TableTools._aInstances[f].s)}}return e};TableTools.fnGetInstance=function(f){if(typeof f!="object"){f=a.getElementById(f)}for(var e=0,d=TableTools._aInstances.length;e<d;e++){if(TableTools._aInstances[e].s.master&&TableTools._aInstances[e].dom.table==f){return TableTools._aInstances[e]}}return null};TableTools._fnEventListen=function(f,e,d){TableTools._aListeners.push({that:f,type:e,fn:d})};TableTools._fnEventDispatch=function(j,g,h){var f=TableTools._aListeners;for(var e=0,d=f.length;e<d;e++){if(j.dom.table==f[e].that.dom.table&&f[e].type==g){f[e].fn(h)}}};TableTools.BUTTONS={csv:{sAction:"flash_save",sCharSet:"utf8",bBomInc:false,sFileName:"*.csv",sFieldBoundary:"'",sFieldSeperator:",",sNewLine:"auto",sTitle:"",sToolTip:"",sButtonClass:"DTTT_button_csv",sButtonClassHover:"DTTT_button_csv_hover",sButtonText:"CSV",mColumns:"all",bHeader:true,bFooter:true,fnMouseover:null,fnMouseout:null,fnClick:function(e,f,d){this.fnSetText(d,this.fnGetTableData(f))},fnSelect:null,fnComplete:null,fnInit:null},xls:{sAction:"flash_save",sCharSet:"utf16le",bBomInc:true,sFileName:"*.csv",sFieldBoundary:"",sFieldSeperator:"\t",sNewLine:"auto",sTitle:"",sToolTip:"",sButtonClass:"DTTT_button_xls",sButtonClassHover:"DTTT_button_xls_hover",sButtonText:"Excel",mColumns:"all",bHeader:true,bFooter:true,fnMouseover:null,fnMouseout:null,fnClick:function(e,f,d){this.fnSetText(d,this.fnGetTableData(f))},fnSelect:null,fnComplete:null,fnInit:null},copy:{sAction:"flash_copy",sFieldBoundary:"",sFieldSeperator:"\t",sNewLine:"auto",sToolTip:"",sButtonClass:"DTTT_button_copy",sButtonClassHover:"DTTT_button_copy_hover",sButtonText:"Copy",mColumns:"all",bHeader:true,bFooter:true,fnMouseover:null,fnMouseout:null,fnClick:function(e,f,d){this.fnSetText(d,this.fnGetTableData(f))},fnSelect:null,fnComplete:function(g,h,f,j){var d=j.split("\n").length-1,e=(d==1)?"":"s";alert("Copied "+d+" row"+e+" to the clipboard")},fnInit:null},pdf:{sAction:"flash_pdf",sFieldBoundary:"",sFieldSeperator:"\t",sNewLine:"\n",sFileName:"*.pdf",sToolTip:"",sTitle:"",sButtonClass:"DTTT_button_pdf",sButtonClassHover:"DTTT_button_pdf_hover",sButtonText:"PDF",mColumns:"all",bHeader:true,bFooter:true,fnMouseover:null,fnMouseout:null,fnClick:function(e,f,d){this.fnSetText(d,"title:"+this.fnGetTitle(f)+"\ncolWidth:"+this.fnCalcColRatios(f)+"\n--/TableToolsOpts--\n"+this.fnGetTableData(f))},fnSelect:null,fnComplete:null,fnInit:null},print:{sAction:"print",sInfo:"<h6>Print view</h6><p>Please use your browser's print function to print this table. Press escape when finished.",sMessage:"",bShowAll:true,sToolTip:"View print view",sButtonClass:"DTTT_button_print",sButtonClassHover:"DTTT_button_print_hover",sButtonText:"Print",fnMouseover:null,fnMouseout:null,fnClick:null,fnSelect:null,fnComplete:null,fnInit:null},text:{sAction:"text",sToolTip:"",sButtonClass:"DTTT_button_text",sButtonClassHover:"DTTT_button_text_hover",sButtonText:"Text button",mColumns:"all",bHeader:true,bFooter:true,fnMouseover:null,fnMouseout:null,fnClick:null,fnSelect:null,fnComplete:null,fnInit:null},select:{sAction:"text",sToolTip:"",sButtonClass:"DTTT_button_text",sButtonClassHover:"DTTT_button_text_hover",sButtonText:"Select button",mColumns:"all",bHeader:true,bFooter:true,fnMouseover:null,fnMouseout:null,fnClick:null,fnSelect:function(d,e){if(this.fnGetSelected().length!==0){c(d).removeClass("DTTT_disabled")}else{c(d).addClass("DTTT_disabled")}},fnComplete:null,fnInit:function(d,e){c(d).addClass("DTTT_disabled")}},select_single:{sAction:"text",sToolTip:"",sButtonClass:"DTTT_button_text",sButtonClassHover:"DTTT_button_text_hover",sButtonText:"Select button",mColumns:"all",bHeader:true,bFooter:true,fnMouseover:null,fnMouseout:null,fnClick:null,fnSelect:function(e,f){var d=this.fnGetSelected().length;if(d==1){c(e).removeClass("DTTT_disabled")}else{c(e).addClass("DTTT_disabled")}},fnComplete:null,fnInit:function(d,e){c(d).addClass("DTTT_disabled")}},select_all:{sAction:"text",sToolTip:"",sButtonClass:"DTTT_button_text",sButtonClassHover:"DTTT_button_text_hover",sButtonText:"Select all",mColumns:"all",bHeader:true,bFooter:true,fnMouseover:null,fnMouseout:null,fnClick:function(d,e){this.fnSelectAll()},fnSelect:function(d,e){if(this.fnGetSelected().length==this.s.dt.fnRecordsDisplay()){c(d).addClass("DTTT_disabled")}else{c(d).removeClass("DTTT_disabled")}},fnComplete:null,fnInit:null},select_none:{sAction:"text",sToolTip:"",sButtonClass:"DTTT_button_text",sButtonClassHover:"DTTT_button_text_hover",sButtonText:"Deselect all",mColumns:"all",bHeader:true,bFooter:true,fnMouseover:null,fnMouseout:null,fnClick:function(d,e){this.fnSelectNone()},fnSelect:function(d,e){if(this.fnGetSelected().length!==0){c(d).removeClass("DTTT_disabled")}else{c(d).addClass("DTTT_disabled")}},fnComplete:null,fnInit:function(d,e){c(d).addClass("DTTT_disabled")}},ajax:{sAction:"text",sFieldBoundary:"",sFieldSeperator:"\t",sAjaxUrl:"/xhr.php",sToolTip:"",sButtonClass:"DTTT_button_text",sButtonClassHover:"DTTT_button_text_hover",sButtonText:"Ajax button",mColumns:"all",bHeader:true,bFooter:true,fnMouseover:null,fnMouseout:null,fnClick:function(e,f){var d=this.fnGetTableData(f);c.ajax({url:f.sAjaxUrl,data:[{name:"tableData",value:d}],success:f.fnAjaxComplete,dataType:"json",type:"POST",cache:false,error:function(){alert("Error detected when sending table data to server")}})},fnSelect:null,fnComplete:null,fnInit:null,fnAjaxComplete:function(d){alert("Ajax complete")}},collection:{sAction:"collection",sToolTip:"",sButtonClass:"DTTT_button_collection",sButtonClassHover:"DTTT_button_collection_hover",sButtonText:"Collection",fnMouseover:null,fnMouseout:null,fnClick:function(d,e){this._fnCollectionShow(d,e)},fnSelect:null,fnComplete:null,fnInit:null}};TableTools.DEFAULTS={sSwfPath:"media/swf/copy_cvs_xls_pdf.swf",sRowSelect:"none",fnPreRowSelect:null,fnRowSelected:null,fnRowDeselected:null,aButtons:["copy","csv","xls","pdf","print"]};TableTools.prototype.CLASS="TableTools";TableTools.VERSION="2.0.0";TableTools.prototype.VERSION=TableTools.VERSION;if(typeof c.fn.dataTable=="function"&&typeof c.fn.dataTableExt.fnVersionCheck=="function"&&c.fn.dataTableExt.fnVersionCheck("1.7.0")){c.fn.dataTableExt.aoFeatures.push({fnInit:function(f){var e=typeof f.oInit.oTableTools!="undefined"?f.oInit.oTableTools:{};var d=new TableTools(f.oInstance,e);TableTools._aInstances.push(d);return d.dom.container},cFeature:"T",sFeature:"TableTools"})}else{alert("Warning: TableTools 2 requires DataTables 1.7 or greater - www.datatables.net/download")}})(jQuery,window,document);var ZeroClipboard={version:"1.0.4-mod",clients:{},moviePath:"ZeroClipboard.swf",nextId:1,$:function(a){if(typeof(a)=="string"){a=document.getElementById(a)}if(!a.addClass){a.hide=function(){this.style.display="none"};a.show=function(){this.style.display=""};a.addClass=function(b){this.removeClass(b);this.className+=" "+b};a.removeClass=function(b){this.className=this.className.replace(new RegExp("\\s*"+b+"\\s*")," ").replace(/^\s+/,"").replace(/\s+$/,"")};a.hasClass=function(b){return !!this.className.match(new RegExp("\\s*"+b+"\\s*"))}}return a},setMoviePath:function(a){this.moviePath=a},dispatch:function(d,b,c){var a=this.clients[d];if(a){a.receiveEvent(b,c)}},register:function(b,a){this.clients[b]=a},getDOMObjectPosition:function(b){var a={left:0,top:0,width:b.width?b.width:b.offsetWidth,height:b.height?b.height:b.offsetHeight};if(b.style.width!=""){a.width=b.style.width.replace("px","")}if(b.style.height!=""){a.height=b.style.height.replace("px","")}while(b){a.left+=b.offsetLeft;a.top+=b.offsetTop;b=b.offsetParent}return a},Client:function(a){this.handlers={};this.id=ZeroClipboard.nextId++;this.movieId="ZeroClipboardMovie_"+this.id;ZeroClipboard.register(this.id,this);if(a){this.glue(a)}}};ZeroClipboard.Client.prototype={id:0,ready:false,movie:null,clipText:"",fileName:"",action:"copy",handCursorEnabled:true,cssEffects:true,handlers:null,loadingTimer:null,glue:function(c,d){this.domElement=ZeroClipboard.$(c);var e=99;if(this.domElement.style.zIndex){e=parseInt(this.domElement.style.zIndex)+1}var b=ZeroClipboard.getDOMObjectPosition(this.domElement);this.div=document.createElement("div");var a=this.div.style;a.position="absolute";a.left=(this.domElement.offsetLeft)+"px";a.top=this.domElement.offsetTop+"px";a.width=(b.width)+"px";a.height=b.height+"px";a.zIndex=e;if(typeof d!="undefined"&&d!=""){this.div.title=d}this.domElement.parentNode.appendChild(this.div);this.div.innerHTML=this.getHTML(b.width,b.height);this.loadingTimer=setTimeout(function(){throw ("Unable to load SWF file - please check the SWF path")},10000)},getHTML:function(d,a){var c="";var b="id="+this.id+"&width="+d+"&height="+a;if(navigator.userAgent.match(/MSIE/)){var e=location.href.match(/^https/i)?"https://":"http://";c+='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="'+e+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=10,0,0,0" width="'+d+'" height="'+a+'" id="'+this.movieId+'" align="middle"><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="false" /><param name="movie" value="'+ZeroClipboard.moviePath+'" /><param name="loop" value="false" /><param name="menu" value="false" /><param name="quality" value="best" /><param name="bgcolor" value="#ffffff" /><param name="flashvars" value="'+b+'"/><param name="wmode" value="transparent"/></object>'}else{c+='<embed id="'+this.movieId+'" src="'+ZeroClipboard.moviePath+'" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="'+d+'" height="'+a+'" name="'+this.movieId+'" align="middle" allowScriptAccess="always" allowFullScreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="'+b+'" wmode="transparent" />'}return c},hide:function(){if(this.div){this.div.style.left="-2000px"}},show:function(){this.reposition()},destroy:function(){if(this.domElement&&this.div){this.hide();this.div.innerHTML="";var a=document.getElementsByTagName("body")[0];try{a.removeChild(this.div)}catch(b){}this.domElement=null;this.div=null}},reposition:function(c){if(c){this.domElement=ZeroClipboard.$(c);if(!this.domElement){this.hide()}}if(this.domElement&&this.div){var b=ZeroClipboard.getDOMObjectPosition(this.domElement);var a=this.div.style;a.left=""+b.left+"px";a.top=""+b.top+"px"}},clearText:function(){this.clipText="";if(this.ready){this.movie.clearText()}},appendText:function(a){this.clipText+=a;if(this.ready){this.movie.appendText(a)}},setText:function(a){this.clipText=a;if(this.ready){this.movie.setText(a)}},setCharSet:function(a){this.charSet=a;if(this.ready){this.movie.setCharSet(a)}},setBomInc:function(a){this.incBom=a;if(this.ready){this.movie.setBomInc(a)}},setFileName:function(a){this.fileName=a;if(this.ready){this.movie.setFileName(a)}},setAction:function(a){this.action=a;if(this.ready){this.movie.setAction(a)}},addEventListener:function(a,b){a=a.toString().toLowerCase().replace(/^on/,"");if(!this.handlers[a]){this.handlers[a]=[]}this.handlers[a].push(b)},setHandCursor:function(a){this.handCursorEnabled=a;if(this.ready){this.movie.setHandCursor(a)}},setCSSEffects:function(a){this.cssEffects=!!a},receiveEvent:function(d,e){d=d.toString().toLowerCase().replace(/^on/,"");if(this.loadingTimer!==null){clearTimeout(this.loadingTimer);this.loadingTimer=null}switch(d){case"load":this.movie=document.getElementById(this.movieId);if(!this.movie){var c=this;setTimeout(function(){c.receiveEvent("load",null)},1);return}if(!this.ready&&navigator.userAgent.match(/Firefox/)&&navigator.userAgent.match(/Windows/)){var c=this;setTimeout(function(){c.receiveEvent("load",null)},100);this.ready=true;return}this.ready=true;this.movie.clearText();this.movie.appendText(this.clipText);this.movie.setFileName(this.fileName);this.movie.setAction(this.action);this.movie.setCharSet(this.charSet);this.movie.setBomInc(this.incBom);this.movie.setHandCursor(this.handCursorEnabled);break;case"mouseover":if(this.domElement&&this.cssEffects){if(this.recoverActive){this.domElement.addClass("active")}}break;case"mouseout":if(this.domElement&&this.cssEffects){this.recoverActive=false;if(this.domElement.hasClass("active")){this.domElement.removeClass("active");this.recoverActive=true}}break;case"mousedown":if(this.domElement&&this.cssEffects){this.domElement.addClass("active")}break;case"mouseup":if(this.domElement&&this.cssEffects){this.domElement.removeClass("active");this.recoverActive=false}break}if(this.handlers[d]){for(var b=0,a=this.handlers[d].length;b<a;b++){var f=this.handlers[d][b];if(typeof(f)=="function"){f(this,e)}else{if((typeof(f)=="object")&&(f.length==2)){f[0][f[1]](this,e)}else{if(typeof(f)=="string"){window[f](this,e)}}}}}}};